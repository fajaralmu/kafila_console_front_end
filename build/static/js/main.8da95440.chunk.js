(this["webpackJsonpkafila-console-meeting-note"]=this["webpackJsonpkafila-console-meeting-note"]||[]).push([[0],{31:function(e,t,a){},43:function(e,t,a){e.exports=a(76)},48:function(e,t,a){},49:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},56:function(e,t,a){},57:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),s=(a(48),a(1)),o=a(2),c=a(8),u=a(4),m=a(3),d=(a(49),a(9)),p="${contextPath}"==document.getElementById("rootPath").value||""==document.getElementById("rootPath").value,f=p?"/":document.getElementById("rootPath").value+"/",g=function(){var e=p?"http://localhost:8000".concat(f):f;return e},h=(g(),g(),g()),E=h+"api/account/",v=h+"api/accountdashboard/",b=h+"api/notes/",N=function(e){return e.startLoading(),{type:"req_ID",payload:{},meta:{app:e,type:"req_ID",url:v.concat("user")}}},y=function(e){return e.startLoading(),{type:"do_logout",payload:{},meta:{app:e,type:"do_logout",url:v.concat("logout")}}},S=function(e,t,a){return a.startLoading(),{type:"do_login",payload:{user:{email:e,password:t}},meta:{type:"do_login",url:E.concat("login"),app:a}}},O=function(e,t){t.startLoading();var a=e.fieldsFilter;return console.debug("request.fieldsFilter: ",a),{type:"GET_MEETING_NOTES",payload:{filter:{limit:e.limit,page:e.page,fieldsFilter:a,orderBy:e.orderBy,orderType:e.orderType}},meta:{type:"GET_MEETING_NOTES",url:b.concat("list"),app:t}}},D=a(6),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer has-background-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("div",{className:"columns is-mobile is-centered"},r.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("a",{className:"tag is-link",href:"https://kafila.sch.id"},"KIIS Jakarta"),r.a.createElement("span",{className:"tag is-light"},"\xa9 Kafila Console 2020"))))))))}}]),a}(n.Component),k=a(7),w=a(5),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(s.a)(this,a),(n=t.call(this,e)).parentApp=e.app,n.authenticated=i,n.validateLoginStatus=function(){return!i||(1==n.props.loginStatus&&null!=n.props.loggedUser||(n.backToLogin(),!1))},n.getParentApp=function(){return n.props.app},n.getLoggedUser=function(){return n.props.loggedUser},n.getLoggedUserDepartementName=function(){return n.isLoggedUserNull()?null:n.getLoggedUser().departement.name},n.isLoggedUserNull=function(){return 0==n.props.loginStatus||null==n.props.loggedUser},n.showConfirmation=function(e){return new Promise((function(t,a){n.parentApp.showAlert("Confirmation",e,!1,(function(e){t(!0)}),(function(e){t(!1)}))}))},n.showConfirmationDanger=function(e){return new Promise((function(t,a){n.parentApp.showAlertError("Confirmation",e,!1,(function(e){t(!0)}),(function(e){t(!1)}))}))},n.showInfo=function(e){n.parentApp.showAlert("Info",e,!0,(function(){}))},n.showError=function(e){n.parentApp.showAlertError("Error",e,!0,(function(){}))},n.backToLogin=function(){i&&n.props.history.push("/login")},n.startLoading=function(e){n.parentApp.startLoading(e)},n.endLoading=function(){n.parentApp.endLoading()},n.doAjax=function(e,t,a,r,i){if(e){n.startLoading(a);var l=Object(c.a)(n);e(t).then((function(e){r&&r(e)})).catch((function(e){i?i(e):("string"==typeof e&&l.showInfo("Operation Failed: "+e),l.showInfo("resource not found"))})).finally((function(e){n.endLoading()}))}else console.warn("Method Not Found! ")},n.commonAjax=function(e,t,a,r){n.doAjax(e,t,!1,a,r)},n.commonAjaxWithProgress=function(e,t,a,r){n.doAjax(e,t,!0,a,r)},n.title=function(e){return r.a.createElement(I,null,e)},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){null==this.props.loggedUser&&this.backToLogin()}}]),a}(n.Component),I=function(e){return r.a.createElement("h2",{style:{textAlign:"left",marginLeft:"10px"}},e.children)},R=(a(31),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,!1)).state={shownMenuList:{}},n.shownMenuList=function(e){var t=n.state.shownMenuList;t[e]=!0,n.setState({shownMenuList:t})},n.hideMenuList=function(e){var t=n.state.shownMenuList;t[e]=!1,n.setState({shownMenuList:t})},n.isMenuListShown=function(e){return 1==n.state.shownMenuList[e]},n.toggleMenuList=function(e){var t=e.target.getAttribute("menu-name");n.isMenuListShown(t)?n.hideMenuList(t):n.shownMenuList(t)},n}return Object(o.a)(a,[{key:"extractChildren",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];n.authenticated&&this.isLoggedUserNull()||(0==this.isLoggedUserNull()&&null!=n.role&&this.getLoggedUser().role!=n.role||t.push(n))}return t}}]),a}(C)),T=[{name:"Umum",children:[{name:"Home",link:"/home",iconClassName:"fas fa-home"},{name:"Dashboard",link:"/dashboard",iconClassName:"fas fa-tachometer-alt",authenticated:!0}]},{name:"Notulensi",children:[{name:"List",link:"/meetingnote",authenticated:!0,iconClassName:"fas fa-list"},{name:"Tambah Notulensi",link:"/meetingnote/create",authenticated:!0,iconClassName:"fas fa-plus-square"}]},{name:"Aduan",children:[{name:"List",link:"/issues",authenticated:!0,iconClassName:"fas fa-list"},{name:"Tambah",link:"/issues/create",authenticated:!0,iconClassName:"fas fa-plus-square",role:"admin"}]},{name:"Tema Pembahasan",children:[{name:"List",link:"/discussiontopics",authenticated:!0,iconClassName:"fas fa-list"}]},{name:"Master Data",children:[{name:"Menu",link:"/management",authenticated:!0,role:"admin"},{name:"User",link:"/management/users",authenticated:!0,role:"admin",iconClassName:"fas fa-users"},{name:"Bidang",link:"/management/departements",authenticated:!0,role:"admin",iconClassName:"fas fa-object-group"}]}],x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;this.getLoggedUser();return r.a.createElement("div",null,r.a.createElement("aside",{className:"menu"},T.map((function(t,a){var n=e.extractChildren(t.children);if(null==n||0==n.length)return null;var i=e.isMenuListShown(t.name),l=i?"fas fa-angle-up":"fas fa-angle-down";return r.a.createElement(r.a.Fragment,{key:"menu_"+t.name},r.a.createElement("p",{key:t.name,"menu-name":t.name,onClick:e.toggleMenuList,className:"menu-label"},r.a.createElement("i",{style:{marginRight:"10px"},className:l}),t.name),i?r.a.createElement("ul",{className:"menu-list"},n.map((function(e,t){return r.a.createElement("li",{key:"sidebar-menu-child-"+a+"-"+t},r.a.createElement(w.b,{to:e.link},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:e.iconClassName?e.iconClassName:"fas fa-folder"})),r.a.createElement("spam",null,e.name)))}))):null)}))))}}]),a}(R),_=Object(d.f)(Object(D.b)((function(e){return{loginStatus:e.userState.loginStatus,loggedUser:e.userState.loggedUser,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile}}),(function(e){return{}}))(x)),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,!1)).state=Object(k.a)(Object(k.a)({},n.state),{},{showBurger:!1}),n.toggleNavBurger=function(){n.setState({showBurger:!n.state.showBurger})},n.performLogout=function(){var e=n.props;n.showConfirmation("Apakah Anda ingin keluar?").then((function(t){t&&e.performLogout(e.app)}))},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar is-dark topNav"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(w.b,{style:{backgroundColor:"#fff"},className:"navbar-item",to:"/"},r.a.createElement("img",{src:"kiis-stroke.png",width:"38",height:"38"})),r.a.createElement("div",{onClick:this.toggleNavBurger,className:"navbar-burger burger"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{id:"topNav",className:this.state.showBurger?"is-active navbar-menu":" navbar-menu"},r.a.createElement("div",{className:"navbar-start"},T.map((function(t,a){var n=e.extractChildren(t.children);if(null==n||0==n.length)return null;var i=e.isMenuListShown(t.name),l=i?"fas fa-angle-up":"fas fa-angle-down";return r.a.createElement(r.a.Fragment,{key:"NavMenu_"+t.name},r.a.createElement("p",{style:{marginLeft:"10px"},onClick:e.toggleMenuList,"menu-name":t.name,className:"menu-label"},r.a.createElement("i",{style:{marginRight:"10px"},className:l}),t.name,"  "),i?r.a.createElement("ul",{className:"menu-list"},n.map((function(t,n){return r.a.createElement(F,{key:"header-link-"+n+"-"+a,loginStatus:e.props.loginStatus,loggedUser:e.props.loggedUser,linkProperty:t})}))):null)}))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons has-addons"},this.props.loginStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{className:"button is-info",to:"/profile"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("span",null,this.props.loggedUser.display_name," - ",this.props.loggedUser.role)),r.a.createElement("a",{onClick:this.performLogout,className:"button is-danger"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})),r.a.createElement("span",null,"Logout"))):r.a.createElement(w.b,{className:"button is-info",to:"/login"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("span",null,"Login"))))))))}}]),a}(R),F=function(e){var t=e.linkProperty,a=e.loginStatus,n=e.loggedUser,i=t.iconClassName?t.iconClassName:"fas fa-folder";return null==t.link||!a&&t.authenticated||null!=t.role&&null!=n&&n.role!=t.role?null:r.a.createElement(w.b,{key:t.name+"LINK",className:"navbar-item",to:t.link},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:i})),r.a.createElement("span",null,t.name))},A=Object(d.f)(Object(D.b)((function(e){return{loginStatus:e.userState.loginStatus,loggedUser:e.userState.loggedUser,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile}}),(function(e){return{performLogout:function(t){return e(y(t))}}}))(L)),U=(a(56),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!0},n.hide=function(){n.setState({show:!1})},n.show=function(){n.setState({show:!0})},n}return Object(o.a)(a,[{key:"render",value:function(){if(0==this.state.show)return null;var e=this.props.className?"message "+this.props.className:"message is-info";return r.a.createElement("article",{style:{marginBottom:"10px"},id:"my-message",className:e},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,this.props.header?this.props.header:"Info"),r.a.createElement("button",{onClick:this.hide,className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body"},this.props.body))}}]),a}(n.Component)),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).child=r.a.createRef(),n.lastLoginAttempt=new Date,n.state={},n.validateLoginStatus=function(){1==n.props.loginStatus&&n.props.history.push("/dashboard")},n.handleSubmit=function(e){e.preventDefault();var t=e.target,a=(new FormData(e.target),t.elements[0]),r=t.elements[1];n.props.performLogin(a.value,r.value,n.props.app)},n.showLoginInfo=function(){n.props.loginFailed&&n.lastLoginAttempt!=n.props.lastLoginAttempt&&(n.child.current.show(),n.lastLoginAttempt=n.props.lastLoginAttempt)},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus(),this.showLoginInfo()}},{key:"componentDidMount",value:function(){document.title="Login"}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.loginFailed?r.a.createElement(U,{ref:this.child,className:"is-danger",body:"Login Failed"}):null,r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"},className:"column is-5-tablet is-5-desktop is-5-widescreen"},r.a.createElement("form",{id:"formLogin",onSubmit:this.handleSubmit,className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{nam:"email",type:"email",placeholder:"e.g. bobsmith@gmail.com",className:"input",required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-envelope"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{name:"password",type:"password",placeholder:"*******",className:"input",required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-success"},"Login"))))))}}]),a}(n.Component),P=Object(d.f)(Object(D.b)((function(e){return{loginStatus:e.userState.loginStatus,lastLoginAttempt:e.userState.lastLoginAttempt,loginFailed:e.userState.loginFailed,requestId:e.userState.requestId}}),(function(e){return{performLogin:function(t,a,n){return e(S(t,a,n))}}}))(B));a(57);var M=function(e){var t=e.headers,a=e.onButtonOrderClick;return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){var n=e.alias?e.alias:e.text;return r.a.createElement("th",{key:"TH_"+t},function e(t){if(null==t||t.length<=1)return t;var a=new String(t),n=a.split("_");if(n.length>1){for(var r="",i=0;i<n.length;i++){r+=e(n[i])+" "}return r}var l=a.substring(0,1).toUpperCase();return l+=a.substring(1,a.length)}(n),e.withFilter?r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement(q,{type:"text",name:e.text})),r.a.createElement("div",{className:"control",style:{fontSize:"0.7em",backgroundColor:"#ccc"}},r.a.createElement("i",{sort:"asc",onClick:a,data:e.text,className:"fas fa-angle-up sort-button"}),r.a.createElement("i",{sort:"desc",onClick:a,data:e.text,className:"fas fa-angle-down sort-button"}))):null)}))))},q=function(e){var t=e.type?e.type:"text";return r.a.createElement("input",{className:"input form-filter",type:t,name:e.name,id:"input-form-"+e.name})},G=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons has-addons"},r.a.createElement("button",{type:"submit",className:"button is-info"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("span",null,"Apply Filter")),r.a.createElement("button",{type:"reset",className:"button is-danger"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sync"})),r.a.createElement("span",null,"Reset Filter"))))},K=function(e){var t="input input-form-field "+e.className,a=e.orientation?e.orientation:"horizontal";return r.a.createElement("div",{className:"field is-"+a},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Input")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},1==e.required?"textarea"==e.type?r.a.createElement("textarea",{required:!0,className:t+" textarea",id:"input-form-field-"+e.name,name:e.name}):r.a.createElement("input",{required:!0,type:e.type?e.type:"text",id:"input-form-field-"+e.name,name:e.name,className:t}):"textarea"==e.type?r.a.createElement("textarea",{className:t+" textarea",id:"input-form-field-"+e.name,name:e.name}):r.a.createElement("input",{type:e.type?e.type:"text",id:"input-form-field-"+e.name,name:e.name,className:t}),e.note?r.a.createElement("p",null,r.a.createElement("i",null,"Note: ",e.note)):null))))},W=function(e){var t=(null==e.options?[]:e.options).map((function(e,t){return r.a.createElement("option",{key:"select-option-"+t,value:e.value},e.text)}));return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Select")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},1==e.required?r.a.createElement("select",{required:!0,id:"input-form-field-"+e.name,name:e.name,className:"input input-form-field"},t):r.a.createElement("select",{id:"input-form-field-"+e.name,name:e.name,className:"input input-form-field"},t)))))},Y=function(e){return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Label")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},e.children))))},z=function(e){var t=e.submitText?e.submitText:"Submit";return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"}),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-link",type:"submit",style:{marginRight:"10px"}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-save"})),r.a.createElement("span",null,t)),1==e.withReset?r.a.createElement("button",{className:"button is-danger",type:"reset"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sync"})),r.a.createElement("span",null,"Reset")):null)))},J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClick=function(e){n.props.onClick&&n.props.onClick(e)},n}return Object(o.a)(a,[{key:"render",value:function(){for(var e=this,t=V(this.props.limit,this.props.totalData,this.props.activeIndex),a=[],n=0;n<t.length;n++){var i=t[n];a.push({index:i})}return r.a.createElement("div",{className:"buttons",style:{marginTop:"5px",marginBottom:"5px"}},a.map((function(t,a){var n=t.index==e.props.activeIndex?"button is-link":"button is-light";return r.a.createElement("a",{key:"nav_btn_"+a,onClick:function(){e.onClick(t.index)},className:n},t.index)})))}}]),a}(n.Component),V=function(e,t,a){var n=[],r=Math.ceil(t/e),i=a-2,l=a+2;r>1&&n.push(1);for(var s=i;s<=l;s++)s>1&&s<=r&&n.push(s);return l<r&&n.push(r),n},H=J,$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).saveButtonOnClick=function(e){n.props.saveButtonOnClick&&n.props.saveButtonOnClick(e)},n.editButtonOnClick=function(e){n.props.editButtonOnClick&&n.props.editButtonOnClick(e)},n.deleteButtonOnClick=function(e){n.props.deleteButtonOnClick&&n.props.deleteButtonOnClick(e)},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.headerIconClassName,t=this.props.headerIconOnClick;return r.a.createElement("div",{className:"card",style:Object(k.a)({margin:"10px"},this.props.style)},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},this.props.title?this.props.title:"Card Title"),null==e?null:r.a.createElement(Q,{className:e,onClick:t})),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},this.props.children)),this.props.withButtonFooter?r.a.createElement("footer",{className:"card-footer"},r.a.createElement("a",{href:"#",onClick:this.saveButtonOnClick,className:"card-footer-item"},"Save"),r.a.createElement("a",{href:"#",onClick:this.editButtonOnClick,className:"card-footer-item"},"Edit"),r.a.createElement("a",{href:"#",onClick:this.deleteButtonOnClick,className:"card-footer-item"},"Delete")):null,this.props.footerContent?r.a.createElement("footer",{className:"card-footer"},this.props.footerContent):null)}}]),a}(n.Component),Q=function(e){return r.a.createElement("a",{className:"card-header-icon","aria-label":"more options",onClick:e.onClick},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:e.className,"aria-hidden":"true"})))},X=["January","February","March","April","May","June","July","August","September","October","November","December"],Z=function(e){var t=e.split("-"),a=t[2],n=t[1],r=t[0];return a+" "+X[n-1]+" "+r},ee=function(e){return(e.getTime()-(new Date).getTime())/864e5},te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidMount",value:function(){document.title="Dashboard"}},{key:"render",value:function(){return null==this.isLoggedUserNull()?null:r.a.createElement("div",null,r.a.createElement(I,null,"Dashboard"),r.a.createElement($,{title:"Welcome"},r.a.createElement("p",null,this.getLoggedUser().display_name),r.a.createElement("p",null,"Bidang ",this.props.loggedUser.departement.name)))}}]),a}(C),ae=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus,meetingNoteData:e.meetingNoteState.meetingNoteData}}),(function(e){return{getMeetingNotes:function(t,a){return e(O(t,a))}}}))(te)),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){(this.isLoggedUserNull()||"admin"!=this.props.loggedUser.role)&&this.backToLogin()}}]),a}(C),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){(this.isLoggedUserNull()||"admin"!=this.getLoggedUser().role)&&this.backToLogin(),document.title="Management"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,null,"Master Data Menu"),r.a.createElement($,{title:"Menu"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"box has-text-centered"},r.a.createElement("p",null,r.a.createElement("i",{style:{fontSize:"50px"},className:"fas fa-object-group"})),r.a.createElement(w.b,{to:"/management/departements"},"Departements"))),r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"box has-text-centered"},r.a.createElement("p",null,r.a.createElement("i",{style:{fontSize:"50px"},className:"fas fa-users"})),r.a.createElement(w.b,{to:"/management/users"},"Users"))))))}}]),a}(ne),ie=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(re)),le=function(){var e=se(),t={"Content-Type":"application/json"};return null!=e&&""!=e.toString().trim()&&(t.Authorization="Bearer "+e),t},se=function(){return ue("kafila_api_token")},oe=function(e){return console.log("setApiToken: ",e),ce("kafila_api_token",e)},ce=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},ue=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},me=a(23),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null==t?{}:t;return new Promise((function(t,n){me.post(e,a,{headers:le()}).then((function(e){return e.data})).then((function(e){"00"==e.code?t(e):n(e)})).catch((function(e){console.error(e),n(e)}))}))},pe=function(){function e(){var t=this;Object(s.a)(this,e),this.setUsersData=function(e){t.usersData=e},this.storeUser=function(e){var t={code:"user",userModel:e},a=g().concat("api/masterdata/store");return de(a,t)},this.storeIssue=function(e){var t={code:"issue",issue:e},a=g().concat("api/masterdata/store");return de(a,t)},this.viewUser=function(e){var t=g().concat("api/masterdata/view/"+e);return de(t,{code:"user"})},this.userList=function(e){return t.list({code:"user",filter:e})},this.viewIssue=function(e){var t=g().concat("api/masterdata/view/"+e);return de(t,{code:"issue"})},this.issueList=function(e){return t.list({code:"issue",filter:e})},this.storeDepartement=function(e){var t={code:"departement",departement:e},a=g().concat("api/masterdata/store");return de(a,t)},this.viewDepartement=function(e){var t=g().concat("api/masterdata/view/"+e);return de(t,{code:"departement"})},this.deleteRecord=function(e){var t=g().concat("api/masterdata/delete/"+e.id);return de(t,{code:e.code})},this.departementList=function(e){return t.list({code:"departement",filter:e})},this.list=function(e){var t={code:e.code,filter:e.filter},a=g().concat("api/masterdata/list");return de(a,t)},this.usersData=null,this.departementsData=null}return Object(o.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}}]),e}();pe.instance=pe.instance||new pe;var fe=a(42),ge=a(15),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e,n,i){var l,o;return Object(s.a)(this,a),(o=t.call(this,e)).loadRecords=function(){},o.readInputForm=function(){var e=document.getElementById("list-form");if(null!=e){var t=e.getElementsByClassName("form-filter");o.fieldsFilter={};for(var a=0;a<t.length;a++){var n=t[a];null!=n.value&&""!=n.value&&(o.fieldsFilter[n.name]=n.value)}}},o.masterDataServce=pe.instance,o.code=i,o.name=n,o.page=1,o.limit=5,o.count=0,o.orderBy="id",o.orderType="asc",o.fieldsFilter={},o.recordData=null,o.successLoaded=function(e){o.recordData=e},o.errorLoaded=function(e){console.error("Error loading resource: ",e)},o.getRecordDataStored=function(){return null},o.loadRecordByPage=function(e){Object(fe.a)((l=Object(c.a)(o),Object(ge.a)(a.prototype)),"page",e,l,!0),o.loadRecords()},o.onButtonOrderClick=function(e){e.preventDefault(),o.orderBy=e.target.getAttribute("data"),o.orderType=e.target.getAttribute("sort"),o.loadRecords()},o.filter=function(e){o.page=1,o.loadRecords()},o.delete=function(e){var t=Object(c.a)(o);o.showConfirmationDanger("Delete "+o.name+"?").then((function(a){a&&t.deleteRecord(e)}))},o.onSuccessDelete=function(e){o.showConfirmation("Record has been deleted").then(o.loadRecords)},o.onErrorDelete=function(e){o.showError("Error Delete Record")},o.deleteRecord=function(e){o.commonAjax(o.masterDataServce.deleteRecord,{code:o.code,id:e},o.onSuccessDelete,o.onErrorDelete)},o.linkToFormCreate=function(e,t){return r.a.createElement(w.b,{to:e,className:"button is-primary",style:{marginBottom:"10px"}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,t))},o.linkToFormEdit=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r.a.createElement(w.b,{to:e,className:"button is-warning is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-edit"})),t?r.a.createElement("span",null,"Edit"):null)},o.buttonsModifyAndDelete=function(e,t){return r.a.createElement("div",{className:"buttons has-addons"},o.linkToFormEdit(e,!1),o.buttonDeleteRecord(t,!1))},o.buttonDeleteRecord=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r.a.createElement("a",{onClick:function(){return o.delete(e)},className:"button is-danger is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-trash"})),t?r.a.createElement("span",null,"Delete"):null)},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.title=this.name+" Management",this.loadRecords()}}]),a}(ne),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.cells?this.props.cells:[];return r.a.createElement("div",{className:"columns"},e.map((function(e,t){return r.a.createElement("div",{key:"column-"+t,className:"column"},e)})))}}]),a}(n.Component),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"User","user")).loadRecords=function(){n.readInputForm();var e={page:n.page,limit:n.limit,orderBy:n.orderBy,orderType:n.orderType,fieldsFilter:n.fieldsFilter};n.commonAjax(n.masterDataService.userList,e,n.successLoaded,n.errorLoaded)},n.state={showForm:!1},n.departementList=[],n.masterDataService=pe.instance,n.populateDefaultInputs=function(){var e=null!=n.recordData?n.recordData:null;if(null!=e){var t=e.filter.fieldsFilter;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];try{document.getElementById("input-form-"+a).value=r}catch(i){}}}},n}return Object(o.a)(a,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(H,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"render",value:function(){var e=this,t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement(I,null,"Users Management"),r.a.createElement($,{title:"Users"},this.linkToFormCreate("/management/users/create","Tambah Data"),r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(Ee,{cells:[G(),t]}),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{className:"table"},r.a.createElement(be,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",withFilter:!0},{text:"email",withFilter:!0},{text:"display_name",withFilter:!0},{text:"role",withFilter:!0},{text:"departement",withFilter:!0},{text:"action"}]}),r.a.createElement("tbody",null,n.map((function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",{key:"record-user-"+a},r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.display_name),r.a.createElement("td",null,t.role),r.a.createElement("td",null,t.departement?t.departement.name:"-"),r.a.createElement("td",null,e.buttonsModifyAndDelete("/management/users/"+t.id,t.id)))}))))))))}}]),a}(he),be=function(e){return M(e)},Ne=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(ve)),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Departement","departement")).loadRecords=function(){n.readInputForm();var e={page:n.page,limit:n.limit,orderBy:n.orderBy,orderType:n.orderType,fieldsFilter:n.fieldsFilter};n.commonAjax(n.masterDataService.departementList,e,n.successLoaded,n.errorLoaded)},n.state={},n.masterDataService=pe.instance,n.populateDefaultInputs=function(){var e=null!=n.recordData?n.recordData:null;if(null!=e){var t=e.filter.fieldsFilter;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];try{document.getElementById("input-form-"+a).value=r}catch(i){}}}},n}return Object(o.a)(a,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(H,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"render",value:function(){var e=this,t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement(I,null,"Departement Management"),r.a.createElement($,{title:"Departement"},this.linkToFormCreate("/management/departements/create","Tambah Data"),r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(Ee,{cells:[G(),t]}),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{className:"table"},r.a.createElement(Se,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",withFilter:!0},{text:"name",withFilter:!0},{text:"description",withFilter:!0},{text:"action"}]}),r.a.createElement("tbody",null,n.map((function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",{key:"record_"+a},r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description),r.a.createElement("td",null,e.buttonsModifyAndDelete("/management/departements/"+t.id,t.id)))}))))))))}}]),a}(he),Se=function(e){return M(e)},Oe=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(ye)),De=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0,departementList:[]},n.masterDataService=pe.instance,n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Save User?").then((function(e){e&&a.storeRecord(t)}))},n.storeRecord=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={},r=0;r<t.length;r++){var i=t[r];if(null!=i.value&&""!=i.value){var l=i.name;"departement"==l&&(l="departement_id"),a[l]=i.value}}null!=n.getRecordId()&&(a.id=n.getRecordId()),n.store(a),console.debug("USER: ",a)},n.getRecordId=function(){return n.props.match.params.id},n.departementListLoaded=function(e){n.setState({departementList:e.result_list}),null!=n.getRecordId()&&n.loadRecord(),console.log("departementListLoaded: ",e)},n.recordSaved=function(e){n.showInfo("SUCCESS SAVING RECORD"),null==n.getRecordId()&&(n.handleSuccessGetRecord(e),n.props.history.push("/management/users/"+e.user.id))},n.recordFailedToSave=function(e){n.showError("FAILED SAVING RECORD")},n.store=function(e){n.commonAjax(n.masterDataService.storeUser,e,n.recordSaved,n.recordFailedToSave)},n.loadDepartements=function(){n.commonAjax(n.masterDataService.departementList,{},n.departementListLoaded,(function(e){}))},n.handleSuccessGetRecord=function(e){n.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),a=0;a<t.length;a++){var r=t[a];"departement"==r.name?r.value=e.user.departement_id:"password"==r.name?r.value=null:r.value=e.user[r.name]}},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.loadRecord=function(){n.commonAjax(n.masterDataService.viewUser,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadDepartements(),document.title="User Form"}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(U,{className:"is-danger",body:"Record Not Found"});if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Users Management"),r.a.createElement("h3",null,"Please Wait..."));var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/management/users"},"Users"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,r.a.createElement(I,null,"Users Management"),r.a.createElement($,{title:e},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(K,{label:"Email",name:"email",required:!0,type:"email"}),r.a.createElement(K,{label:"Username",name:"name",required:!0}),r.a.createElement(K,{label:"Display Name",name:"display_name",required:!0}),r.a.createElement(K,{label:"Password",name:"password",note:"Kosongkan password apabila tidak ingin diubah"}),r.a.createElement(W,{label:"Departement",options:this.state.departementList.map((function(e){return{value:e.id,text:e.name}})),name:"departement",required:!0}),r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),a}(C),je=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(De)),ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0},n.masterDataService=pe.instance,n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Save Data?").then((function(e){e&&a.storeDepartement(t)}))},n.storeDepartement=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={},r=0;r<t.length;r++){var i=t[r];if(null!=i.value&&""!=i.value)a[i.name]=i.value}null!=n.getRecordId()&&(a.id=n.getRecordId()),n.store(a),console.debug("Departement: ",a)},n.getRecordId=function(){return n.props.match.params.id},n.recordSaved=function(e){n.showInfo("SUCCESS SAVING RECORD"),null==n.getRecordId()&&(n.handleSuccessGetRecord(e),n.props.history.push("/management/departements/"+e.departement.id))},n.recordFailedToSave=function(e){n.showError("FAILED SAVING RECORD")},n.store=function(e){n.commonAjax(n.masterDataService.storeDepartement,e,n.recordSaved,n.recordFailedToSave)},n.handleSuccessGetRecord=function(e){n.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),a=0;a<t.length;a++){var r=t[a];r.value=e.departement[r.name]}},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.loadRecord=function(){n.commonAjax(n.masterDataService.viewDepartement,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.title="Departement Form",null!=this.getRecordId()&&this.loadRecord()}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(U,{className:"is-danger",body:"Record Not Found"});if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Departements Management"),r.a.createElement("h3",null,"Please Wait..."));var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/management/departements"},"Departements"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,r.a.createElement(I,null,"Departements Management"),r.a.createElement($,{title:e},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(K,{label:"Nama",name:"name",required:!0}),r.a.createElement(K,{label:"Deskripsi",name:"description",type:"textarea",required:!0}),r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),a}(C),we=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(ke)),Ce=function e(){Object(s.a)(this,e),this.list=function(e){var t={code:"notes",filter:e},a=g().concat("api/notes/list");return de(a,t)},this.store=function(e){var t={meeting_note:e},a=g().concat("api/notes/store");return de(a,t)},this.view=function(e){var t=g().concat("api/notes/view/"+e);return de(t,{})}};Ce.instance=Ce.instance||new Ce;var Ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onYes=function(e){n.props.onYes&&n.props.onYes(e)},n.onNo=function(e){n.props.onNo&&n.props.onNo(e)},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){try{document.getElementById("button-alert-yes").focus()}catch(e){}}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=(this.props.yesOnly,"modal-card-head has-background-link");return 1==this.props.isError&&(t="modal-card-head has-background-danger"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,null,r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:t},r.a.createElement("p",{className:"modal-card-title has-text-white"},e)),r.a.createElement("section",{className:"modal-card-body"},this.props.children),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("button",{id:"button-alert-yes",type:"submit",onClick:this.onYes,className:this.props.yesOnly||this.props.isError?"button":"button is-link"},"Yes"),this.props.yesOnly?null:r.a.createElement("button",{onClick:this.onNo,className:"button"},"No")))))))}}]),a}(n.Component),Re=function(e){return r.a.createElement("div",{className:"modal is-active has-text-centered",style:{backgroundColor:"rgba(100,100,100,0.7)"}},r.a.createElement("div",{className:"modal-background"}),e.children)},Te=Ie,xe=function e(){Object(s.a)(this,e),this.store=function(e){var t={discussion_topic:e},a=g().concat("api/discussiontopics/store");return de(a,t)},this.list=function(e){var t={code:"discussion_topic",filter:e},a=g().concat("api/discussiontopics/list");return de(a,t)},this.view=function(e){var t=g().concat("api/discussiontopics/view/"+e);return de(t,{})},this.storeAction=function(e){var t={discussion_action:e},a=g().concat("api/discussiontopics/action");return de(a,t)}};xe.instance=xe.instance||new xe;var _e="form-input-meeting-note",Le="discussion_topic_",Fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0,discussionTopicCount:[1],showFormDiscussionTopicInEditMode:!1},n.discussionTopicService=xe.instance,n.form_temporary_inputs={},n.meetingNote={discussion_topics:[]},n.isSubmitting=!1,n.meetingNoteService=Ce.instance,n.getRecordId=function(){return n.props.match.params.id},n.getMaxDiscussionTopicID=function(){for(var e=n.state.discussionTopicCount,t=0,a=0;a<e.length;a++){var r=e[a];r>t&&(t=r)}return t},n.addDiscussionTopic=function(){if(null==n.getRecordId()||null==n.meetingNote){var e=n.state.discussionTopicCount;n.saveFormTemporaryInputs(),e.push(n.getMaxDiscussionTopicID()+1),n.setState({discussionTopicCount:e})}else n.setState({showFormDiscussionTopicInEditMode:!0})},n.isDiscussionTopicClosed=function(e){if(null==n.meetingNote||null==n.meetingNote.discussion_topics)return!1;for(var t=0;t<n.meetingNote.discussion_topics.length;t++){var a=n.meetingNote.discussion_topics[t];if(a.id==e&&a.is_closed)return!0}return!1},n.removeDiscussionTopic=function(e){n.saveFormTemporaryInputs();var t=Object(c.a)(n);n.showConfirmationDanger("Remove discussion topic ("+e+")? ").then((function(a){a&&t.doRemoveDiscussionTopic(e)}))},n.doRemoveDiscussionTopic=function(e){for(var t=n.state.discussionTopicCount,a=null,r=0;r<t.length;r++){if(t[r]==e){a=r;break}}null!=a&&(t.splice(a,1),n.setState({discussionTopicCount:t}),n.setFormTemporaryInputs())},n.setFormTemporaryInputs=function(){console.debug("setTempDiscussionTopicValues: ",n.form_temporary_inputs);var e=document.getElementById(_e);if(null!=e)for(var t=e.getElementsByClassName("input-form-field"),a=0;a<t.length;a++){var r=t[a];null!=n.form_temporary_inputs[r.name]?r.value=n.form_temporary_inputs[r.name]:r.value=null,null!=n.getRecordId()&&r.setAttribute("disabled","disabled")}},n.saveFormTemporaryInputs=function(){n.form_temporary_inputs={};for(var e=document.getElementById(_e).getElementsByClassName("input-form-field"),t=0;t<e.length;t++){var a=e[t];null!=a.value&&""!=a.value&&(n.form_temporary_inputs[a.name]=a.value)}console.debug("SAVED TEMP: ",n.form_temporary_inputs)},n.onSubmit=function(e){if(e.preventDefault(),null==n.getRecordId()){n.saveFormTemporaryInputs(),n.isSubmitting=!0;var t=e.target,a=Object(c.a)(n);n.showConfirmation("Submit Data?").then((function(e){e&&a.fillDataAndStore(t),a.isSubmitting=!1}))}},n.onSubmitDiscussionTopic=function(e){e.preventDefault();var t=e.target;if(window.confirm("Submit Data?")&&null!=n.meetingNote){for(var a=t.getElementsByClassName("input-form-field"),r={note_id:n.meetingNote.id},i=0;i<a.length;i++){var l=a[i];r[l.name]=l.value}console.debug("SUBMIT:",r),n.storeDiscussionTopic(r)}},n.fillDataAndStore=function(e){var t=e.getElementsByClassName("input-form-field");n.meetingNote={discussion_topics:[]};for(var a=-1,r=-1,i=0;i<t.length;i++){var l=t[i],s=l.name;if(null!=l.value&&""!=l.value)if(s.startsWith(Le)){var o=Ue(s);o.index!=a&&(n.meetingNote.discussion_topics.push({}),a=o.index,r++),n.meetingNote.discussion_topics[r][o.name]=l.value}else n.meetingNote[s]=l.value}null!=n.getRecordId()&&(n.meetingNote.id=n.getRecordId()),console.debug("meetingNote: ",n.meetingNote),n.storeMeetingNote()},n.recordSaved=function(e){n.showInfo("SUCCESS");try{null==n.getRecordId()&&(n.props.history.push("/meetingnote/"+e.meeting_note.id),n.handleSuccessGetRecord(e))}catch(t){console.error(t)}},n.handleErrorSubmit=function(e){n.showError("handleErrorSubmit: "+e)},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.handleSuccessGetRecord=function(e){n.meetingNote=e.meeting_note;for(var t=n.meetingNote.discussion_topics,a=[],r=0;r<t.length;r++){var i=t[r];a.push(i.id)}for(var l in n.form_temporary_inputs={},n.meetingNote)if(n.meetingNote.hasOwnProperty(l)){var s=n.meetingNote[l];if("discussion_topics"==l)continue;n.form_temporary_inputs[l]=s}for(var o=0;o<n.meetingNote.discussion_topics.length;o++){var c=n.meetingNote.discussion_topics[o];for(var u in c)if(c.hasOwnProperty(u)){var m=c[u];n.form_temporary_inputs[Le+c.id+"_"+u]=m}}n.setState({discussionTopicCount:a,isLoadingRecord:!1})},n.enableInputs=function(){for(var e=document.getElementById(_e),t=e.getElementsByClassName("input-form-field"),a=0;a<t.length;a++){t[a].removeAttribute("disabled")}0==n.isSubmitting&&e.reset()},n.discussionTopicSaved=function(e){alert("SUCCESSS"),n.setState({showFormDiscussionTopicInEditMode:!1}),n.loadRecord()},n.handleErrorSubmitDiscussionTopic=function(e){alert("Error Update Discussion Topic: "+e)},n.storeDiscussionTopic=function(e){n.commonAjax(n.discussionTopicService.store,e,n.discussionTopicSaved,n.handleErrorSubmitDiscussionTopic)},n.storeMeetingNote=function(){n.commonAjax(n.meetingNoteService.store,n.meetingNote,n.recordSaved,n.handleErrorSubmit)},n.loadRecord=function(){n.commonAjax(n.meetingNoteService.view,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidMount",value:function(){document.title="Notulensi",null!=this.getRecordId()&&this.loadRecord()}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus(),null==this.getRecordId()&&this.enableInputs(),null==this.getRecordId()&&null!=this.meetingNote&&(this.meetingNote=null,this.form_temporary_inputs={},this.setState({discussionTopicCount:[1]})),this.setFormTemporaryInputs()}},{key:"render",value:function(){var e=this;if(null==this.isLoggedUserNull())return null;var t=this.title("Notulensi Rapat");if(this.state.recordNotFound)return r.a.createElement("div",null,t,r.a.createElement(U,{className:"is-danger",body:"Record Not Found"}));if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,t,r.a.createElement("h3",null,"Please Wait..."));var a="";a=null!=this.meetingNote&&null!=this.meetingNote.user?this.meetingNote.user.display_name:this.getLoggedUser().display_name;var n=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/meetingnote"},"Notulensi"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,t,this.state.showFormDiscussionTopicInEditMode?r.a.createElement(Ae,{onSubmit:this.onSubmitDiscussionTopic,onClose:function(t){return e.setState({showFormDiscussionTopicInEditMode:!1})}}):null,r.a.createElement("form",{id:_e,onSubmit:this.onSubmit,style:{marginTop:"20px"}},r.a.createElement($,{title:n},null!=this.getRecordId()&&null!=this.meetingNote?r.a.createElement(Ke,{meetingNote:this.meetingNote}):null,r.a.createElement(Ge,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(Ge,{required:!0,label:"Tempat",name:"place"}),r.a.createElement(Y,{label:"Tema Pembahasan"},r.a.createElement("span",{className:"tag is-dark"},r.a.createElement("b",null,this.state.discussionTopicCount.length))),r.a.createElement(Y,{label:"Notulis"},a)),this.state.discussionTopicCount.map((function(t,a){var n=e.isDiscussionTopicClosed(t),i="Tema Pembahasan #"+(a+1);return r.a.createElement($,{title:i,key:"disc_topic_field_"+a},n?r.a.createElement("span",{className:"tag is-primary"},r.a.createElement("i",{className:"fas fa-check"}),"\xa0Closed"):null,null==e.getRecordId()&&e.state.discussionTopicCount.length>1?r.a.createElement(Be,{id:t,removeDiscussionTopic:e.removeDiscussionTopic}):null,r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Pembahasan",name:Le+t+"_content",type:"textarea"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Keputusan",name:Le+t+"_decision",type:"textarea"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Deadline",name:Le+t+"_deadline_date",type:"date"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Penganggung Jawab",name:Le+t+"_person_in_charge"}),null!=e.getRecordId()?r.a.createElement(qe,{id:t}):null)})),r.a.createElement(Me,{addDiscussionTopic:this.addDiscussionTopic}),null==this.getRecordId()?r.a.createElement($,{title:"Action"},r.a.createElement(z,{submitText:"Create",withReset:!0})):null))}}]),a}(C),Ae=function(e){return r.a.createElement(Re,null,r.a.createElement("div",{className:"container"},r.a.createElement($,{title:"Tambah Tema Pembahasan",headerIconClassName:"fas fa-times",headerIconOnClick:e.onClose},r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Pembahasan",name:"content",type:"textarea"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Keputusan",name:"decision",type:"textarea"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Deadline",name:"deadline_date",type:"date"}),r.a.createElement(Ge,{className:"discussion-topic",required:!0,label:"Penganggung Jawab",name:"person_in_charge"}),r.a.createElement(z,null)),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("a",{className:"button",onClick:e.onClose},"Close"))))))},Ue=function(e){var t={index:0,name:null},a=e.split(Le)[1].split("_");return t.index=parseInt(a[0]),t.name=e.split(Le+t.index+"_")[1],t},Be=function(e){return r.a.createElement("a",{className:"button is-danger is-outlined",onClick:function(t){return e.removeDiscussionTopic(e.id)}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("span",null,"Remove"))},Pe=function(e){var t=e.meetingNote;if(null==t)return null;var a=t.discussion_topics;if(null==a)return null;for(var n=0,i=0;i<a.length;i++){a[i].is_closed&&n++}return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{border:"none"}},r.a.createElement("div",{className:"tags has-addons are-small"},r.a.createElement("span",{className:"tag is-light"},"Closed"),r.a.createElement("span",{className:"tag is-info"},n))),r.a.createElement("td",{style:{border:"none"}},r.a.createElement("div",{className:"tags has-addons are-small"},r.a.createElement("span",{className:"tag is-light"},"Not Closed"),r.a.createElement("span",{className:"tag is-danger"},a.length-n))))))},Me=function(e){return r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("a",{className:"button is-primary is-outlined",onClick:e.addDiscussionTopic,style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,"Tambah Tema Pembahasan")))},qe=function(e){var t=e.id;return r.a.createElement("div",{className:"buttons has-addons"},r.a.createElement(w.b,{to:"/discussiontopics/"+t,className:"button is-warning"},r.a.createElement("i",{className:"fas fa-edit"}),"\xa0Edit"),r.a.createElement(w.b,{to:"/discussiontopics/"+t+"/action",className:"button is-primary"},r.a.createElement("i",{className:"fas fa-location-arrow"}),"\xa0Konfirmasi"))},Ge=function(e){return K(e)},Ke=function(e){var t=e.meetingNote;return r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement(Pe,{meetingNote:t})),r.a.createElement("div",{className:"level-right"},r.a.createElement("span",{className:"tag is-primary is-medium"},t.departement.name))))},We=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(Fe)),Ye=function e(t){Object(s.a)(this,e),this.updateProfile=function(e){var t={userModel:e},a=g().concat("api/accountdashboard/updateprofile");return de(a,t)}};Ye.instance=Ye.instance||new Ye;var ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n.userService=Ye.instance,n.populateForm=function(){for(var e=document.getElementById("form-profile").getElementsByClassName("input-form-field"),t=n.props.loggedUser,a=0;a<e.length;a++){var r=e[a];"password"==r.name?r.value=null:r.value=t[r.name]}},n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Update Profile?").then((function(e){e&&a.updateProfile(t)}))},n.updateProfile=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={},r=0;r<t.length;r++){var i=t[r];if(null!=i.value&&""!=i.value)a[i.name]=i.value}n.commonAjax(n.userService.updateProfile,a,n.onSubmitSuccess,n.onSubmitError)},n.onSubmitSuccess=function(e){n.showInfo("Update Profile Success"),n.props.requestAppId(n.getParentApp())},n.onSubmitError=function(e){n.showError("Update Profile Failed")},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),document.title="Profile",this.populateForm()}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){var e=this.props.loggedUser;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",null,r.a.createElement(I,null,"Profile"),r.a.createElement($,{title:"Update Profile"},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-profile"},r.a.createElement(K,{label:"Email",name:"email",required:!0,type:"email"}),r.a.createElement(K,{label:"Username",name:"name",required:!0}),r.a.createElement(K,{label:"Display Name",name:"display_name",required:!0}),r.a.createElement(K,{label:"Password",name:"password",note:"Kosongkan password apabila tidak ingin diubah"}),r.a.createElement(Y,{label:"Departement"},e.departement?e.departement.name:""),r.a.createElement(z,{submitText:"Update"}))))}}]),a}(C),Je=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{requestAppId:function(t){return e(N(t))}}}))(ze)),Ve=function e(){Object(s.a)(this,e),this.list=function(e){var t={code:"issue",filter:e},a=g().concat("api/issues/list");return de(a,t)},this.view=function(e){var t=g().concat("api/issues/view/"+e);return de(t,{})},this.delete=function(e){var t=g().concat("api/issues/delete/"+e);return de(t,{})},this.followUpIssue=function(e){var t={followed_up_issue:e},a=g().concat("api/issues/followup");return de(a,t)}};Ve.instance=Ve.instance||new Ve;var He=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Aduan","issue")).loadRecords=function(){n.readInputForm();var e={page:n.page,limit:n.limit,orderBy:n.orderBy,orderType:n.orderType,fieldsFilter:n.fieldsFilter};n.commonAjax(n.issueService.list,e,n.successLoaded,n.errorLoaded)},n.state={},n.issueService=Ve.instance,n.deleteRecord=function(e){n.commonAjax(n.issueService.delete,e,n.onSuccessDelete,n.onErrorDelete)},n}return Object(o.a)(a,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(H,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(this.loadRecords(),document.title="Daftar Aduan")}},{key:"componentDidUpdate",value:function(){this.isLoggedUserNull()&&this.backToLogin()}},{key:"render",value:function(){var e=this;if(this.isLoggedUserNull())return null;var t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list,i="admin"==this.props.loggedUser.role;return r.a.createElement("div",null,r.a.createElement(I,null,"Daftar Aduan"),r.a.createElement($,{title:"Daftar Aduan"},i?this.linkToFormCreate("/issues/create","Tambah Aduan"):null,r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(Ee,{cells:[G(),t]}),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{className:"table"},r.a.createElement(M,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",withFilter:!0},{text:"date",withFilter:!0},{text:"place",withFilter:!0},{text:"content",withFilter:!0},{text:"issuer",withFilter:!0},{text:"email",withFilter:!0},{text:"departement",withFilter:!0},{text:"issue_input",withFilter:!0},{text:"is_closed",alias:"Status",withFilter:!0},{text:"closed_date",alias:"Closed",withFilter:!0},{text:"action"}]}),r.a.createElement("tbody",null,n.map((function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",{key:"record_"+a},r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.place),r.a.createElement("td",null,t.content&&t.content.length>10?t.content.substring(0,10)+"...":t.content),r.a.createElement("td",null,t.issuer),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.departement.name),r.a.createElement("td",null,t.issue_input),r.a.createElement("td",null,1==t.is_closed?r.a.createElement("span",{className:"tag is-info"},"Closed"):r.a.createElement("span",{className:"tag is-warning"},"Not Closed")),r.a.createElement("td",null,t.closed_date),r.a.createElement("td",null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/issues/"+t.id,className:"button is-small"},r.a.createElement("i",{className:"fas fa-edit"})),e.buttonDeleteRecord(t.id,!1)):null,r.a.createElement(w.b,{to:"/issues/"+t.id+"/followup",className:"button is-primary is-small"},r.a.createElement("i",{className:"fas fa-location-arrow"}))))}))))))))}}]),a}(he),$e=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(He)),Qe=["Yayasan","Orang Tua","Santri","Tamu"],Xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0,departementList:[]},n.masterDataService=pe.instance,n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Save Data?").then((function(e){e&&a.storeRecord(t)}))},n.storeRecord=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={},r=0;r<t.length;r++){var i=t[r];if(null!=i.value&&""!=i.value){var l=i.name;"departement"==l&&(l="departement_id"),a[l]=i.value}}null!=n.getRecordId()&&(a.id=n.getRecordId()),n.store(a),console.debug("ISSUE: ",a)},n.getRecordId=function(){return n.props.match.params.id},n.departementListLoaded=function(e){n.setState({departementList:e.result_list}),null!=n.getRecordId()&&n.loadRecord(),console.log("departementListLoaded: ",e)},n.recordSaved=function(e){n.showInfo("SUCCESS SAVING RECORD"),null==n.getRecordId()&&(n.handleSuccessGetRecord(e),n.props.history.push("/issues/"+e.issue.id))},n.recordFailedToSave=function(e){n.showError("FAILED SAVING RECORD")},n.store=function(e){n.commonAjax(n.masterDataService.storeIssue,e,n.recordSaved,n.recordFailedToSave)},n.loadDepartements=function(){n.commonAjax(n.masterDataService.departementList,{},n.departementListLoaded,(function(e){}))},n.handleSuccessGetRecord=function(e){n.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),a=0;a<t.length;a++){var r=t[a];"departement"==r.name?r.value=e.issue.departement_id:r.value=e.issue[r.name]}},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.loadRecord=function(){n.commonAjax(n.masterDataService.viewIssue,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(this.loadDepartements(),document.title="Form Aduan")}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(U,{className:"is-danger",body:"Record Not Found"});if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Form Aduan"),r.a.createElement("h3",null,"Please Wait..."));var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/issues"},"Aduan"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,r.a.createElement(I,null,"Form Aduan"),r.a.createElement($,{title:e},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(K,{label:"Tanggal",name:"date",type:"date",required:!0}),r.a.createElement(K,{label:"Tempat",name:"place",required:!0}),r.a.createElement(K,{label:"Permasalahan",name:"content",type:"textarea",required:!0}),r.a.createElement(K,{label:"Email",name:"email",required:!0,type:"email"}),r.a.createElement(K,{label:"Sumber Aduan",name:"issue_input",required:!0}),r.a.createElement(W,{label:"Pengadu",options:Qe.map((function(e){return{value:e,text:e}})),name:"issuer",required:!0}),r.a.createElement(W,{label:"Departement",options:this.state.departementList.map((function(e){return{value:e.id,text:e.name}})),name:"departement",required:!0}),r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),a}(ne),Ze=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(Xe)),et=function(e){var t=e.className,a=e.iconClassName;return r.a.createElement("a",{className:"button "+t,onClick:e.onClick},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:a})),r.a.createElement("spam",null,e.children))},tt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0,showDetailIssue:!0},n.issue={},n.issueService=Ve.instance,n.getRecordId=function(){return n.props.match.params.id},n.hideDetailIssue=function(){n.setState({showDetailIssue:!1})},n.showDetailIssue=function(){n.setState({showDetailIssue:!0})},n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Submit Data?").then((function(e){e&&a.fillDataAndStore(t)}))},n.fillDataAndStore=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={issue_id:n.issue.id},r=0;r<t.length;r++){var i=t[r];null!=i.value&&""!=i.value&&(a[i.name]=i.value)}console.debug("issue action>>",a),n.storeAction(a)},n.handleSuccessSubmit=function(e){n.issue.follow_up=e.followed_up_issue,n.issue.is_closed=!0,n.showInfo("SUCCESS");try{null==n.getRecordId()&&document.getElementById("form-input-follow-up-issue").reset()}catch(t){}},n.handleErrorSubmit=function(e){n.showError("handleErrorSubmit: "+e)},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.handleSuccessGetRecord=function(e){n.issue=e.issue,n.setState({isLoadingRecord:!1,recordNotFound:!1})},n.storeAction=function(e){n.commonAjax(n.issueService.followUpIssue,e,n.handleSuccessSubmit,n.handleErrorSubmit)},n.loadRecord=function(){n.commonAjax(n.issueService.view,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n.isClosed=function(){return null!=n.getRecordId()&&null!=n.issue&&1==n.issue.is_closed},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(document.title="Follow Up Issue",null==this.getRecordId()&&this.backToLogin(),this.loadRecord())}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(U,{className:"is-danger",body:"Record Not Found"});if(this.state.isLoadingRecord)return r.a.createElement("h3",null,"Please Wait...");if(this.isLoggedUserNull())return null;var e=this.issue.is_closed;return r.a.createElement("div",null,r.a.createElement(I,null,"Tindak Lanjut Aduan"),r.a.createElement($,{title:"Detail Aduan"},r.a.createElement("div",{className:"tags has-addons are-medium"},r.a.createElement("span",{className:"tag is-dark"},"Status"),r.a.createElement("span",{className:"tag "+(e?"is-info":"is-warning")},e?"Closed":"Not Closed")),this.state.showDetailIssue?r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Aduan"),r.a.createElement("button",{onClick:this.hideDetailIssue,className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(Y,{label:"Waktu dan Tempat"},r.a.createElement("p",null,this.issue.place,", ",Z(this.issue.date))),r.a.createElement(Y,{label:"Bidang"},r.a.createElement("p",null,this.issue.departement.name)),r.a.createElement(Y,{label:"Permasalahan"},r.a.createElement("p",null,this.issue.content)),r.a.createElement(Y,{label:"Pengadu"},r.a.createElement("p",null,this.issue.email,", ",this.issue.issuer)),r.a.createElement(Y,{label:"Sumber Input"},r.a.createElement("p",null,this.issue.issue_input)))):r.a.createElement(et,{iconClassName:"fas fa-angle-down",onClick:this.showDetailIssue},"Detail Aduan")),r.a.createElement($,{title:"Formulir Tindak Lanjut"},null==this.issue.follow_up?r.a.createElement("form",{id:"form-input-follow-up-issue",onSubmit:this.onSubmit},r.a.createElement(at,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(at,{required:!0,label:"Keterangan",name:"description",type:"textarea"}),r.a.createElement(z,{submitText:"Submit",withReset:!0})):r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Tindak Lanjut")),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(Y,{label:"Tanggal"},r.a.createElement("p",null,this.issue.follow_up.date)),r.a.createElement(Y,{label:"Keterangan"},r.a.createElement("p",null,this.issue.follow_up.description))))))}}]),a}(C),at=function(e){return K(e)},nt=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(tt)),rt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0},n.discussionTopicService=xe.instance,n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Save Data?").then((function(e){e&&a.storeRecord(t)}))},n.storeRecord=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={},r=0;r<t.length;r++){var i=t[r];if(null!=i.value&&""!=i.value)a[i.name]=i.value}null!=n.getRecordId()&&(a.id=n.getRecordId()),n.store(a),console.debug("discussionTopic: ",a)},n.getRecordId=function(){return n.props.match.params.id},n.recordSaved=function(e){n.showInfo("SUCCESS SAVING RECORD"),null==n.getRecordId()&&(n.handleSuccessGetRecord(e),n.props.history.push("/discussiontopics/"+e.discussion_topic.id))},n.recordFailedToSave=function(e){n.showError("FAILED SAVING RECORD")},n.store=function(e){n.commonAjax(n.discussionTopicService.store,e,n.recordSaved,n.recordFailedToSave)},n.handleSuccessGetRecord=function(e){n.recordData=e,n.discussionTopic=e.discussion_topic,n.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),a=0;a<t.length;a++){var r=t[a];r.value=n.discussionTopic[r.name],0==n.isClosed()&&"content"!=r.name&&"decision"!=r.name&&r.setAttribute("disabled","disabled"),1==n.isClosed()&&r.setAttribute("disabled","disabled")}},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.loadRecord=function(){n.commonAjax(n.discussionTopicService.view,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n.isClosed=function(){return null!=n.getRecordId()&&null!=n.discussionTopic&&1==n.discussionTopic.is_closed},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(null!=this.getRecordId()&&this.loadRecord(),document.title="Form Tema Pembahasan")}},{key:"render",value:function(){var e=this.title("Form Tema Pembahasan");if(this.state.recordNotFound)return r.a.createElement("div",null,e,r.a.createElement(U,{className:"is-danger",body:"Record Not Found"}));if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,e,r.a.createElement("h3",null,"Please Wait..."));var t=r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/discussiontopics"},"Tema Pembahasan"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form"),a=this.discussionTopic.is_closed;return r.a.createElement("div",null,e,r.a.createElement($,{title:t},null!=this.getRecordId()&&null!=this.discussionTopic?r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"tags has-addons are-medium"},r.a.createElement("span",{className:"tag is-dark"},"Status"),r.a.createElement("span",{className:"tag "+(a?"is-info":"is-warning")},1==a?"Closed":"Not Closed"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("span",{className:"tag is-primary is-medium"},null==this.discussionTopic.departement?null:this.discussionTopic.departement.name))):null,r.a.createElement(it,{note_id:this.discussionTopic.note_id}),r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(K,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(K,{required:!0,label:"Pembahasan",name:"content",type:"textarea"}),r.a.createElement(K,{required:!0,label:"Keputusan",name:"decision",type:"textarea"}),r.a.createElement(K,{required:!0,label:"Deadline",name:"deadline_date",type:"date"}),r.a.createElement(K,{required:!0,label:"Penganggung Jawab",name:"person_in_charge"}),this.isClosed()?null:r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),a}(he),it=function(e){e.note_id;return r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement(w.b,{to:"/meetingnote/"+e.note_id,className:"button is-info"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-clipboard"})),r.a.createElement("span",null,"Detail Notulensi")))},lt=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}))(rt)),st=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={recordNotFound:!1,isLoadingRecord:!0,showDetailDiscussionTopic:!0},n.discussionTopic={},n.discussionTopicSerivce=xe.instance,n.getRecordId=function(){return n.props.match.params.id},n.hideDetailIssue=function(){n.setState({showDetailDiscussionTopic:!1})},n.showDetailDiscussionTopic=function(){n.setState({showDetailDiscussionTopic:!0})},n.onSubmit=function(e){e.preventDefault();var t=e.target,a=Object(c.a)(n);n.showConfirmation("Submit Data?").then((function(e){e&&a.fillDataAndStore(t)}))},n.fillDataAndStore=function(e){for(var t=e.getElementsByClassName("input-form-field"),a={topic_id:n.discussionTopic.id},r=0;r<t.length;r++){var i=t[r];null!=i.value&&""!=i.value&&(a[i.name]=i.value)}console.debug("issue action>>",a),n.storeAction(a)},n.handleSuccessSubmit=function(e){n.discussionTopic.action=e.discussion_action,n.discussionTopic.is_closed=!0,n.showInfo("SUCCESS");try{null==n.getRecordId()&&document.getElementById("form-input-discussion-action").reset()}catch(t){}},n.handleErrorSubmit=function(e){n.showError("handleErrorSubmit: "+e)},n.handleErrorGetRecord=function(e){n.setState({recordNotFound:!0})},n.handleSuccessGetRecord=function(e){n.discussionTopic=e.discussion_topic,n.setState({isLoadingRecord:!1,recordNotFound:!1})},n.storeAction=function(e){n.commonAjax(n.discussionTopicSerivce.storeAction,e,n.handleSuccessSubmit,n.handleErrorSubmit)},n.loadRecord=function(){n.commonAjax(n.discussionTopicSerivce.view,n.getRecordId(),n.handleSuccessGetRecord,n.handleErrorGetRecord)},n.isClosed=function(){return null!=n.getRecordId()&&null!=n.discussionTopic&&1==n.discussionTopic.is_closed},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(document.title="Konfirmasi Tema Pembahasan",null==this.getRecordId()&&this.backToLogin(),this.loadRecord())}},{key:"render",value:function(){if(null==this.props.loggedUser)return null;var e=this.title("Penyelesaian/Pelaksanaan Keputusan");if(this.state.recordNotFound)return r.a.createElement("div",null,e,r.a.createElement(U,{className:"is-danger",body:"Record Not Found"}));if(this.state.isLoadingRecord)return r.a.createElement("div",null,e,r.a.createElement("h3",null,"Please Wait..."));var t=this.discussionTopic.is_closed;return r.a.createElement("div",null,e,r.a.createElement($,{title:"Detail Tema Pembahasan"},r.a.createElement("div",{className:"tags has-addons are-medium"},r.a.createElement("span",{className:"tag is-dark"},"Status"),r.a.createElement("span",{className:"tag "+(t?"is-info":"is-warning")},t?"Closed":"Not Closed")),r.a.createElement(it,{note_id:this.discussionTopic.note_id}),this.state.showDetailDiscussionTopic?r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Tema Pembahasan"),r.a.createElement("button",{onClick:this.hideDetailIssue,className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(Y,{label:"Waktu"},r.a.createElement("p",null,Z(this.discussionTopic.date))),r.a.createElement(Y,{label:"Bidang"},r.a.createElement("p",null,this.discussionTopic.departement.name)),r.a.createElement(Y,{label:"Pembahasan"},r.a.createElement("p",null,this.discussionTopic.content)),r.a.createElement(Y,{label:"Keputusan"},r.a.createElement("p",null,this.discussionTopic.decision)),r.a.createElement(Y,{label:"Deadline"},r.a.createElement("p",null,Z(this.discussionTopic.deadline_date))),r.a.createElement(Y,{label:"Penganggung Jawab"},r.a.createElement("p",null,this.discussionTopic.person_in_charge)))):r.a.createElement(et,{onClick:this.showDetailDiscussionTopic,iconClassName:"fas fa-angle-down"},"Detail Tema Pembahasan")),r.a.createElement($,{title:"Penyelesaian/Pelaksanaan Keputusan"},null==this.discussionTopic.action?r.a.createElement("form",{id:"form-input-discussion-action",onSubmit:this.onSubmit},r.a.createElement(ot,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(ot,{required:!0,label:"Keterangan",name:"description",type:"textarea"}),r.a.createElement(z,{submitText:"Submit",withReset:!0})):r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Tindak Lanjut")),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(Y,{label:"Tanggal"},r.a.createElement("p",null,this.discussionTopic.action.date)),r.a.createElement(Y,{label:"Keterangan"},r.a.createElement("p",null,this.discussionTopic.action.description))))))}}]),a}(C),ot=function(e){return K(e)},ct=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(st)),ut=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Topik Pembahasan","discussiontopic")).loadRecords=function(){n.readInputForm();var e={page:n.page,limit:n.limit,orderBy:n.orderBy,orderType:n.orderType,fieldsFilter:n.fieldsFilter};n.commonAjax(n.discussionTopicService.list,e,n.successLoaded,n.errorLoaded)},n.state={},n.discussionTopicService=xe.instance,n.deleteRecord=function(e){},n}return Object(o.a)(a,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(H,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(this.loadRecords(),document.title="Daftar Tema Pembahasan")}},{key:"componentDidUpdate",value:function(){(0==this.props.loginStatus||this.isLoggedUserNull())&&this.backToLogin()}},{key:"render",value:function(){var e=this;if(null==this.props.loggedUser)return null;var t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Daftar Tema Pembahasan"),r.a.createElement($,{title:"Daftar Tema Pembahasan"},r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(Ee,{cells:[G(),t]}),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{className:"table"},r.a.createElement(M,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",alias:"Id",withFilter:!0},{text:"date",alias:"Tanggal",withFilter:!0},{text:"content",alias:"Pembahasan",withFilter:!0},{text:"decision",alias:"Keputusan",withFilter:!0},{text:"deadline_date",alias:"Deadline",withFilter:!0},{text:"departement",alias:"Bidang",withFilter:!0},{text:"is_closed",alias:"Status",withFilter:!0},{text:"closed_date",alias:"Closed",withFilter:!0},{text:"action"},{text:"opsi"}]}),r.a.createElement("tbody",null,n.map((function(t,a){var n=(e.page-1)*e.limit,i=Date.parse(t.deadline_date),l={};try{var s=ee(new Date(i));0==t.is_closed&&s<=3&&s>0?l.backgroundColor="orange":0==t.is_closed&&s<0&&(l.backgroundColor="red")}catch(o){}return r.a.createElement("tr",{key:"record_"+a,style:l},r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.content&&t.content.length>10?t.content.substring(0,10)+"...":t.content),r.a.createElement("td",null,t.decision&&t.decision.length>10?t.decision.substring(0,10)+"...":t.decision),r.a.createElement("td",null,t.deadline_date),r.a.createElement("td",null,t.departement.name),r.a.createElement("td",null,1==t.is_closed?r.a.createElement("span",{className:"tag is-info"},"Closed"):r.a.createElement("span",{className:"tag is-warning"},"Not Closed")),r.a.createElement("td",null,t.closed_date),r.a.createElement("td",null,r.a.createElement(mt,{id:t.id})),r.a.createElement("td",null,r.a.createElement(w.b,{to:"/meetingnote/"+t.note_id,className:"button is-light is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-clipboard"})),r.a.createElement("span",null,"Notulensi"))))}))))))))}}]),a}(he),mt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.b,{to:"/discussiontopics/"+e.id,className:"button is-small"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement(w.b,{to:"/discussiontopics/"+e.id+"/action",className:"button is-primary is-small"},r.a.createElement("i",{className:"fas fa-location-arrow"})))},dt=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(ut)),pt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e,"Notulensi","notes")).loadRecords=function(){n.readInputForm();var e={page:n.page,limit:n.limit,orderBy:n.orderBy,orderType:n.orderType,fieldsFilter:n.fieldsFilter};n.commonAjax(n.meetingNoteService.list,e,n.successLoaded,n.errorLoaded)},n.state={},n.meetingNoteService=Ce.instance,n.deleteRecord=function(e){},n}return Object(o.a)(a,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(H,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"componentDidMount",value:function(){this.validateLoginStatus()&&(this.loadRecords(),document.title="Daftar Notulensi")}},{key:"componentDidUpdate",value:function(){(0==this.props.loginStatus||this.isLoggedUserNull())&&this.backToLogin()}},{key:"render",value:function(){var e=this;if(null==this.props.loggedUser)return null;var t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement(I,null,"Daftar Notulensi"),r.a.createElement($,{title:"Daftar Notulensi"},r.a.createElement(ft,{to:"meetingnote/create"},"Tambah Notulensi"),r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(Ee,{cells:[G(),t]}),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{style:{},className:"table"},r.a.createElement(M,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",alias:"Id",withFilter:!0},{text:"date",alias:"Tanggal",withFilter:!0},{text:"place",alias:"Tempat",withFilter:!0},{text:"departement",alias:"Bidang",withFilter:!0},{text:"user",alias:"Notulis",withFilter:!0},{text:"Topik Diskusi"},{text:"Closed"},{text:"action"}]}),r.a.createElement("tbody",null,n.map((function(t,a){var n=(e.page-1)*e.limit,i=Date.parse(t.deadline_date),l={};try{var s=ee(new Date(i));0==t.is_closed&&s<=3&&s>0?l.backgroundColor="orange":0==t.is_closed&&s<0&&(l.backgroundColor="red")}catch(o){}return r.a.createElement("tr",{key:"record-meeting-note-"+a,style:l},r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.place),r.a.createElement("td",null,t.departement?t.departement.name:"-"),r.a.createElement("td",null,t.user?t.user.name:"-"),r.a.createElement("td",null,t.discussion_topics_count),r.a.createElement("td",null,t.discussion_topics_closed_count),r.a.createElement("td",null,r.a.createElement(gt,{id:t.id})))}))))))))}}]),a}(he),ft=function(e){return r.a.createElement(w.b,{to:e.to,className:"button is-primary",style:{marginBottom:"10px"}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,e.children))},gt=function(e){return r.a.createElement(w.b,{to:"/meetingnote/"+e.id,className:"button is-small"},r.a.createElement("i",{className:"fas fa-edit"}))},ht=Object(d.f)(Object(D.b)((function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}}),(function(e){return{}}))(pt)),Et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(vt,null)}}),r.a.createElement(d.a,{path:"/home",render:function(e){return r.a.createElement(vt,null)}}),r.a.createElement(d.a,{path:"/dashboard",render:function(t){return r.a.createElement(ae,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/meetingnote/create",render:function(t){return r.a.createElement(We,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/meetingnote",render:function(t){return r.a.createElement(ht,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/meetingnote/:id",render:function(t){return r.a.createElement(We,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/issues",render:function(t){return r.a.createElement($e,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/issues/create",render:function(t){return r.a.createElement(Ze,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/issues/:id",render:function(t){return r.a.createElement(Ze,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/issues/:id/followup",render:function(t){return r.a.createElement(nt,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/discussiontopics",render:function(t){return r.a.createElement(dt,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/discussiontopics/:id",render:function(t){return r.a.createElement(lt,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/discussiontopics/:id/action",render:function(t){return r.a.createElement(ct,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management",render:function(t){return r.a.createElement(ie,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/users",render:function(t){return r.a.createElement(Ne,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/users/create",render:function(t){return r.a.createElement(je,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/users/:id",render:function(t){return r.a.createElement(je,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/departements",render:function(t){return r.a.createElement(Oe,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/departements/create",render:function(t){return r.a.createElement(we,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/management/departements/:id",render:function(t){return r.a.createElement(we,{app:e.props.app})}}),r.a.createElement(d.a,{path:"/login",render:function(t){return r.a.createElement(P,{app:e.props.app})}}),r.a.createElement(d.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(Je,{app:e.props.app})}})))}}]),a}(n.Component),vt=function(e){return document.title="Home",r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Kafila Console"),r.a.createElement("span",{style:{fontSize:"10em"}},r.a.createElement("i",{className:"fas fa-users-cog"})))},bt=Et,Nt=(a(75),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={opacity:1,show:!0},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return 0==this.props.show?null:r.a.createElement("div",{style:{position:"fixed",zIndex:1e4,color:"#ccc"}},r.a.createElement("div",{className:"columns",style:{width:"min-content"}},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"column"},r.a.createElement("span",{style:{fontSize:"2em"}},"Loading"))))}}]),a}(n.Component)),yt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={menus:[],menuCode:"",loading:!1,loadingPercentage:0,requestId:null,mainAppUpdated:new Date,showAlert:!1},n.alertTitle=null,n.alertBody=null,n.alertIsYesOnly=!0,n.alertIsError=!1,n.alertOnYesCallback=null,n.alertOnCancelCallback=null,n.loadings=0,n.setMenuCode=function(e){n.setState({menuCode:e})},n.refresh=function(){n.setState({mainAppUpdated:new Date})},n.incrementLoadings=function(){this.loadings++},n.decrementLoadings=function(){this.loadings--,this.loadings<0&&(this.loadings=0)},n.requestAppId=function(){n.props.requestAppId(Object(c.a)(n))},n.startLoading=function(e){n.incrementLoadings(),n.setState({loading:!0,realtime:e})},n.endLoading=function(){console.log("END LOADING"),n.decrementLoadings(),0==n.loadings&&n.setState({loading:!1,loadingPercentage:0})},n.showAlertError=function(e,t,a,r,i){n.alertIsError=!0,n.showAlert(e,t,a,r,i)},n.showAlert=function(e,t,a,r,i){n.alertTitle=e,n.alertBody=t,n.alertIsYesOnly=a;var l=Object(c.a)(n);n.alertOnYesCallback=function(e){l.dismissAlert(),r(e)},a||(n.alertOnCancelCallback=function(e){l.dismissAlert(),null!=i&&i(e)}),n.setState({showAlert:!0})},n.dismissAlert=function(){n.alertIsError=!1,n.setState({showAlert:!1})},n.routedContent=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/home",render:function(e){return r.a.createElement("h2",null,"HOME")}}),r.a.createElement(d.a,{path:"/login",render:function(e){return r.a.createElement("h2",null,"Login")}})))},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.props.requestId!=this.state.requestId&&(this.setState({requestId:this.props.requestId}),this.props.refreshLogin())}},{key:"componentDidMount",value:function(){this.requestAppId(),this.setState({loadingPercentage:0})}},{key:"setMenus",value:function(){for(var e=this.props.menus?this.props.menus:[],t=new Array,a=0;a<e.length;a++){var n=e[a],r=1!=this.props.loginStatus&&1==n.authenticated,i=!this.state.enableShopping&&"cart"==n.code;r||(i||t.push(n))}return t}},{key:"render",value:function(){return this.props.requestId?r.a.createElement("div",{className:"App"},this.state.showAlert?r.a.createElement(Te,{isError:this.alertIsError,yesOnly:this.alertIsYesOnly,title:this.alertTitle,onYes:this.alertOnYesCallback,onNo:this.alertOnCancelCallback},this.alertBody):null,r.a.createElement(A,{app:this}),r.a.createElement("section",{style:{minHeight:"70vh"}},r.a.createElement("div",null,r.a.createElement(Nt,{show:this.state.loading})),r.a.createElement("div",{className:"columns",style:{minHeight:"70vh",marginBottom:"1px"}},r.a.createElement("div",{style:{paddingTop:"20px",paddingLeft:"20px",borderRight:"solid 2px #ccc"},className:"menu-container column is-one-fifth has-background-water-ter"},r.a.createElement(_,{app:this})),r.a.createElement("div",{className:"column is-four-fifths"},r.a.createElement(bt,{app:this})))),r.a.createElement(j,null)):r.a.createElement(Nt,{show:!0})}}]),a}(n.Component),St=Object(d.f)(Object(D.b)((function(e){return{loginStatus:e.userState.loginStatus,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile}}),(function(e){return{performLogout:function(t){return e(y(t))},requestAppId:function(t){return e(N(t))},refreshLogin:function(){return e({type:"refresh_login",payload:{},meta:{type:"refresh_login"}})}}}))(yt)),Ot=a(16),Dt={loginKey:null,loginStatus:!1,loginFailed:!1,loggedUser:null,loginAttempt:!1,requestId:null,lastLoginAttempt:new Date,applicationProfile:{}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0,a={};switch(t.type){case"req_ID":return a=Object(k.a)(Object(k.a)({},e),{},{requestId:t.payload.requestId,applicationProfile:t.payload.applicationProfile}),1!=t.payload.loginStatus?(a.loginStatus=!1,a.loggedUser=null):t.payload.user?(a.loggedUser=t.payload.user,a.loginStatus=!0,oe(a.loggedUser.api_token)):(a.loginStatus=!1,a.loggedUser=null),a;case"do_login":return console.debug("DO_LOGIN"),t.payload.loginStatus?(console.debug("DO_LOGIN true ",new Date),console.debug("APITOKEN: ",t.payload.loginKey),oe(t.payload.loginKey),a=Object(k.a)(Object(k.a)({},e),{},{lastLoginAttempt:new Date,loginAttempt:!0,loginStatus:!0,loginKey:t.payload.loginKey,loginFailed:!1,loggedUser:t.payload.loggedUser})):Object(k.a)(Object(k.a)({},e),{},{lastLoginAttempt:new Date,loginFailed:!0});case"do_logout":return a=Object(k.a)(Object(k.a)({},e),{},{loginStatus:!1,loggedUser:null});default:return Object(k.a)({},e)}},kt={entitiesData:{entityConfig:null},managedEntity:null,entityProperty:null,managementMenus:[]},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_entity":return Object(k.a)(Object(k.a)({},e),{},{entitiesData:t.payload});case"get_entity_by_id":return Object(k.a)(Object(k.a)({},e),{},{managedEntity:t.payload.entities[0]});case"update_entity":return e;case"rm_mng_entity":return Object(k.a)(Object(k.a)({},e),{},{managedEntity:null});case"get_entity_config":return Object(k.a)(Object(k.a)({},e),{},{entityProperty:t.payload});case"GET_MANAGEMENT_MENUS":return Object(k.a)(Object(k.a)({},e),{},{managementMenus:t.payload.generalList});default:return e}},Ct={meetingNoteData:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEETING_NOTES":var a=Object(k.a)(Object(k.a)({},e),{},{meetingNoteData:t.payload});return console.debug("action.meetingNoteData: ",a.meetingNoteData),a;default:return Object(k.a)({},e)}},Rt=Object(Ot.c)({userState:jt,managementState:wt,meetingNoteState:It}),Tt={userState:Dt,managementState:kt,meetingNoteState:Ct},xt=a(23),_t=function(e){return function(t){return function(a){if(!a.meta||"do_login"!==a.meta.type)return t(a);var n=a.meta.app;xt.post(a.meta.url,a.payload,{headers:le()}).then((function(t){var n=t.data,r=n.user.api_token,i=Object.assign({},a,{payload:{loginStatus:!0,loginKey:r,loggedUser:n.user}});delete i.meta,e.dispatch(i)})).catch((function(t){var n=Object.assign({},a,{payload:{loginStatus:!1}});delete n.meta,e.dispatch(n)})).finally((function(e){n.endLoading()}))}}},Lt=function(e){return function(t){return function(a){if(!a.meta||"req_ID"!==a.meta.type)return t(a);var n=le();xt.post(a.meta.url,a.payload,{headers:n}).then((function(t){var n=t.data,r="",i=n.message;n.user&&(r=n.user.api_token);var l=Object.assign({},a,{payload:Object(k.a)({loginStatus:!0,loginKey:r,requestId:i},n)});delete l.meta,e.dispatch(l)})).catch((function(t){console.error("ERROR Get User, will get requestId");var n=g().concat("api/account/requestid");xt.get(n).then((function(t){var n=t.data,r=n.message,i=Object.assign({},a,{payload:Object(k.a)({loginStatus:!1,loginKey:null,requestId:r},n)});delete i.meta,e.dispatch(i)})).catch((function(e){alert("Error requesting application: "+e+". Try to reload the page")}))})).finally((function(e){return a.meta.app.endLoading()}))}}},Ft=function(e){return function(e){return function(t){if(!t.meta||"refresh_login"!==t.meta.type)return e(t)}}},At=function(e){return function(t){return function(a){if(!a.meta||"do_logout"!==a.meta.type)return t(a);var n=a.meta.app;xt.post(a.meta.url,a.payload,{headers:le()}).then((function(t){var n=!1;"00"==t.data.code?n=!0:alert("Logout Failed");var r=Object.assign({},a,{payload:{loginStatus:!n}});delete r.meta,e.dispatch(r)})).catch((function(e){console.log(e)})).finally((function(e){return n.endLoading()}))}}},Ut=a(23),Bt=function(e){return function(t){return function(a){if(!a.meta||"GET_MEETING_NOTES"!==a.meta.type)return t(a);var n=a.meta.app;Ut.post(a.meta.url,a.payload,{headers:le()}).then((function(t){var n=t.data,r=Object.assign({},a,{payload:Object(k.a)({},n)});delete r.meta,e.dispatch(r)})).catch((function(e){console.log(e)})).finally((function(e){n.endLoading()}))}}},Pt=function(){return Object(Ot.d)(Rt,Tt,Object(Ot.a)(_t,At,Ft,Lt,Bt))},Mt=function(e){var t=Pt();return r.a.createElement(D.a,{store:t},r.a.createElement(w.a,null,r.a.createElement(St,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8da95440.chunk.js.map