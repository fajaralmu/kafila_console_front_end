{"version":3,"sources":["logo.svg","constant/Url.js","redux/actions/actionCreators.js","redux/types.js","components/layout/Footer.js","components/BaseComponent.js","components/layout/BaseMenus.js","constant/Menus.js","components/layout/Header.js","components/messages/Message.js","components/pages/Login.js","components/container/Card.js","components/buttons/buttons.js","utils/StringUtil.js","components/pages/dashboard/PieChart.js","middlewares/Common.js","services/Promises.js","services/RecordHistoriesService.js","components/forms/commons.js","components/pages/dashboard/Statistic.js","constant/ApplicationDataKeys.js","components/pages/dashboard/Dashboard.js","components/pages/BaseAdminPage.js","components/pages/management/ManagementMenu.js","services/MasterDataService.js","components/buttons/NavButtons.js","components/pages/management/BaseManagementPage.js","components/container/Columns.js","components/pages/management/UsersManagement.js","components/pages/management/DepartementManagement.js","components/pages/management/UsersManagementForm.js","components/pages/management/DepartementManagementForm.js","services/MeetingNoteSerivce.js","services/DiscussionTopicsService.js","utils/ComponentUtil.js","components/messages/Alert.js","components/pages/meetingnotes/DiscussionTopicPopupForm.js","components/pages/meetingnotes/componentHelper.js","components/pages/meetingnotes/logicHelper.js","components/pages/meetingnotes/MeetingNoteForm.js","services/UserService.js","components/pages/Profile.js","services/IssuesService.js","components/pages/issues/IssuesList.js","components/messages/ClosedStatus.js","components/pages/issues/IssuesForm.js","utils/DateUtil.js","components/pages/issues/IssuesFollowingUpForm.js","components/pages/discussiontopics/DiscussionTopicsForm.js","components/pages/discussiontopics/DiscussionActionForm.js","components/pages/meetingnotes/MeetingNoteList.js","components/pages/discussiontopics/DiscussionTopicsList.js","components/pages/errors/NotFound.js","components/pages/issues/CaptCha.js","components/pages/issues/IssueFormPublic.js","components/layout/Content.js","components/widget/Loader.js","components/layout/SideBar.js","App.js","redux/userReducer.js","redux/applicationReducer.js","redux/reducers.js","middlewares/UserMiddleware.js","middlewares/ApplicationMiddleware.js","redux/configureStore.js","Root.js","serviceWorker.js","index.js"],"names":["module","exports","devMode","document","getElementById","value","rootValue","contextPath","concat","usedHost","url","apiAccount","apiAccountDashboard","accountAction","app","startLoading","type","payload","meta","email","password","user","applicationAction","key","data","Footer","className","href","Component","BaseComponent","props","authenticated","state","updated","Date","parentApp","validateLoginStatus","loginStatus","loggedUser","backToLogin","getParentApp","getLoggedUser","isLoggedUserAdmin","isLoggedUserNull","role","getLoggedUserDepartementName","departement","name","showConfirmation","body","Promise","resolve","reject","showAlert","e","showConfirmationDanger","showAlertError","showInfo","showError","history","push","withProgress","endLoading","doAjax","method","params","successCallback","errorCallback","then","response","refresh","catch","finally","console","warn","commonAjax","commonErrorCallback","commonAjaxWithProgress","error","title","setState","this","CommonTitle","style","textAlign","marginLeft","children","mapCommonUserStateToProps","userState","applicationData","applicationState","BaseMenus","shownMenuList","id","hideMenuList","isMenuListShown","toggleMenuList","menuName","target","getAttribute","menuChildren","i","length","element","MENUS","link","iconClassName","Header","showBurger","toggleNavBurger","performLogout","accepted","backgroundColor","to","src","width","height","onClick","map","menu","childs","extractChildren","Fragment","menu-name","marginRight","linkProperty","j","display_name","AppLink","withRouter","connect","dispatch","actions","Message","show","hide","enableHidden","marginBottom","header","aria-label","Login","child","React","createRef","lastLoginAttempt","handleSubmit","event","preventDefault","FormData","get","performLogin","showLoginInfo","loginFailed","current","ref","marginTop","onSubmit","fontSize","placeholder","required","requestId","Card","saveButtonOnClick","editButtonOnClick","deleteButtonOnClick","headerIconClassName","iconOnClick","headerIconOnClick","margin","withButtonFooter","footerContent","HeaderIcon","aria-hidden","AnchorWithIcon","AttachmentLink","String","trim","endsWith","alt","getExtension","splitted","split","extension","showExtension","index","uniqueId","string","getUTCMilliseconds","RAD","Math","PI","PieChart","getTime","proportions","showDetail","timeoutId","accumulationDegree","updatePie","canvas","ctx","getContext","clearRect","fillStyle","currentRad","currentDegree","x","circleX","y","proportion","endAngle","color","strokeStyle","beginPath","arc","fill","coord","calculatePosition","moveTo","lineTo","labelCoord","font","fillText","label","parseFloat","toFixed","radians","mainCoord","calculateCoordinate","rad","deg","PIE_W","accDegree","radius","newX","newY","quad","getQuadrant","adjustedX","abs","cos","adjuxtedY","sin","toggleDetail","proportionIsFixed","stateProp","prop","getPropsProportion","sumValues","proportionIsEmpty","sort","a","b","animate","requestAnimation","clearTimeout","setTimeout","resetProportion","val","overflowX","DetailPie","padding","commonAuthorizedHeader","token","getLoginKey","toString","getCookie","setApiToken","log","setCookie","cname","cvalue","exdays","d","setTime","expires","toUTCString","cookie","ca","decodeURIComponent","c","charAt","substring","indexOf","axios","require","commonAjaxPostCalls","endpoint","request","post","headers","code","RecordHistoriesService","getStatistic","departement_id","filter","fieldsFilter","instance","CapitalizeFirstLetter","rawString","result","toUpperCase","TableHeadWithFilter","onButtonOrderClick","alias","text","withFilter","InputFormFilter","ButtonApplyResetFilter","InputField","setDateInput","date","toISOString","input","orientation","undefined","attributes","note","SelectField","options","option","LabelField","SubmitResetButton","submitValue","submitText","submitIconClassName","submitButtonClassName","withReset","Statistic","getDiscussionTopicProportion","statisticData","statistic","total_topic","topic_count","topic_closed_count","topic_not_closed_count","getIssueProportion","total_issue","issue_count","issue_closed_count","issue_not_closed_count","errorLoadingStatistic","pieChartChildTopic","pieChartChildIssue","historiesService","departementList","loadStatisticWithDepartement","loadStatistic","statisticLoaded","departements","storeApplicationData","statisticFailedToLoad","discussionTopicProportions","issueProportions","departementListMapped","departementOptions","ErrorInfo","Dashboard","BaseAdminPage","ManagementMenu","MasterManagementService","setUsersData","usersData","storeUser","userModel","storeIssue","issue","viewUser","userList","list","viewIssue","issueList","storeDepartement","viewDepartement","deleteRecord","departementsData","NavButtons","buttonValues","generateButtonValues","limit","totalData","activeIndex","buttonsData","min","currentPage","displayed_buttons","buttonCount","ceil","parseInt","max","BaseManagementPage","loadRecords","readInputForm","form","inputs","getElementsByClassName","masterDataServce","page","count","orderBy","orderType","recordData","successLoaded","errorLoaded","getRecordDataStored","loadRecordByPage","formData","entries","pair","getElementsByName","delete","onSuccessDelete","onErrorDelete","linkToFormCreate","linkToFormEdit","withText","buttonsModifyAndDelete","editLink","buttonDeleteRecord","Columns","cells","cell","UsersManahement","masterDataService","showForm","populateDefaultInputs","hasOwnProperty","navButtons","createNavButton","recordList","result_list","formComponent","overflow","item","indexBegin","display","border","DeparementManagement","removeDataFromStore","record_id","find","dep","splice","description","UserManagementForm","recordNotFound","isLoadingRecord","storeRecord","fieldName","getRecordId","store","debug","match","departementListLoaded","loadRecord","recordSaved","handleSuccessGetRecord","recordFailedToSave","loadDepartements","handleErrorGetRecord","formTitle","DepartementManagementForm","updateLocallyStoredDepartements","MeetingNoteSerivce","meetingNote","meeting_note","view","DiscussionTopicsService","discussionTopic","discussion_topic","storeAction","action","discussion_action","getAttachmentData","file","files","lastDot","lastIndexOf","ext","size","reader","FileReader","readAsDataURL","onload","attachmentData","isFile","onerror","Alert","onYes","onNo","onClose","focus","headerClassName","yesOnly","isError","ModalBackdrop","DiscussionTopicPopupForm","discussionTopicService","onSubmitDiscussionTopic","window","confirm","note_id","storeDiscussionTopic","discussionTopicSaved","handleErrorSubmitDiscussionTopic","alert","onSuccess","TOPIC_PREFIX","DiscussionTopicCommonInputs","inputPrefix","FormTitle","ButtonRemoveTopic","removeDiscussionTopic","DiscussionTopicStatusInfo","discussion_topics","closed","is_closed","ButtonAddTopic","addDiscussionTopic","AttachmentInfo","cursor","onRemoveClick","LinkEditAndAction","ClosedInfoTag","FormUpperTag","LabelDiscussionTopicCount","MeetingNoteSubmitResetField","getDiscussionTopic","deleteArrayValueWithKeyStartedWith","object","prefix","startsWith","extractTopicDiscussionIndexAndName","elementName","elementNameSplitIndex","FORM_ID","MeetingNoteForm","discussionTopicCount","showFormDiscussionTopicInEditMode","meetingNoteService","attachmentsData","form_temporary_inputs","isSubmitting","saveFormInputsToTemporaryData","getMaxDiscussionTopicID","ok","doRemoveDiscussionTopic","array","getArrayIndexWithValue","deleteTempFormData","setInputsFromTemporaryData","disabled","setAttribute","populateInputs","values","extractInputValues","fillDataAndStore","rawInputs","original","toMerge","mergeObject","Object","keys","forEach","currentDiscussionTopicID","currentDiscussionTopicIndex","indexAndName","extractMeetingNoteObject","storeMeetingNote","addAttachmentData","removeAttachment","discussionTopics","tempData","extractMeetingNoteObjectToTempData","enableInputs","removeAttribute","enableAllInputs","reset","getUserName","isClosed","isDiscussionTopicClosed","onChange","attachment","UserService","updateProfile","Profile","userService","populateForm","onSubmitSuccess","onSubmitError","requestAppId","IssuesService","storePublicIssue","followUpIssue","followUp","followed_up_issue","IssuesList","issueService","isAdmin","place","content","issuer","issue_input","ClosedStatus","issue_sources","IssuesForm","record","updateAttachmentData","appData","source","accept","MONTHS","dateStringDayMonthYearFromText","raw","day","month","year","getDiffDaysToNow","IssuesFollowingUpForm","showDetailIssue","hideDetailIssue","issue_id","handleSuccessSubmit","follow_up","DiscussionTopicsForm","LinkDetailMeetingNote","DiscussionActionForm","showDetailDiscussionTopic","discussionTopicSerivce","topic_id","handleErrorSubmit","decision","deadline_date","person_in_charge","MeetingNoteList","deadlineDate","parse","diffDay","discussion_topics_count","discussion_topics_closed_count","LinkToFormCreate","LinkEditPage","DiscussionTopicsList","NotFound","class","CaptCha","canvas_id","captcha","firstNumber","operator","secordNumber","context","getCaptchaText","drawCanvas","IssueFormPublic","captchaUpdate","recordSave","updatedAt","resetCaptcha","floor","random","validateCaptcha","number1","number2","capchaResult","captchaValidated","departementListNotLoaded","Content","exact","path","render","UsersManagement","UsersManagementForm","DepartementManagement","component","Home","Loader","opacity","position","zIndex","SideBar","menuChild","ProfileAvatar","paddingTop","paddingBottom","App","menus","menuCode","loading","loadingPercentage","mainAppUpdated","alertTitle","alertBody","alertIsYesOnly","alertIsError","alertOnYesCallback","alertOnCancelCallback","loadings","setMenuCode","incrementLoadings","decrementLoadings","realtime","yesCallback","noCallback","dismissAlert","routedContent","additionalMenus","Array","isNotAuthenticated","isShoppingDisabled","enableShopping","minHeight","paddingLeft","borderRight","initState","loginKey","loginAttempt","applicationProfile","reducer","api_token","rootReducer","combineReducers","userReducer","applicationReducer","initialState","performLoginMiddleware","next","common","responseJson","newAction","assign","err","param","requestAppIdMiddleware","message","performLogoutMiddleware","logoutSuccess","configureStore","createStore","applyMiddleware","userMiddleware","Root","Boolean","location","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa7da690.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","\r\nconst devMode = \r\n    document.getElementById(\"rootPath\").value == \"${contextPath}\" || \r\n    document.getElementById(\"rootPath\").value == \"\";\r\nconst rootValue = devMode ?\r\n     \"/\" : document.getElementById(\"rootPath\").value+\"/\";\r\n\r\nexport const contextPath = function(){\r\n    const contextPath = devMode? \"http://localhost:8000\".concat(rootValue):rootValue;\r\n    //console.debug(\"contextPath: \",contextPath,document.getElementById(\"rootPath\").value);\r\n    \r\n    return contextPath;\r\n}\r\n \r\nexport const baseImageUrl = contextPath()+\"WebAsset/Shop1/Images/\";\r\nexport const baseResUrl = contextPath()+\"res/img/\";\r\n\r\nexport const POST = \"post\";\r\n","import * as types from '../types'\r\nimport * as url from '../../constant/Url'\r\n\r\nconst usedHost = url.contextPath();\r\nconst apiEntityBaseUrl = usedHost + \"api/entity/\"\r\nconst apiAccount = usedHost + \"api/account/\"\r\nconst apiAccountDashboard = usedHost + \"api/accountdashboard/\"\r\nconst apiAdmin = usedHost + \"api/admin/\"\r\nconst apiNotes = usedHost + \"api/notes/\"\r\n\r\n \r\nexport const accountAction = {\r\n\r\n    requestAppId : (app) => {\r\n        app.startLoading();\r\n        return {\r\n            type: types.REQUEST_ID,\r\n            payload: {},\r\n            meta: {\r\n                app: app, type: types.REQUEST_ID,\r\n                url: apiAccountDashboard.concat(\"user\")\r\n            }\r\n        };\r\n    },\r\n    performLogout : (app) => {\r\n        app.startLoading();\r\n        let loginRequest = {\r\n            type: types.DO_LOGOUT,\r\n            payload: {},\r\n            meta: { app: app, type: types.DO_LOGOUT, url: apiAccountDashboard.concat(\"logout\") }\r\n        };\r\n        return loginRequest;\r\n    },\r\n    performLogin : (email, password, app) => {\r\n        app.startLoading();\r\n        let loginRequest = {\r\n            type: types.DO_LOGIN,\r\n            payload: {\r\n                user: { email: email, password: password }\r\n            },\r\n            meta: { type: types.DO_LOGIN, url: apiAccount.concat(\"login\"), app: app }\r\n        };\r\n        return loginRequest;\r\n    }\r\n}\r\n\r\nexport const applicationAction = {\r\n    /**\r\n     * @param {String} key\r\n     * @param {*} data\r\n     */\r\n    storeApplicationData: (key, data) => {\r\n        \r\n        let requested = {\r\n            type: types.STORE_APPLICTION_DATA,\r\n            payload: {\r\n                data:data,\r\n                key:key   \r\n            },\r\n            meta: {\r\n                type: types.STORE_APPLICTION_DATA,\r\n            }\r\n        };\r\n        return requested;\r\n    },\r\n    removeApplicationData: (key) => {\r\n        \r\n        let requested = {\r\n            type: types.STORE_APPLICTION_DATA,\r\n            payload: {\r\n                key:key   \r\n            },\r\n            meta: {\r\n                type: types.REMOVE_APPLICTION_DATA,\r\n            }\r\n        };\r\n        return requested;\r\n    },\r\n\r\n}\r\n \r\n\r\n","/**\r\n * \r\n */\r\n export const DO_LOGIN = \"do_login\";\r\nexport const DO_LOGOUT = \"do_logout\";  \r\nexport const REQUEST_ID = \"req_ID\"; \r\nexport const GET_LOGGED_USER = \"get_logged_user\";\r\n\r\n//meeting notes\r\nexport const STORE_APPLICTION_DATA = \"store-app-data\";\r\nexport const REMOVE_APPLICTION_DATA = \"remove-app-data\";","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <footer className=\"footer has-background-dark\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"content has-text-centered\">\r\n\t\t\t\t\t<div className=\"columns is-mobile is-centered\">\r\n\t\t\t\t\t\t<div className=\"field is-grouped is-grouped-multiline\">\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<div className=\"tags has-addons\">\r\n\t\t\t\t\t\t\t\t\t<a className=\"tag is-link\" href=\"https://kafila.sch.id\">KIIS Jakarta</a>\r\n\t\t\t\t\t\t\t\t\t<span className=\"tag is-light\">&copy; Kafila Console 2020</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import  React , {Component} from 'react';\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\n\r\nexport default class BaseComponent extends Component {\r\n    constructor(props, authenticated = true){\r\n        super(props);\r\n        this.state = {\r\n            updated:new Date()\r\n        }\r\n        this.parentApp = props.app;\r\n        this.authenticated =  authenticated;\r\n    \r\n        this.validateLoginStatus = () => {\r\n            if (!authenticated) {\r\n                return true;\r\n            }\r\n            if (this.props.loginStatus != true || this.props.loggedUser == null) {\r\n                this.backToLogin();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        this.getParentApp = () => {\r\n            return this.props.app;\r\n        }\r\n        this.getLoggedUser = () => {\r\n            return this.props.loggedUser;\r\n        }\r\n        this.isLoggedUserAdmin = () => {\r\n            return this.isLoggedUserNull() == false && this.getLoggedUser().role == 'admin';\r\n        }\r\n        this.getLoggedUserDepartementName = () => {\r\n            if (this.isLoggedUserNull()) return null;\r\n            return this.getLoggedUser().departement.name;\r\n        }\r\n        this.isLoggedUserNull = () => {\r\n            return false == this.props.loginStatus || null == this.props.loggedUser;\r\n        }\r\n        this.showConfirmation = (body) => {\r\n            return new Promise((resolve, reject) =>{\r\n                const onYes = function(e) {\r\n                    resolve(true);\r\n                }\r\n                const onNo = function(e) {\r\n                    resolve(false);\r\n                }\r\n                this.parentApp.showAlert(\"Confirmation\", body, false, onYes, onNo);\r\n            });\r\n            \r\n        }\r\n        this.showConfirmationDanger = (body) => {\r\n            return new Promise((resolve, reject) =>{\r\n                const onYes = function(e) {\r\n                    resolve(true);\r\n                }\r\n                const onNo = function(e) {\r\n                    resolve(false);\r\n                }\r\n                this.parentApp.showAlertError(\"Confirmation\", body, false, onYes, onNo);\r\n            });\r\n            \r\n        }\r\n        this.showInfo = (body) => {\r\n            this.parentApp.showAlert(\"Info\", body, true, function(){});\r\n        }\r\n        this.showError = (body) => {\r\n            this.parentApp.showAlertError(\"Error\", body, true, function(){});\r\n        }\r\n\r\n        this.backToLogin = () => {\r\n            if (!authenticated || this.props.history == null) {\r\n                return;\r\n            }\r\n            this.props.history.push(\"/login\");\r\n        }\r\n        /**\r\n         * \r\n         * @param {boolean} withProgress \r\n         */\r\n        this.startLoading = (withProgress) => {\r\n            this.parentApp.startLoading(withProgress);\r\n        }\r\n\r\n        this.endLoading = () => {\r\n            this.parentApp.endLoading();\r\n        }\r\n        /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {boolean} withProgress \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.doAjax = (method, params, withProgress, successCallback, errorCallback) => {\r\n            if(!method) {console.warn(\"Method Not Found! \");return}\r\n            this.startLoading(withProgress);\r\n            const app = this;\r\n\r\n            method(params).then(function(response){\r\n                if(successCallback){ \r\n                    successCallback(response);\r\n                }\r\n                app.refresh();\r\n            }).catch(function(e){\r\n                if(errorCallback){\r\n                    errorCallback(e);\r\n                } else {\r\n                    if (typeof(e) == 'string'){\r\n                        app.showInfo(\"Operation Failed: \"+e);\r\n                    }\r\n                    app.showInfo(\"resource not found\");\r\n                }\r\n            }).finally((e)=>{\r\n                this.endLoading();\r\n            })\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.commonAjax = (method, params, successCallback, errorCallback = null) => {\r\n            if (null == errorCallback) errorCallback = this.commonErrorCallback;\r\n            this.doAjax(method, params, false, successCallback, errorCallback);\r\n        }\r\n         /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.commonAjaxWithProgress = (method, params, successCallback, errorCallback) => {\r\n            this.doAjax(method, params, true, successCallback, errorCallback);\r\n        }\r\n\r\n        this.commonErrorCallback = (e) => {\r\n            console.error(e);\r\n            this.showError(\"Operation Failed: \"+e);\r\n        }\r\n\r\n        this.title = (title) => {\r\n            return <CommonTitle>{title}</CommonTitle>\r\n        }\r\n        this.refresh = () => {\r\n            this.setState({updated:new Date()});\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.authenticated && null == this.props.loggedUser) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n}\r\n\r\nexport const CommonTitle = (props) => {\r\n    return <h2 style={{ textAlign: 'left', marginLeft:'10px' }}>{props.children}</h2>\r\n}\r\n\r\nexport const  mapCommonUserStateToProps = state => {\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n        applicationData: state.applicationState.applicationData\r\n    }\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nexport default class BaseMenus extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            shownMenuList: {}\r\n        }\r\n\r\n        this.shownMenuList = (id) => {\r\n            const shownMenuList = this.state.shownMenuList;\r\n            shownMenuList[id] = true;\r\n            this.setState({ shownMenuList: shownMenuList });\r\n        }\r\n        this.hideMenuList = (id) => {\r\n            const shownMenuList = this.state.shownMenuList;\r\n            shownMenuList[id] = false;\r\n            this.setState({ shownMenuList: shownMenuList });\r\n        }\r\n        this.isMenuListShown = (id) => {\r\n            return this.state.shownMenuList[id] == true;\r\n        }\r\n        this.toggleMenuList = (e) => {\r\n            const menuName = e.target.getAttribute(\"menu-name\");\r\n            if (this.isMenuListShown(menuName)) {\r\n                this.hideMenuList(menuName);\r\n            } else {\r\n                this.shownMenuList(menuName);\r\n            }\r\n        }\r\n\r\n    }\r\n   \r\n    extractChildren(menuChildren) {\r\n        const children = [];\r\n        for (let i = 0; i < menuChildren.length; i++) {\r\n            const element = menuChildren[i];\r\n            if (element.authenticated && this.isLoggedUserNull()) {\r\n                continue;\r\n            }\r\n            if (this.isLoggedUserNull() == false && element.role != null && this.getLoggedUser().role != element.role) {\r\n                continue;\r\n            }\r\n            children.push(element);\r\n        }\r\n\r\n        return children;\r\n    }\r\n    \r\n\r\n}\r\n","\r\nexport const MENUS = [\r\n    {\r\n        name: 'Umum',\r\n        children: [\r\n            {\r\n                name: 'Home',\r\n                link: '/home',\r\n                iconClassName: 'fas fa-home',\r\n            }, {\r\n                name: 'Dashboard',\r\n                link: '/dashboard',\r\n                iconClassName: 'fas fa-tachometer-alt',\r\n                authenticated: true,\r\n\r\n            }, {\r\n                name: 'Aduan',\r\n                link: '/issues-public',\r\n                iconClassName: 'fas fa-envelope-open-text',\r\n                // authenticated: true,\r\n            }]\r\n    }, {\r\n        name: 'Notulensi',\r\n        children: [{\r\n            name: 'List',\r\n            link: '/discussiontopics',\r\n            authenticated: true,\r\n            iconClassName: 'fas fa-list',\r\n        }, {\r\n            name: 'Tambah Notulensi',\r\n            link: '/meetingnote/create',\r\n            authenticated: true,\r\n            iconClassName: 'fas fa-plus-square',\r\n        }, {\r\n            name: 'Riwayat',\r\n            link: '/meetingnote',\r\n            authenticated: true,\r\n            iconClassName: 'fas fa-history',\r\n        }]\r\n    }, {\r\n        name: 'Aduan',\r\n        children: [{\r\n            name: 'List',\r\n            link: '/issues',\r\n            authenticated: true,\r\n            iconClassName: 'fas fa-list',\r\n        },\r\n        {\r\n            name: 'Tambah',\r\n            link: '/issues/create',\r\n            authenticated: true,\r\n            iconClassName: 'fas fa-plus-square',\r\n            role: 'admin'\r\n        }]\r\n    // }, {\r\n    //     name: 'Tema Pembahasan',\r\n    //     children: [{\r\n    //         name: 'List',\r\n    //         link: '/discussiontopics',\r\n    //         authenticated: true,\r\n    //         iconClassName: 'fas fa-list',\r\n    //     }]\r\n    }, {\r\n        name: 'Master Data',\r\n        children: [\r\n            {\r\n                name: 'Menu',\r\n                link: '/management',\r\n                authenticated: true,\r\n                role: 'admin',\r\n                // iconClassName: 'fas fa-database'\r\n            },\r\n            {\r\n                name: 'User',\r\n                link: '/management/users',\r\n                authenticated: true,\r\n                role: 'admin',\r\n                iconClassName: 'fas fa-users',\r\n            }, {\r\n                name: 'Bidang',\r\n                link: '/management/departements',\r\n                authenticated: true,\r\n                role: 'admin',\r\n                iconClassName: 'fas fa-object-group',\r\n            }]\r\n    }\r\n]\r\n","\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\n\r\nimport * as actions from '../../redux/actions/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport './SideBar.css'\r\nimport BaseMenus from './BaseMenus';\r\nimport { MENUS } from './../../constant/Menus';\r\nimport { mapCommonUserStateToProps } from '../BaseComponent';\r\n\r\n\r\nclass Header extends BaseMenus {\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            ...this.state,\r\n            showBurger: false\r\n        }\r\n\r\n        this.toggleNavBurger = () => {\r\n            this.setState({ showBurger: !this.state.showBurger })\r\n        }\r\n\r\n        this.performLogout = () => {\r\n            const props = this.props;\r\n            this.showConfirmation(\"Apakah Anda ingin keluar?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    props.performLogout(props.app);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <nav className=\"navbar is-dark topNav\">\r\n                <div className=\"container\">\r\n                    <div className=\"navbar-brand\">\r\n                        <Link style={{ backgroundColor: '#fff' }} className=\"navbar-item\" to=\"/\">\r\n                            <img src=\"kiis-stroke.png\" width=\"38\" height=\"38\" />\r\n                        </Link>\r\n                        <div onClick={this.toggleNavBurger} className=\"navbar-burger burger\">\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"topNav\" className={this.state.showBurger ? \"is-active navbar-menu\" : \" navbar-menu\"}>\r\n                        <div className=\"navbar-start\">\r\n                            {MENUS.map((menu, i) => {\r\n                                const childs = this.extractChildren(menu.children);\r\n                                if (childs == null || childs.length == 0) { return null; }\r\n                                const isMenuListShown = this.isMenuListShown(menu.name);\r\n                                const iconClassName = isMenuListShown ? \"fas fa-angle-up\" : \"fas fa-angle-down\";\r\n\r\n                                return (\r\n                                    <React.Fragment key={\"NavMenu_\" + menu.name}>\r\n                                        <p style={{ marginLeft: '10px' }} onClick={this.toggleMenuList} menu-name={menu.name} className=\"menu-label\">\r\n                                            <i style={{ marginRight: '10px' }} className={iconClassName} />\r\n                                            {menu.name}  </p>\r\n                                        {isMenuListShown ?\r\n                                            <ul className=\"menu-list\">\r\n                                                {childs.map((linkProperty, j) => {\r\n                                                    return <AppLink key={\"header-link-\" + j + \"-\" + i} loginStatus={this.props.loginStatus} loggedUser={this.props.loggedUser} linkProperty={linkProperty} />\r\n                                                })}\r\n                                            </ul> : null}\r\n                                    </React.Fragment>)\r\n                            })}\r\n                        </div>\r\n                        <div className=\"navbar-end\">\r\n                            <div className=\"navbar-item\">\r\n                                <div className=\"buttons has-addons\">\r\n\r\n                                    {this.isLoggedUserNull()==false ?\r\n                                        <><Link className=\"button is-info\" to=\"/profile\">\r\n                                            <span className=\"icon\">\r\n                                                <i className=\"fas fa-user\"></i>\r\n                                            </span>\r\n                                            <span>{this.props.loggedUser.display_name} - {this.props.loggedUser.role}</span>\r\n                                        </Link>\r\n                                            <a onClick={this.performLogout} className=\"button is-danger\">\r\n                                                <span className=\"icon\">\r\n                                                    <i className=\"fas fa-sign-out-alt\"></i>\r\n                                                </span>\r\n                                                <span>Logout</span>\r\n                                            </a>\r\n                                        </> :\r\n                                        <Link className=\"button is-info\" to=\"/login\">\r\n                                            <span className=\"icon\">\r\n                                                <i className=\"fas fa-user\"></i>\r\n                                            </span>\r\n                                            <span>Login</span>\r\n                                        </Link>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nconst AppLink = (props) => {\r\n    const linkProperty = props.linkProperty;\r\n    const loginStatus = props.loginStatus;\r\n    const loggedUser = props.loggedUser\r\n    const iconClassName = linkProperty.iconClassName ? linkProperty.iconClassName : 'fas fa-folder';\r\n    if (null == linkProperty.link) {\r\n        return null;\r\n    }\r\n\r\n    if (!loginStatus && linkProperty.authenticated) {\r\n        return null;\r\n    }\r\n    if (linkProperty.role != null && loggedUser != null && loggedUser.role != linkProperty.role) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Link key={linkProperty.name + \"LINK\"} className=\"navbar-item\"\r\n            to={linkProperty.link} >\r\n            <span className=\"icon\"><i className={iconClassName} /></span>\r\n            <span>\r\n                {linkProperty.name}\r\n            </span>\r\n        </Link>\r\n    )\r\n} \r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(Header))\r\n","\r\nimport React, { Component } from 'react';\r\nimport './Message.css'\r\nclass Message extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            show:true\r\n        }\r\n\r\n        this.hide = ()=> {\r\n            if (this.props.enableHidden){\r\n                this.setState({show:false});\r\n            }\r\n        }\r\n        this.show = ()=> {\r\n            this.setState({show:true});\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state.show == false) {\r\n            return null;\r\n        }\r\n        const className = this.props.className?'message '+this.props.className:'message is-info';\r\n        return (\r\n            <article style={{marginBottom:'10px'}} id=\"my-message\" className={className}>\r\n                <div className=\"message-header\">\r\n                    <p>{this.props.header?this.props.header:\"Info\"}</p>\r\n                    <button onClick={this.hide} className=\"delete\" aria-label=\"delete\"></button>\r\n                </div>\r\n                <div className=\"message-body\">\r\n                    {this.props.body}\r\n                    {this.props.children}\r\n                </div>\r\n            </article>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message;","\r\nimport React, { Component } from 'react';\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\nimport * as actions from '../../redux/actions/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport Message from './../messages/Message';\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.child = React.createRef();\r\n        this.lastLoginAttempt = new Date();\r\n        this.state = {\r\n\r\n        };\r\n        this.validateLoginStatus = () => {\r\n            if (this.props.loginStatus == true) this.props.history.push(\"/dashboard\");\r\n        }\r\n        this.handleSubmit = (event) => {\r\n            event.preventDefault();\r\n            const data = new FormData(event.target);\r\n            var email = data.get(\"email\")\r\n            var password = data.get(\"password\");\r\n\r\n            this.props.performLogin(email, password, this.props.app);\r\n        }\r\n\r\n        this.showLoginInfo = ()=> {\r\n            if (this.props.loginFailed) {\r\n                if (this.lastLoginAttempt != this.props.lastLoginAttempt) {\r\n                    this.child.current.show();\r\n                    this.lastLoginAttempt = this.props.lastLoginAttempt;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.validateLoginStatus();\r\n    }\r\n    componentDidUpdate() {\r\n        this.validateLoginStatus();\r\n        this.showLoginInfo();\r\n    }\r\n    componentDidMount() {\r\n\r\n        document.title = \"Login\";\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.loginFailed ? \r\n                    <Message ref={this.child}  className=\"is-danger\" body=\"Login Failed\" /> : null}\r\n\r\n                <div className=\"columns is-centered\">\r\n\r\n                    <div style={{ marginTop: '10px', marginBottom: '10px' }} className=\"column is-5-tablet is-5-desktop is-5-widescreen\">\r\n                        <form id=\"formLogin\" onSubmit={this.handleSubmit} className=\"box\">\r\n                            <div className=\"field has-text-centered\">\r\n                            <span style={{fontSize:'70px'}}><i className=\"fas fa-user-circle\"/></span>\r\n                            <p>Sign In</p>\r\n                            </div>\r\n                            <div className=\"field\">\r\n                                <label   className=\"label\">Email</label>\r\n                                <div className=\"control has-icons-left\">\r\n                                    <input name=\"email\" type=\"email\" placeholder=\"e.g. user@gmail.com\" className=\"input\" required />\r\n                                    <span className=\"icon is-small is-left\">\r\n                                        <i className=\"fa fa-envelope\"></i>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"field\">\r\n                                <label  className=\"label\">Password</label>\r\n                                <div className=\"control has-icons-left\">\r\n                                    <input name=\"password\" type=\"password\" placeholder=\"*******\" className=\"input\" required />\r\n                                    <span className=\"icon is-small is-left\">\r\n                                        <i className=\"fa fa-lock\"></i>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"field\">\r\n                                <button className=\"button is-success\">Login</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state);\r\n    return {\r\n\r\n        //user\r\n        loginStatus: state.userState.loginStatus,\r\n        lastLoginAttempt: state.userState.lastLoginAttempt,\r\n        loginFailed: state.userState.loginFailed,\r\n        requestId: state.userState.requestId\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    performLogin: (email, password, app) => dispatch(actions.accountAction.performLogin(email, password, app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login));","\r\nimport React, { Component } from 'react';\r\nexport default class Card extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.saveButtonOnClick = (e) => {\r\n            if (this.props.saveButtonOnClick) {\r\n                this.props.saveButtonOnClick(e);\r\n            }\r\n        }\r\n        this.editButtonOnClick = (e) => {\r\n            if (this.props.editButtonOnClick) {\r\n                this.props.editButtonOnClick(e);\r\n            }\r\n        }\r\n        this.deleteButtonOnClick = (e) => {\r\n            if (this.props.deleteButtonOnClick) {\r\n                this.props.deleteButtonOnClick(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const iconClassName = this.props.headerIconClassName;\r\n        const iconOnClick = this.props.headerIconOnClick;\r\n\r\n        return (\r\n            <div className=\"card\" style={{ margin: '10px', ...this.props.style }}>\r\n                <header className=\"card-header\">\r\n                    <p className=\"card-header-title\">\r\n                        {this.props.title ? this.props.title : \"Card Title\"}\r\n                    </p>\r\n                    {null == iconClassName ? null : <HeaderIcon className={iconClassName} onClick={iconOnClick} /> }\r\n                </header>\r\n                <div className=\"card-content\">\r\n                    <div className=\"content\">\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n                {this.props.withButtonFooter ?\r\n                    <footer className=\"card-footer\">\r\n                        <a href=\"#\" onClick={this.saveButtonOnClick} className=\"card-footer-item\">Save</a>\r\n                        <a href=\"#\" onClick={this.editButtonOnClick} className=\"card-footer-item\">Edit</a>\r\n                        <a href=\"#\" onClick={this.deleteButtonOnClick} className=\"card-footer-item\">Delete</a>\r\n                    </footer>\r\n                    : null\r\n                }\r\n                {this.props.footerContent ?\r\n                    <footer className=\"card-footer\">\r\n                        {this.props.footerContent}\r\n                    </footer>\r\n                    :\r\n                    null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst HeaderIcon = (props) => {\r\n    return (\r\n        <a className=\"card-header-icon\" aria-label=\"more options\" onClick={props.onClick}>\r\n            <span className=\"icon\">\r\n                <i className={props.className} aria-hidden=\"true\"></i>\r\n            </span>\r\n        </a>\r\n    );\r\n}","import  React  from 'react';\r\nimport { contextPath } from './../../constant/Url';\r\n\r\nexport const AnchorWithIcon = (props) => {\r\n    const className = props.className;\r\n    const iconClassName = props.iconClassName;\r\n    if (props.show == false)  return null;\r\n    return (\r\n        <a className={\"button \" +className} style={props.style} onClick={props.onClick}>\r\n            <span className=\"icon\">\r\n                <i className={iconClassName}></i>\r\n            </span>\r\n            <span>{props.children}</span>\r\n        </a>\r\n    )\r\n}\r\n\r\nexport const AttachmentLink = (props) => {\r\n    if (props.show == false) \r\n    {return <p style={{fontSize:'0.7rem'}}>No Attachment</p>}\r\n    if (props.to == null || new String(props.to).trim().endsWith(\"/\") )\r\n    {return <p alt={props.to} className=\"tag has-background-warning\" style={{fontSize:'0.7rem'}}>No Attachment</p>}\r\n    const link = contextPath()+ props.to;\r\n    const getExtension = function(link) {\r\n        const splitted = link.split(\".\");\r\n        try {\r\n            return splitted[splitted.length-1];\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n    }\r\n    const extension = props.showExtension && getExtension(link) ? \" | \"+getExtension(link) : null;\r\n    return (\r\n        <a href={link} target=\"_blank\" className={\"button is-small\"} style={props.style}  >\r\n            <span className=\"icon\">\r\n                <i className=\"fas fa-link\"></i>\r\n            </span>\r\n            <span>attachment {extension}</span>\r\n        </a>\r\n    )\r\n}","let index = 1;\r\nexport const uniqueId = function () {\r\n\tlet string = \"\";\r\n\tstring = new Date().getUTCMilliseconds();\r\n\tindex++;\r\n\treturn index + \"-\" + string;\r\n}\r\n\r\nexport const replaceString = (string, toReplace, replacement) => {\r\n\ttry {\r\n\t\tconst splitted = new String(string).split(toReplace);\r\n\t\treturn splitted.join(replacement);\r\n\t} catch (error) {\r\n\t\treturn \"\";\r\n\t}\r\n}\r\n \r\nexport function beautifyNominal(val) {\r\n\tif (val == \"\" || val == null) return \"0\";\r\n\tconst rawVal = parseInt(val);\r\n\tlet nominal =  Math.abs(val).toString();\r\n\tlet result = \"\";\r\n\tif (nominal.length > 3) {\r\n\t\tlet zero = 0;\r\n\t\tfor (let i = nominal.length - 1; i > 0; i--) {\r\n\t\t\tzero++;\r\n\t\t\tresult = nominal[i] + result;\r\n\t\t\tif (zero == 3) {\r\n\t\t\t\tresult = \".\" + result;\r\n\t\t\t\tzero = 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tresult = nominal[0] + result;\r\n\t} else {\r\n\t\tresult = val;\r\n\t}\r\n\tif(rawVal < 0){\r\n\t\tresult = \"-\"+result;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const getMaxSales = (list) => {\r\n\tlet result = 0;\r\n\tfor (let i = 0; i < list.length; i++) {\r\n\t\tconst element = list[i];\r\n\t\tif (element.sales > result)\r\n\t\t\tresult = element.sales;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const isNonNullArray = function (array) {\r\n\treturn array != null && array.length > 0;\r\n}\r\n\r\nexport const isNonNullArrayWithIndex = function (array, i) {\r\n\treturn array != null && array.length > 0 && array[i] != null;\r\n}\r\n\r\nconst months = [\r\n\t\"January\", \"Ferbuary\", \"March\", \"April\", \"May\", \"June\",\r\n\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n]\r\n\r\nexport const monthYearString = function (m, y) {\r\n\tif (m == null || y == null) {\r\n\t\treturn \"-\";\r\n\t}\r\n\treturn months[m - 1] + \" \" + y;\r\n}","\r\nimport React, { Component } from 'react';\r\nimport { AnchorWithIcon } from '../../buttons/buttons';\r\nimport { uniqueId } from './../../../utils/StringUtil';\r\n\r\nconst PIE_W = 100, RAD = 2 * Math.PI;\r\nconst MAX_DEG = 360;\r\nconst PIE_CANVAS_SIZE = 300;\r\nconst circleX = 150, circleY = 150;\r\nexport default class PieChart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = uniqueId() + \"_\" + (new Date().getTime()) + (\"_pie_chart_canvas\");\r\n        this.state = {\r\n            proportions: [],\r\n            showDetail: false\r\n        }\r\n        this.timeoutId = null;\r\n        this.accumulationDegree = 0;\r\n\r\n        this.updatePie = () => {\r\n            this.accumulationDegree = 0;\r\n            const proportions = this.state.proportions;\r\n\r\n            const canvas = document.getElementById(this.id);\r\n            if (null == canvas) {\r\n                return;\r\n            }\r\n            const ctx = canvas.getContext(\"2d\");\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            ctx.fillStyle = '#ccc';\r\n            let currentRad = RAD;\r\n            let currentDegree = 0;\r\n            let x = circleX + PIE_W, y = circleY;\r\n\r\n\r\n            for (let i = 0; i < proportions.length; i++) {\r\n\r\n                const element = proportions[i];\r\n\r\n                if (element.proportion <= 0) { continue; }\r\n\r\n                const endAngle = currentRad - element.proportion * RAD;\r\n                ctx.fillStyle = element.color;\r\n                ctx.strokeStyle = element.color;\r\n                ctx.beginPath();\r\n                ctx.arc(circleX, circleY, PIE_W, currentRad, endAngle, true);\r\n                // ctx.stroke();\r\n                ctx.fill();\r\n\r\n                currentDegree = element.proportion * MAX_DEG;\r\n                this.accumulationDegree += currentDegree;\r\n                const coord = this.calculatePosition(endAngle, element.proportion, ctx);\r\n\r\n                ctx.fillStyle = element.color;\r\n                //drawLine\r\n                if (element.proportion < 0.5) {\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(circleX, circleY);\r\n                    ctx.lineTo(x, y);\r\n\r\n                    ctx.lineTo(coord.x, coord.y);\r\n                    // ctx.stroke();\r\n                    ctx.fill();\r\n                }\r\n\r\n                //drawLabel\r\n                const labelCoord = coord.labelCoord;\r\n                ctx.font = \"15px Arial\";\r\n                ctx.fillStyle = '#000';\r\n                ctx.fillText(element.label + \" \" + parseFloat(100 * element.proportion).toFixed(2) + \"%\", labelCoord.x, labelCoord.y);\r\n\r\n                x = coord.x;\r\n                y = coord.y;\r\n\r\n                currentRad = endAngle;\r\n            }\r\n        }\r\n\r\n        this.calculatePosition = (radians, value, ctx) => {\r\n            const mainCoord = this.calculateCoordinate(radians,\r\n                this.accumulationDegree, PIE_W);\r\n            //for label\r\n            const rad = value * RAD / 2;\r\n            const deg = value * MAX_DEG / 2;\r\n            const labelCoord = this.calculateCoordinate(radians - rad,\r\n                this.accumulationDegree - deg, PIE_W / 2);\r\n            return { ...mainCoord, labelCoord: labelCoord };\r\n        }\r\n\r\n        this.calculateCoordinate = (radians, accDegree, radius) => {\r\n\r\n            let newX = 0, newY = 0;\r\n            const quad = this.getQuadrant(accDegree);\r\n\r\n            const adjustedX = Math.abs(radius * Math.cos(radians));\r\n            const adjuxtedY = Math.abs(radius * Math.sin(radians));\r\n            if (quad == 1) {\r\n                newX = circleX + adjustedX;\r\n                newY = circleY - adjuxtedY;\r\n\r\n            } else if (quad == 2) {\r\n                newX = circleX - adjustedX;\r\n                newY = circleY - adjuxtedY;\r\n            } else if (quad == 3) {\r\n                newX = circleX - adjustedX;\r\n                newY = circleY + adjuxtedY;\r\n            } else if (quad == 4) {\r\n                newX = circleX + adjustedX;\r\n                newY = circleY + adjuxtedY;\r\n            }\r\n            // ctx.fillRect(newX-5, newY-5, 10, 10);\r\n            return { x: newX, y: newY }\r\n        }\r\n\r\n        this.getQuadrant = (value) => {\r\n            if (value <= 90) {\r\n                return 1;\r\n            }\r\n            if (value <= 180) {\r\n                return 2;\r\n            }\r\n            if (value <= 270) {\r\n                return 3;\r\n            }\r\n            return 4;\r\n        }\r\n\r\n        this.toggleDetail = () => {\r\n            this.setState({ showDetail: !this.state.showDetail });\r\n        }\r\n\r\n        this.proportionIsFixed = () => {\r\n            const stateProp = this.state.proportions;\r\n            const prop = this.getPropsProportion();\r\n            const fixed = this.sumValues(stateProp) >= this.sumValues(prop);\r\n            return fixed;\r\n        }\r\n\r\n        this.proportionIsEmpty = () => {\r\n            const stateProp = this.state.proportions;\r\n            const prop = this.getPropsProportion();\r\n\r\n            return this.sumValues(prop) == 0 || 0 == this.sumValues(stateProp);\r\n        }\r\n\r\n        this.getPropsProportion = () => {\r\n            const proportions = this.props.proportions;\r\n            proportions.sort(function (a, b) {\r\n                return b.proportion - a.proportion;\r\n            });\r\n            return proportions;\r\n        }\r\n\r\n        this.animate = () => {\r\n            const proportions = this.getPropsProportion();\r\n            // while (this.proportionIsFixed() == false) {\r\n\r\n            const stateProp = this.state.proportions;\r\n            for (let i = 0; i < proportions.length; i++) {\r\n                const element = proportions[i];\r\n                if (stateProp[i] == null) {\r\n                    stateProp.push({\r\n                        proportion: 0,\r\n                        value: element.value,\r\n                        label: element.label,\r\n                        color: element.color\r\n                    })\r\n                }\r\n                if (stateProp[i].proportion < element.proportion) {\r\n                    stateProp[i].proportion += 0.005;\r\n                }\r\n                if (stateProp[i].proportion >= element.proportion) {\r\n                    stateProp[i].proportion = element.proportion;\r\n                }\r\n            }\r\n            this.setState({ proportions: stateProp });\r\n            if (this.proportionIsFixed() == false) {\r\n                this.requestAnimation();\r\n            }\r\n        }\r\n        // }\r\n\r\n        this.requestAnimation = () => {\r\n            if (null != this.timeoutId) {\r\n                clearTimeout(this.timeoutId);\r\n            }\r\n            this.timeoutId = setTimeout(this.animate, 1);\r\n        }\r\n\r\n        this.resetProportion = () => {\r\n            this.setState({ proportions: [] });\r\n        }\r\n\r\n    }\r\n\r\n    sumValues(proportions) {\r\n        let val = 0;\r\n        for (let i = 0; i < proportions.length; i++) {\r\n            const element = proportions[i];\r\n            val += element.proportion;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.requestAnimation();\r\n        this.updatePie();\r\n    }\r\n    componentDidUpdate() {\r\n        this.requestAnimation();\r\n        this.updatePie();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div style={{ marginBottom: '20px' }}><h3>{this.props.title ? this.props.title : \"Grafik\"}</h3>\r\n                <div style={{ height: 'auto' }} className=\"columns\">\r\n\r\n                    <div className=\"column has-text-centered \" style={{ overflowX: 'scroll' }}>\r\n                        {this.proportionIsEmpty() ? <h2 style={{ height: PIE_CANVAS_SIZE }}>Tidak ada data</h2> :\r\n                            <canvas id={this.id} className=\"has-background-light\" width={PIE_CANVAS_SIZE} height={PIE_CANVAS_SIZE}></canvas>\r\n                        }\r\n                    </div>\r\n                    <div className=\"column \">\r\n                        <AnchorWithIcon style={{ marginBottom: '10px' }} onClick={this.toggleDetail}\r\n                            iconClassName={this.state.showDetail ? \"fas fa-angle-up\" : \"fas fa-angle-down\"}>{this.state.showDetail ? \"Close\" : \"Show\"} Detail</AnchorWithIcon>\r\n                        {this.state.showDetail ? <DetailPie proportions={this.state.proportions} /> : null}\r\n                    </div>\r\n                </div></div>\r\n        )\r\n    }\r\n}\r\n\r\nconst DetailPie = (props) => {\r\n    return (<article className=\"message\">\r\n        <div className=\"message-body\" style={{ overflowX: 'scroll' }}>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>No</th>\r\n                        <th>Warna</th>\r\n                        <th>Keterangan</th>\r\n                        <th>Nilai</th>\r\n                        <th>Presentase</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {props.proportions.map((proportion, i) => {\r\n                        return (\r\n                            <tr key={\"PIE_PROP_\" + i}>\r\n                                <td style={{ width: '20px' }}>{i + 1}</td>\r\n                                <td style={{ padding: '5px', width: '50px' }}>\r\n                                    <div style={{ width: '40px', height: '40px', backgroundColor: proportion.color, }} />                            </td>\r\n                                <td>{proportion.label}</td>\r\n                                <td>{proportion.value}</td>\r\n                                <td>{parseFloat(100 * proportion.proportion).toFixed(2)}%</td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </article>)\r\n}","\r\n\r\nexport const commonAuthorizedHeader = () => {\r\n    const token = getLoginKey();\r\n    const header = {\r\n        'Content-Type': 'application/json',\r\n        // 'Authorization': 'Bearer '+ getLoginKey()\r\n    }\r\n    if (token != null && token.toString().trim() != \"\") {\r\n        header['Authorization'] = 'Bearer '+ token;\r\n    }\r\n    return header;\r\n};\r\n\r\nexport const getLoginKey = () => {\r\n    return getCookie('kafila_api_token');\r\n}\r\nexport const setApiToken = (token) => {\r\n    console.log(\"setApiToken: \", token);\r\n    return setCookie('kafila_api_token', token);\r\n}\r\n\r\nexport const getRequestId = () => {\r\n    return getCookie(\"requestId\");// document.getElementById(\"requestId\").value;\r\n}\r\n\r\nexport const setCookie = function (cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\nexport const getCookie = function (cname) {\r\n    var name = cname + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}","\r\nimport { commonAuthorizedHeader } from './../middlewares/Common';\r\n\r\nconst axios = require('axios')\r\n\r\nexport const rejectedPromise = (message) => {\r\n    return new Promise((res,rej) => {\r\n        rej(message);\r\n    });\r\n}\r\n\r\nexport const emptyPromise =  (defaultResponse) => new Promise(function(res, rej){\r\n    res(defaultResponse);\r\n});\r\n\r\nexport const commonAjaxPostCalls = (endpoint, payload = null) => {\r\n    const request = payload == null ? {} : payload;\r\n    return new Promise(function (resolve, reject) {\r\n        axios.post(endpoint, request, {\r\n            headers: commonAuthorizedHeader()\r\n        })\r\n        .then(response => response.data)\r\n        .then(function (response) {\r\n            if (response.code == \"00\") \r\n            { resolve(response); }\r\n            else \r\n            { reject(response); }\r\n        })\r\n        .catch((e) => { console.error(e); reject(e); });\r\n    })\r\n}","import * as url from '../constant/Url'\r\nimport { commonAuthorizedHeader } from '../middlewares/Common';\r\nimport { commonAjaxPostCalls } from './Promises';\r\nimport { contextPath } from './../constant/Url';\r\nexport default class RecordHistoriesService {\r\n    static instance = RecordHistoriesService.instance || new RecordHistoriesService();\r\n    getStatistic = (departement_id = null) => {\r\n        const request = {\r\n            filter:{ fieldsFilter:{}}\r\n        }\r\n\r\n        if (null != departement_id) {\r\n            request.filter.fieldsFilter['departement_id'] = departement_id;\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/histories/statistic\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n}","\r\nimport React, { Component } from 'react';\r\nimport './FormControls.css'\r\nimport { replaceString } from '../../utils/StringUtil';\r\nimport { AnchorWithIcon } from './../buttons/buttons';\r\nimport { uniqueId } from './../../utils/StringUtil';\r\n\r\nexport const CapitalizeFirstLetter = (rawString) => {\r\n    if (null == rawString || rawString.length <= 1) {\r\n        return rawString;\r\n    }\r\n    const string = new String(rawString);\r\n\r\n    let splitted = string.split(\"_\");\r\n    if (splitted.length > 1) {\r\n        let result = \"\";\r\n        for (let i = 0; i < splitted.length; i++) {\r\n            const element = splitted[i];\r\n            result += CapitalizeFirstLetter(element) + \" \";\r\n        }\r\n\r\n        return result;\r\n    }\r\n    let result = (string).substring(0, 1).toUpperCase();\r\n    result += (string).substring(1, string.length);\r\n\r\n    return result;\r\n}\r\n\r\nexport const TableHeadWithFilter = (props) => {\r\n    const headers = props.headers;\r\n    const onButtonOrderClick = props.onButtonOrderClick;\r\n    return (<thead>\r\n        <tr>\r\n            {headers.map((header, i) => {\r\n                const label = header.alias ? header.alias : header.text;\r\n                return <th style={header.style} key={\"TH_\" + i}>{CapitalizeFirstLetter(label)}\r\n\r\n                    {header.withFilter ?\r\n                        <div className=\"field has-addons\">\r\n                            <div className=\"control\">\r\n                                <InputFormFilter type=\"text\" name={header.text} />\r\n                            </div>\r\n                            <div className=\"control\" style={{ fontSize: '0.7em', backgroundColor: '#ccc' }}>\r\n                                <i sort=\"asc\" onClick={onButtonOrderClick} data={header.text} className=\"fas fa-angle-up sort-button\"></i>\r\n                                <i sort=\"desc\" onClick={onButtonOrderClick} data={header.text} className=\"fas fa-angle-down sort-button\"></i>\r\n                            </div>\r\n\r\n                        </div>\r\n                        : null}\r\n                </th>\r\n            })}\r\n        </tr>\r\n    </thead>)\r\n}\r\n//not exported\r\nconst InputFormFilter = (props) => {\r\n    const className = \"input form-filter\";\r\n    const type = props.type ? props.type : 'text';\r\n\r\n    return <input className={className} type={type} name={props.name}\r\n        id={'input-form-' + props.name} />\r\n}\r\n\r\nexport const ButtonApplyResetFilter = (props) => {\r\n    return (\r\n        <>\r\n            <div className=\"buttons has-addons\">\r\n                <button type=\"submit\" className=\"button  is-outlined is-small\">\r\n                    <span className=\"icon\">\r\n                        <i className=\"fas fa-play\"></i>\r\n                    </span>\r\n                    <span>Apply Filter</span>\r\n                </button>\r\n                <button type=\"reset\" className=\"button  is-outlined is-small\">\r\n                    <span className=\"icon\">\r\n                        <i className=\"fas fa-sync\"></i>\r\n                    </span>\r\n                    <span>Reset Filter</span>\r\n                </button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport class InputField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = uniqueId()+'-input-form-field-' + this.props.name;\r\n\r\n        this.setDateInput = (e) => {\r\n            const date = new Date().toISOString().substring(0, 10);\r\n            const input = document.getElementById(this.id);\r\n            if (!input.getAttribute(\"disabled\")) {\r\n                input.value = date;\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // console.debug(\"ID: \", this.id, this.props.required);\r\n        const props = {...this.props};\r\n        if (props.show == false) {\r\n            return null;\r\n        }\r\n\r\n        const className = \"input input-form-field \" + props.className;\r\n        const orientation = props.orientation ? props.orientation : \"horizontal\";\r\n        const label = props.label ? props.label : props.name;\r\n        if (this.props.required  != undefined && this.props.required == true) {\r\n            if (props.attributes == null) {\r\n                props.attributes = {\r\n                    required : \"required\"\r\n                };\r\n            } else {\r\n                props.attributes.required = \"required\";\r\n            }\r\n        }\r\n        return (\r\n            <div className={\"field is-\" + orientation}>\r\n                <div className=\"field-label is-normal\">\r\n                    <label className=\"label\">{CapitalizeFirstLetter(label)}</label>\r\n                    <AnchorWithIcon onClick={this.setDateInput} show={props.type == 'date'} className=\"is-small\" iconClassName=\"fas fa-history\">Today</AnchorWithIcon>\r\n                </div>\r\n                <div className=\"field-body\">\r\n                    <div className=\"field\">\r\n                        <div className=\"control\">\r\n\r\n                            {props.type == 'textarea' ?\r\n                                <textarea {...props.attributes} className={className + \" textarea\"} id={this.id} name={props.name}></textarea>\r\n                                :\r\n                                <input  {...props.attributes} type={props.type ? props.type : 'text'} id={this.id} name={props.name} className={className} />\r\n                            }\r\n                            {props.note ?\r\n                                <p><i>Note: {props.note}</i></p>\r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport const SelectField = (props) => {\r\n    const optionValues = props.options == null ? [] : props.options;\r\n    const options = optionValues.map((option, i) => {\r\n        return <option key={\"select-option-\" + i} value={option.value} >{option.text}</option>\r\n    })\r\n    const label = props.label ? props.label : props.name;\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\"><label className=\"label\">{CapitalizeFirstLetter(label)}</label></div>\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        {props.required == true ?\r\n                            <select {...props.attributes} required id={'input-form-field-' + props.name} name={props.name}\r\n                                className=\"input input-form-field\">\r\n                                {options}\r\n                            </select>\r\n                            :\r\n                            <select  {...props.attributes} id={'input-form-field-' + props.name} name={props.name}\r\n                                className=\"input input-form-field\">\r\n                                {options}\r\n                            </select>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const LabelField = (props) => {\r\n\r\n    const className = \"input\";\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\"><label className=\"label\">{props.label ? CapitalizeFirstLetter(props.label) : \"Label\"}</label></div>\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        {props.value}\r\n                        {props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const SubmitResetButton = (props) => {\r\n    const submitValue = props.submitText ? props.submitText : \"Submit\";\r\n    const submitIconClassName = props.submitIconClassName ? props.submitIconClassName : \"fas fa-save\";\r\n    const submitButtonClassName = props.submitButtonClassName ? \"button \" + props.submitButtonClassName : \"button is-link\";\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\" />\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <button className={submitButtonClassName} type=\"submit\" style={{ marginRight: '10px' }} >\r\n                        <span className=\"icon\"><i className={submitIconClassName}></i></span>\r\n                        <span>{submitValue}</span>\r\n                    </button>\r\n                    {props.withReset == true ?\r\n                        <button className=\"button is-danger\" type=\"reset\" >\r\n                            <span className=\"icon\">\r\n                                <i className=\"fas fa-sync\"></i>\r\n                            </span>\r\n                            <span>Reset</span>\r\n                        </button> : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport React from 'react';\r\n\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport * as actions from '../../../redux/actions/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport BaseComponent, { CommonTitle, mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport Card from '../../container/Card';\r\nimport PieChart from './PieChart';\r\nimport RecordHistoriesService from './../../../services/RecordHistoriesService';\r\nimport { AnchorWithIcon } from './../../buttons/buttons';\r\nimport Message from './../../messages/Message';\r\nimport { DATA_KEY_DEPARTEMENTS } from './../../../constant/ApplicationDataKeys';\r\nimport { SubmitResetButton, SelectField, LabelField } from '../../forms/commons';\r\nconst COLOR_CLOSED = 'rgb(180,230,30)';\r\nconst COLOR_NOT_CLOSED = 'rgb(255,170,200)';\r\n\r\n\r\nclass Statistic extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            errorLoadingStatistic: false\r\n        };\r\n        this.pieChartChildTopic = React.createRef();\r\n        this.pieChartChildIssue = React.createRef();\r\n\r\n        this.historiesService = RecordHistoriesService.instance;\r\n        this.statisticData = null;\r\n        this.departementList = [];\r\n\r\n        this.loadStatisticWithDepartement = (e) => {\r\n            e.preventDefault();\r\n            const input = document.getElementById(\"input-form-field-departement\");\r\n            const departement_id = input.value;\r\n            if (departement_id == 'all') {\r\n                this.loadStatistic(null);\r\n                return;\r\n            }\r\n            this.loadStatistic(departement_id);\r\n        }\r\n\r\n        this.statisticLoaded = (response) => {\r\n            this.statisticData = response;\r\n            if (this.pieChartChildTopic.current) {\r\n                this.pieChartChildTopic.current.resetProportion();\r\n            }\r\n            if (this.pieChartChildIssue.current) {\r\n                this.pieChartChildIssue.current.resetProportion();\r\n            }\r\n\r\n            if (this.isLoggedUserAdmin()) {\r\n                this.departementList = response.statistic.departements;\r\n                this.props.storeApplicationData(DATA_KEY_DEPARTEMENTS, this.departementList);\r\n            }\r\n        }\r\n\r\n        this.statisticFailedToLoad = (e) => {\r\n            console.error(e);\r\n            this.setState({ errorLoadingStatistic: true });\r\n        }\r\n        this.loadStatistic = (departement_id = null) => {\r\n            this.setState({ errorLoadingStatistic: false });\r\n            this.commonAjax(\r\n                this.historiesService.getStatistic, departement_id,\r\n                this.statisticLoaded,\r\n                this.statisticFailedToLoad,\r\n            )\r\n        }\r\n    }\r\n\r\n    getDiscussionTopicProportion = () => {\r\n        if (this.statisticData == null) { return null }\r\n        const statistic = this.statisticData.statistic;\r\n        const total_topic = statistic.topic_count;\r\n        const proportions = [\r\n            {\r\n                proportion: statistic.topic_closed_count / total_topic,\r\n                label: 'Closed',\r\n                color: COLOR_CLOSED,\r\n                value: statistic.topic_closed_count\r\n            },\r\n            {\r\n                proportion: statistic.topic_not_closed_count / total_topic,\r\n                label: 'Not Closed',\r\n                color: COLOR_NOT_CLOSED,\r\n                value: statistic.topic_not_closed_count\r\n            }\r\n        ]\r\n        return proportions;\r\n    }\r\n    getIssueProportion = () => {\r\n        if (this.statisticData == null) { return null }\r\n        const statistic = this.statisticData.statistic;\r\n        const total_issue = statistic.issue_count;\r\n        const proportions = [\r\n            {\r\n                proportion: statistic.issue_closed_count / total_issue,\r\n                label: 'Closed',\r\n                color: COLOR_CLOSED,\r\n                value: statistic.issue_closed_count\r\n            },\r\n            {\r\n                proportion: statistic.issue_not_closed_count / total_issue,\r\n                label: 'Not Closed',\r\n                color: COLOR_NOT_CLOSED,\r\n                value: statistic.issue_not_closed_count\r\n            }\r\n        ]\r\n        return proportions;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (null == this.statisticData) {\r\n            this.loadStatistic();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.isLoggedUserNull()) {\r\n            return null;\r\n        }\r\n        if (this.state.errorLoadingStatistic) {\r\n            return (<Card title=\"Statistik\">\r\n                <ErrorInfo onClick={this.loadStatistic} /></Card>);\r\n        }\r\n        const discussionTopicProportions = this.getDiscussionTopicProportion();\r\n        const issueProportions = this.getIssueProportion();\r\n        if (null == discussionTopicProportions || null == issueProportions) {\r\n            return <Card title=\"Statistik\"><p>Please Wait</p></Card>\r\n        }\r\n        const departementListMapped = this.departementList.map(function (d) {\r\n            return {\r\n                value: d.id,\r\n                text: d.name\r\n            }\r\n        });\r\n        const departementOptions = [{ value: 'all', text: '-- Semua --' }, ...departementListMapped];\r\n        return (\r\n\r\n            <Card title=\"Statistik\">\r\n                <div id=\"pie_chart_discussion_topics\">\r\n                    <PieChart title=\"Tema Pembahasan\" ref={this.pieChartChildTopic} proportions={discussionTopicProportions} />\r\n                    <PieChart title=\"Aduan\" ref={this.pieChartChildIssue} proportions={issueProportions} />\r\n\r\n\r\n                    <form style={{ marginTop: '20px' }} onSubmit={\r\n                        this.isLoggedUserAdmin() ? (e) => this.loadStatisticWithDepartement(e) : (e) => {\r\n                            e.preventDefault();\r\n                            this.loadStatistic(null)\r\n                        }}>\r\n                        {this.isLoggedUserAdmin() ?\r\n                            <SelectField name=\"departement\" options={\r\n                                departementOptions} /> : null}\r\n                        <LabelField label=\"updated_at\" value={new Date(this.statisticData.date).toString()} />\r\n                        <SubmitResetButton submitButtonClassName=\"no\" submitIconClassName=\"fas fa-sync\" submitText=\"Reload\" />\r\n\r\n                    </form>\r\n                </div>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nconst ErrorInfo = (props) => {\r\n\r\n    return (\r\n        <Message enableHidden={false} className=\"is-danger\" header=\"Gagal Memuat Data\">\r\n            <AnchorWithIcon onClick={props.onClick} iconClassName=\"fas fa-sync\">Muat Ulang</AnchorWithIcon>\r\n        </Message>\r\n    )\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    storeApplicationData: (code, data) => dispatch(actions.applicationAction.storeApplicationData(code, data)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(Statistic));","export const DATA_KEY_DEPARTEMENTS = \"departements\";","\r\nimport React from 'react';\r\n\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport * as actions from '../../../redux/actions/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport BaseComponent, { CommonTitle, mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport Card from '../../container/Card';\r\nimport PieChart from './PieChart';\r\nimport RecordHistoriesService from './../../../services/RecordHistoriesService';\r\nimport { AnchorWithIcon } from './../../buttons/buttons';\r\nimport Message from './../../messages/Message';\r\nimport Statistic from './Statistic';\r\n\r\nclass Dashboard extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n        };\r\n    }\r\n    componentWillMount() {\r\n\r\n        this.validateLoginStatus();\r\n    }\r\n    componentDidMount() {\r\n        document.title = \"Dashboard\";\r\n    }\r\n\r\n    render() {\r\n        if (this.isLoggedUserNull()) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div>\r\n                <CommonTitle>Dashboard</CommonTitle>\r\n                <Card title=\"Welcome\" >\r\n                    <p>{this.getLoggedUser().display_name}</p>\r\n                    <p>Bidang {this.props.loggedUser.departement.name}</p>\r\n                </Card>\r\n               <Statistic app={this.props.app} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(Dashboard));","\r\nimport BaseComponent from '../BaseComponent';\r\nexport default class BaseAdminPage extends BaseComponent\r\n{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.isLoggedUserNull() ||\r\n            this.props.loggedUser.role != 'admin'\r\n            ) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nimport Card from '../../container/Card';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport BaseAdminPage from './../BaseAdminPage';\r\nimport { CommonTitle } from '../../BaseComponent';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass ManagementMenu extends BaseAdminPage {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        if (this.isLoggedUserNull() ||\r\n            this.getLoggedUser().role != 'admin') {\r\n            this.backToLogin();\r\n        }\r\n        document.title = \"Management\"\r\n    }\r\n    render() {\r\n        const columnClass = \"column is-one-third\";\r\n        return (\r\n            <div>\r\n                <CommonTitle>Master Data Menu</CommonTitle>\r\n                <Card title=\"Menu\">\r\n                    <div className=\"columns\">\r\n                        <div className={columnClass}>\r\n                            <div className=\"box has-text-centered\">\r\n                                <p><i style={{ fontSize: '50px' }} className=\"fas fa-object-group\"></i></p>\r\n                                <Link to=\"/management/departements\">Departements</Link>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={columnClass}>\r\n                            <div className=\"box has-text-centered\">\r\n                                <p><i style={{ fontSize: '50px' }} className=\"fas fa-users\"></i></p>\r\n                                <Link to=\"/management/users\">Users</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus\r\n    }\r\n}\r\nexport default withRouter(\r\n    connect(mapStateToProps)(ManagementMenu));\r\n","import * as url from '../constant/Url'\r\nimport { commonAuthorizedHeader } from '../middlewares/Common';\r\nimport { rejectedPromise, commonAjaxPostCalls } from './Promises';\r\nexport default class MasterManagementService\r\n{\r\n    static instance = MasterManagementService.instance || new MasterManagementService();\r\n    constructor(){\r\n        this.usersData = null;\r\n        this.departementsData = null;\r\n    }\r\n\r\n    static getInstance()\r\n    {\r\n        if(MasterManagementService.instance == null) {\r\n            MasterManagementService.instance = new MasterManagementService();\r\n        }\r\n        return MasterManagementService.instance;\r\n    }\r\n    setUsersData = (usersData) => {\r\n        this.usersData = usersData;\r\n    }\r\n\r\n    storeUser = (user) => {\r\n        const request = {\r\n            code: 'user',\r\n            userModel:user\r\n        }\r\n\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/store\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    storeIssue = (issue) => {\r\n        const request = {\r\n            code: 'issue',\r\n            issue:issue\r\n        }\r\n\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/store\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    viewUser = (id) => {\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {code:\"user\"});\r\n    }\r\n\r\n    userList = (filter) => {\r\n        return this.list({\r\n            code: 'user',\r\n            filter: filter\r\n        });\r\n    }\r\n\r\n    viewIssue = (id) => {\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {code:\"issue\"});\r\n    }\r\n\r\n    issueList = (filter) => {\r\n        return this.list({\r\n            code: 'issue',\r\n            filter: filter\r\n        });\r\n    }\r\n\r\n    storeDepartement = (departement) => {\r\n        const request = {\r\n            code: 'departement',\r\n            departement:departement\r\n        }\r\n\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/store\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    viewDepartement = (id) => {\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {code:\"departement\"});\r\n    }\r\n    deleteRecord = (payload) => {\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/delete/\"+payload.id);\r\n        return commonAjaxPostCalls(endpoint, {code: payload.code});\r\n    }\r\n\r\n    departementList = (filter) => {\r\n        return this.list({\r\n            code: 'departement',\r\n            filter: filter\r\n        });\r\n    }\r\n\r\n    list = (payload) => {\r\n        const request = {\r\n            code: payload.code,\r\n            filter: payload.filter\r\n        }\r\n\r\n        const endpoint = url.contextPath().concat(\"api/masterdata/list\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n}","\r\nimport React, { Component, Fragment } from 'react';\r\nimport { uniqueId } from './../../utils/StringUtil';\r\n\r\nclass NavButtons extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = uniqueId();\r\n\r\n        this.onClick = (index) => {\r\n            if (this.props.onClick) {\r\n                this.props.onClick(index);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const buttonValues = generateButtonValues(this.props.limit, this.props.totalData, this.props.activeIndex);\r\n        const buttonsData = [];\r\n        let maxIndex = 1;\r\n        for (let i = 0; i < buttonValues.length; i++) {\r\n            const element = buttonValues[i];\r\n            buttonsData.push({\r\n                index: element,\r\n            });\r\n            maxIndex = element;\r\n        }\r\n\r\n        return (\r\n            <div className=\"columns\">\r\n                <div className=\"column buttons\">\r\n                    {buttonsData.map((data, i) => {\r\n                        const className = data.index == this.props.activeIndex ? \"button is-small is-link\" : \"button is-small is-light\";\r\n                        return (\r\n                            <a key={\"nav_btn_\" + i} onClick={() => { this.onClick(data.index) }} className={className}>{data.index}</a>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className=\"column control\">\r\n                    <input name=\"input-page\" placeholder=\"page\" className=\"input is-small\" min=\"1\" id={\"custom_page_\" + this.id} type=\"number\" />\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst generateButtonValues = (limit, totalData, currentPage) => {\r\n\r\n    /* DISPLAYED BUTTONS */\r\n    const displayed_buttons = [];\r\n    const buttonCount = Math.ceil(totalData / limit);\r\n\r\n    // console.debug(\"current page:\", currentPage);\r\n    const min = parseInt(currentPage) - 2;\r\n    const max = parseInt(currentPage) + 2;\r\n\r\n    // console.debug(\"min\", min, \"current page:\", currentPage, \"max\", max);\r\n    if (buttonCount > 1) {\r\n        displayed_buttons.push(1);\r\n    }\r\n    for (let i = min; i <= max; i++) {\r\n        if (i > 1 && i <= buttonCount) {\r\n            (displayed_buttons.push(i));\r\n        }\r\n    }\r\n    if (max < buttonCount) {\r\n        displayed_buttons.push(buttonCount);\r\n    }\r\n    return displayed_buttons;\r\n}\r\n\r\nexport default NavButtons;","import React from 'react';\r\nimport BaseAdminPage from './../BaseAdminPage';\r\nimport { Link } from 'react-router-dom';\r\nimport MasterManagementService from './../../../services/MasterDataService';\r\n\r\nexport default class BaseManagementPage extends BaseAdminPage {\r\n    constructor(props, name, code) {\r\n        super(props);\r\n        this.masterDataServce = MasterManagementService.instance;\r\n        this.code = code;\r\n        this.name = name;\r\n        this.page = 1;\r\n        this.limit = 5;\r\n        this.count = 0;\r\n        this.orderBy = 'id';\r\n        this.orderType = 'asc';\r\n        this.fieldsFilter = {};\r\n        this.recordData = null;\r\n\r\n        this.successLoaded = (response) => {\r\n            this.recordData = response;\r\n            this.refresh();\r\n        }\r\n\r\n        this.errorLoaded = (e) => {\r\n            console.error(\"Error loading resource: \", e);\r\n        }\r\n\r\n        this.getRecordDataStored = () => {\r\n            return null;\r\n        }\r\n        this.loadRecordByPage = (page) => {\r\n            super.page = page;\r\n            this.loadRecords();\r\n        }\r\n\r\n        this.onButtonOrderClick = (e) => {\r\n            e.preventDefault();\r\n            this.orderBy = e.target.getAttribute(\"data\")\r\n            this.orderType = e.target.getAttribute(\"sort\");\r\n            this.loadRecords();\r\n        }\r\n\r\n        this.filter = (form) => {\r\n            \r\n            const formData = new FormData(form);\r\n            let page = 1;\r\n            for(var pair of formData.entries()) {\r\n                if (pair[0] == 'input-page' && pair[1] != \"\" && pair[1] != null)\r\n                {\r\n                    page = pair[1];\r\n                    document.getElementsByName(\"input-page\")[0].value = \"\";\r\n                }\r\n             }\r\n            \r\n            this.page = parseInt(page);\r\n            this.loadRecords();\r\n        }\r\n\r\n        this.delete = (id) => {\r\n            const app = this;\r\n            this.showConfirmationDanger(\"Delete \"+this.name+\"?\")\r\n            .then(function(accepted) {\r\n                if(accepted) {\r\n                    app.deleteRecord(id);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.onSuccessDelete = (response) => {\r\n            this.showConfirmation(\"Record has been deleted\").then(this.loadRecords);\r\n        }\r\n\r\n        this.onErrorDelete = (e) => {\r\n            this.showError(\"Error Delete Record\");\r\n        }\r\n\r\n        this.deleteRecord = (id) => {\r\n            this.commonAjax(\r\n                this.masterDataServce.deleteRecord,\r\n                {code: this.code, id: id},\r\n                this.onSuccessDelete,\r\n                this.onErrorDelete\r\n            )\r\n        }\r\n\r\n        this.linkToFormCreate = (link, label) => {\r\n            return (\r\n                <Link to={link} className=\"button is-primary\" style={{marginBottom:'10px'}}>\r\n                        <span className=\"icon\">\r\n                            <i className=\"fas fa-plus\"></i>\r\n                        </span>\r\n                        <span>{label}</span>\r\n                    </Link>\r\n            )\r\n        }\r\n        this.linkToFormEdit = (link, withText = true) => {\r\n            return (\r\n                <Link to={link} className=\"button is-warning is-small\">\r\n                        <span className=\"icon\">\r\n                            <i className=\"fas fa-edit\"></i>\r\n                        </span>\r\n                        {withText?\r\n                        <span>Edit</span>\r\n                        :null}\r\n                    </Link>\r\n            )\r\n        }\r\n\r\n        this.buttonsModifyAndDelete = (editLink, id) => {\r\n            return (\r\n                <div className=\"buttons has-addons\">\r\n                    {this.linkToFormEdit(editLink, false)}\r\n                    {this.buttonDeleteRecord(id, false)}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        this.buttonDeleteRecord = (id, withText = true) => {\r\n            return (\r\n                <a onClick={()=>this.delete(id)} className=\"button is-danger is-small\">\r\n                    <span className=\"icon\">\r\n                        <i className=\"fas fa-trash\"></i>\r\n                    </span>\r\n                    {withText?\r\n                    <span>Delete</span>\r\n                    :null}\r\n                </a>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = this.name + \" Management\";\r\n        this.loadRecords();\r\n    }\r\n\r\n    loadRecords = () => {\r\n\r\n    }\r\n\r\n    \r\n    readInputForm = () => {\r\n        const form = document.getElementById('list-form');\r\n        if (form == null) return;\r\n        const inputs = form.getElementsByClassName(\"form-filter\");\r\n\r\n        this.fieldsFilter = {};\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            const element = inputs[i];\r\n            if (null != element.value && \"\" != element.value) {\r\n                this.fieldsFilter[element.name] = element.value;\r\n            }\r\n        }\r\n    }\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nexport default class Columns extends Component \r\n{\r\n    render(){\r\n        const cells = this.props.cells?this.props.cells:[];\r\n        return (\r\n            <div className=\"columns\">\r\n                {cells.map((cell, i)=>{\r\n                    return <div key={\"column-\"+i} className=\"column\">{cell}</div>\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport BaseAdminPage from './../BaseAdminPage';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport Card from './../../container/Card';\r\nimport * as formComponent from '../../forms/commons';\r\nimport MasterManagementService from './../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport NavButtons from './../../buttons/NavButtons';\r\nimport BaseManagementPage from './BaseManagementPage';\r\nimport Columns from './../../container/Columns';\r\nimport { CommonTitle } from '../../BaseComponent';\r\n\r\nclass UsersManahement extends BaseManagementPage {\r\n    constructor(props) {\r\n        super(props, \"User\", \"user\");\r\n        this.state = {\r\n            showForm: false,\r\n        };\r\n        this.departementList = [];\r\n        this.masterDataService = MasterManagementService.instance;\r\n\r\n        this.populateDefaultInputs = () => {\r\n            const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n            if (null == recordData) {\r\n                return;\r\n            }\r\n            const fieldsFilter = recordData.filter.fieldsFilter;\r\n            for (const key in fieldsFilter) {\r\n                if (fieldsFilter.hasOwnProperty(key)) {\r\n                    const element = fieldsFilter[key];\r\n                    try {\r\n                        document.getElementById(\"input-form-\" + key).value = element;\r\n                    } catch (error) {\r\n                        //\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    loadRecords = () => {\r\n        this.readInputForm();\r\n        const request = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n            orderBy: this.orderBy,\r\n            orderType: this.orderType,\r\n            fieldsFilter: this.fieldsFilter\r\n        };\r\n        this.commonAjax(this.masterDataService.userList, request, this.successLoaded, this.errorLoaded);\r\n    }\r\n    createNavButton() {\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n        if (null == recordData) {\r\n            return <></>\r\n        }\r\n        return <NavButtons onClick={this.loadRecordByPage} limit={this.limit}\r\n            totalData={recordData.count} activeIndex={this.page} />\r\n    }\r\n\r\n    render() {\r\n\r\n        const navButtons = this.createNavButton();\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n        const recordList =\r\n            (recordData == null) ||\r\n                (recordData.result_list == null) ? [] :\r\n                recordData.result_list;\r\n        return (\r\n            <div>\r\n                <CommonTitle>Users Management</CommonTitle>\r\n                \r\n                <Card title=\"Users\">\r\n                    {this.linkToFormCreate(\"/management/users/create\", \"Tambah Data\")}\r\n                    <form id=\"list-form\" onSubmit={(e) => { e.preventDefault(); this.filter(e.target) }}>\r\n                        <Columns cells={[\r\n                            formComponent.ButtonApplyResetFilter(),\r\n                            navButtons\r\n                        ]} />\r\n                        <div style={{overflow:'scroll'}}>\r\n                        <table  className=\"table\">\r\n                            <TableHeadWithFilter\r\n                                onButtonOrderClick={this.onButtonOrderClick}\r\n                                headers={[\r\n                                    { text: 'No' },\r\n                                    { text: 'id', withFilter: true },\r\n                                    { text: 'email', withFilter: true },\r\n                                    { text: 'display_name', withFilter: true },\r\n                                    { text: 'role', withFilter: true },\r\n                                    { text: 'departement', withFilter: true },\r\n                                    { text: 'action', },\r\n                                ]} />\r\n                                <tbody>\r\n                            {recordList.map((item, i) => {\r\n                                const indexBegin = (this.page - 1) * this.limit;\r\n                                return (<tr key={\"record-user-\"+i}>\r\n                                    <td>{indexBegin + i + 1}</td>\r\n                                    <td>{item.id}</td>\r\n                                    <td>{item.email}</td>\r\n                                    <td>{item.display_name}</td>\r\n                                    <td>{item.role}</td>\r\n                                    <td>{item.departement ? item.departement.name : '-'}</td>\r\n                                    <td style={{width:'150px', display: 'block', border:'none'}}>\r\n                                        {this.buttonsModifyAndDelete(  \r\n                                            \"/management/users/\"+item.id,\r\n                                            item.id)}     \r\n                                    </td>\r\n                                </tr>)\r\n                            })}\r\n                            </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst TableHeadWithFilter = (props) => {\r\n    return formComponent.TableHeadWithFilter(props);\r\n}\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus\r\n    }\r\n}\r\nexport default withRouter(\r\n    connect(mapStateToProps)(UsersManahement));","import React, { Component } from 'react';\r\nimport BaseAdminPage from '../BaseAdminPage';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport Card from '../../container/Card';\r\nimport * as formComponent from '../../forms/commons';\r\nimport MasterManagementService from '../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport NavButtons from '../../buttons/NavButtons';\r\nimport BaseManagementPage from './BaseManagementPage';\r\nimport Columns from './../../container/Columns';\r\nimport { CommonTitle } from '../../BaseComponent';\r\nimport { applicationAction } from '../../../redux/actions/actionCreators';\r\nimport { DATA_KEY_DEPARTEMENTS } from './../../../constant/ApplicationDataKeys';\r\nclass DeparementManagement extends BaseManagementPage {\r\n    constructor(props) {\r\n        super(props, \"Departement\", \"departement\");\r\n        this.state = {};\r\n\r\n        this.masterDataService = MasterManagementService.instance;\r\n\r\n        this.populateDefaultInputs = () => {\r\n            const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n            if (null == recordData) {\r\n                return;\r\n            }\r\n            const fieldsFilter = recordData.filter.fieldsFilter;\r\n            for (const key in fieldsFilter) {\r\n                if (fieldsFilter.hasOwnProperty(key)) {\r\n                    const element = fieldsFilter[key];\r\n                    try {\r\n                        document.getElementById(\"input-form-\" + key).value = element;\r\n                    } catch (error) {\r\n                        //\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.onSuccessDelete = (response) => {\r\n            this.removeDataFromStore(response.record_id);\r\n            this.showConfirmation(\"Record has been deleted\").then(this.loadRecords);\r\n        }\r\n        this.removeDataFromStore = (id) => {\r\n            const appData = this.props.applicationData;\r\n            const departementList = appData[DATA_KEY_DEPARTEMENTS];\r\n            if (null == departementList) { return; }\r\n            const exist = departementList.find(dep => dep.id == id) != null;\r\n            if (!exist) return;\r\n\r\n            for (let i = 0; i < departementList.length; i++) {\r\n                const element = departementList[i];\r\n                if (element.id == id) {\r\n                    departementList.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.props.storeApplicationData(DATA_KEY_DEPARTEMENTS, departementList);\r\n        }\r\n    }\r\n\r\n    loadRecords = () => {\r\n        this.readInputForm();\r\n        const request = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n            orderBy: this.orderBy,\r\n            orderType: this.orderType,\r\n            fieldsFilter: this.fieldsFilter\r\n        };\r\n        this.commonAjax(this.masterDataService.departementList, request, this.successLoaded, this.errorLoaded);\r\n    }\r\n    createNavButton() {\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n        if (null == recordData) {\r\n            return <></>\r\n        }\r\n        return <NavButtons onClick={this.loadRecordByPage} limit={this.limit}\r\n            totalData={recordData.count} activeIndex={this.page} />\r\n    }\r\n\r\n    render() {\r\n        const navButtons = this.createNavButton();\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n        const recordList = recordData == null ||\r\n            recordData.result_list == null ? [] :\r\n            recordData.result_list;\r\n        return (\r\n            <div>\r\n                <CommonTitle>Departements Management</CommonTitle>\r\n                <Card title=\"Departement\">\r\n                    {this.linkToFormCreate(\"/management/departements/create\", \"Tambah Data\")}\r\n                    <form id=\"list-form\" onSubmit={(e) => { e.preventDefault(); this.filter(e.target) }}>\r\n                        <Columns cells={[\r\n                            formComponent.ButtonApplyResetFilter(), navButtons\r\n                        ]} />\r\n                        <div style={{ overflow: 'scroll' }}>\r\n                            <table className=\"table\">\r\n                                <TableHeadWithFilter\r\n                                    onButtonOrderClick={this.onButtonOrderClick}\r\n                                    headers={[\r\n                                        { text: 'No' },\r\n                                        { text: 'id', withFilter: true },\r\n                                        { text: 'name', withFilter: true },\r\n                                        { text: 'description', withFilter: true },\r\n                                        { text: 'action' }\r\n                                    ]} />\r\n                                <tbody>\r\n                                    {recordList.map((item, i) => {\r\n                                        const indexBegin = (this.page - 1) * this.limit;\r\n                                        return (<tr key={\"record_\" + i}>\r\n                                            <td>{indexBegin + i + 1}</td>\r\n                                            <td>{item.id}</td>\r\n                                            <td>{item.name}</td>\r\n                                            <td>{item.description}</td>\r\n                                            <td style={{width:'150px', display: 'block', border:'none'}}>\r\n                                                {this.buttonsModifyAndDelete(\r\n                                                    \"/management/departements/\" + item.id,\r\n                                                    item.id)}\r\n                                            </td>\r\n                                        </tr>)\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst TableHeadWithFilter = (props) => {\r\n    return formComponent.TableHeadWithFilter(props);\r\n}\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n        applicationData: state.applicationState.applicationData\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    storeApplicationData: (code, data) => dispatch(applicationAction.storeApplicationData(code, data)),\r\n})\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(DeparementManagement));","import React, { Component } from 'react';\r\nimport Card from '../../container/Card';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport { InputField, SelectField } from '../../forms/commons';\r\nimport BaseComponent, { CommonTitle } from './../../BaseComponent';\r\nimport MasterManagementService from './../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport Message from './../../messages/Message';\r\nimport { SubmitResetButton } from './../../forms/commons';\r\n\r\nclass UserManagementForm extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n            departementList: []\r\n        };\r\n        this.masterDataService = MasterManagementService.instance;\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Save User?\").then(function(accepted) {\r\n                if (accepted) {\r\n                    app.storeRecord(form);\r\n                }\r\n            });            \r\n        }\r\n\r\n        this.storeRecord = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const user = {};\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    let fieldName = element.name;\r\n\r\n                    if (fieldName == 'departement') {\r\n                        fieldName = 'departement_id'\r\n                    }\r\n\r\n                    user[fieldName] = element.value;\r\n                }\r\n            }\r\n            if (this.getRecordId() != null) {\r\n                user.id = this.getRecordId();\r\n            }\r\n            this.store(user);\r\n            console.debug(\"USER: \", user);\r\n        }\r\n\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n\r\n        this.departementListLoaded = (response) => {\r\n            this.setState({ departementList: response.result_list });\r\n            if (null != this.getRecordId()) {\r\n                this.loadRecord();\r\n            }\r\n            console.log(\"departementListLoaded: \", response);\r\n        }\r\n\r\n        this.recordSaved = (response) => {\r\n            this.showInfo(\"SUCCESS SAVING RECORD\");\r\n            if (this.getRecordId() == null) {\r\n                this.handleSuccessGetRecord(response);\r\n                this.props.history.push(\"/management/users/\"+response.user.id);\r\n            }\r\n        }\r\n        this.recordFailedToSave = (e) => {\r\n            this.showError(\"FAILED SAVING RECORD\");\r\n        }\r\n\r\n        this.store = (user) => {\r\n            this.commonAjax(\r\n                this.masterDataService.storeUser, user,\r\n                this.recordSaved, this.recordFailedToSave\r\n            )\r\n        }\r\n\r\n        this.loadDepartements = () => {\r\n            this.commonAjax(\r\n                this.masterDataService.departementList, {},\r\n                this.departementListLoaded,\r\n                (error) => { }\r\n            );\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n\r\n            this.setState({ isLoadingRecord: false });\r\n            const form = document.getElementById(\"form-management\");\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n\r\n                if (element.name == \"departement\") {\r\n                    element.value = response.user.departement_id;\r\n                } else if(element.name == \"password\"){\r\n                    element.value = null;\r\n                } else {\r\n                    element.value = response.user[element.name];\r\n                }\r\n            }\r\n        }\r\n\r\n        this.handleErrorGetRecord = (e) => {\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.masterDataService.viewUser, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDepartements();\r\n        document.title = \"User Form\";\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.recordNotFound) {\r\n            return <Message className=\"is-danger\" body=\"Record Not Found\" />\r\n        }\r\n\r\n        if (this.getRecordId() != null && this.state.isLoadingRecord) {\r\n            return <div>\r\n                <CommonTitle>Users Management</CommonTitle>\r\n                <h3>Please Wait...</h3>\r\n            </div>\r\n        }\r\n\r\n        const formTitle = <>\r\n            <Link to=\"/management/users\">Users</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;Form\r\n        </>\r\n        return (\r\n            <div>\r\n                <CommonTitle>Users Management</CommonTitle>\r\n                <Card title={formTitle} >\r\n                    <form onSubmit={this.onSubmit} id=\"form-management\" >\r\n                        <InputField label=\"Email\" name=\"email\" required={true} type=\"email\" />\r\n                        <InputField label=\"Username\" name=\"name\" required={true} />\r\n                        <InputField label=\"Display Name\" name=\"display_name\" required={true} />\r\n                        {/* <InputField label=\"Role\" name=\"role\" required={true} /> */}\r\n                        <InputField label=\"Password\" name=\"password\" note=\"Kosongkan password apabila tidak ingin diubah\" />\r\n                        <SelectField label=\"Departement\" options={this.state.departementList.map(dep => {\r\n                            return {\r\n                                value: dep.id,\r\n                                text: dep.name\r\n                            }\r\n                        })} name=\"departement\" required={true} />\r\n                        <SubmitResetButton submitText={\r\n                            this.getRecordId() == null ? \"Create\" : \"Update\"\r\n                        } withReset={this.getRecordId() == null} />\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus\r\n    }\r\n}\r\nexport default withRouter(\r\n    connect(mapStateToProps)(UserManagementForm));","import React, { Component } from 'react';\r\nimport Card from '../../container/Card';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport { InputField, SelectField } from '../../forms/commons';\r\nimport BaseComponent, { CommonTitle } from '../../BaseComponent';\r\nimport MasterManagementService from '../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport Message from '../../messages/Message';\r\nimport { SubmitResetButton } from '../../forms/commons';\r\nimport { applicationAction } from '../../../redux/actions/actionCreators';\r\nimport { DATA_KEY_DEPARTEMENTS } from './../../../constant/ApplicationDataKeys';\r\n\r\nclass DepartementManagementForm extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n        };\r\n        this.masterDataService = MasterManagementService.instance;\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Save Data?\").then(function(accepted){\r\n                if (accepted) {\r\n                    app.storeDepartement(form);\r\n                }\r\n            });\r\n           \r\n        }\r\n\r\n        this.storeDepartement = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const departement = {};\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    let fieldName = element.name;\r\n                    departement[fieldName] = element.value;\r\n                }\r\n            }\r\n            if (this.getRecordId() != null) {\r\n                departement.id = this.getRecordId();\r\n            }\r\n            this.store(departement);\r\n            console.debug(\"Departement: \", departement);\r\n        }\r\n\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n\r\n        this.updateLocallyStoredDepartements = (departement) => {\r\n            const appData = this.props.applicationData;\r\n            const departementList = appData[DATA_KEY_DEPARTEMENTS];\r\n            if (null == departementList) {return;}\r\n            const exist = departementList.find(dep => dep.id == departement.id) != null;\r\n            if (exist) {\r\n                for (let i = 0; i < departementList.length; i++) {\r\n                    const element = departementList[i];\r\n                    if (element.id == departement.id) {\r\n                        departementList[i] = departement;\r\n                        break;\r\n                    }\r\n                }\r\n                \r\n            } else {\r\n                departementList.push(departement);\r\n            }\r\n            this.props.storeApplicationData(DATA_KEY_DEPARTEMENTS, departementList);\r\n        }\r\n\r\n        this.recordSaved = (response) => {\r\n            this.showInfo(\"SUCCESS SAVING RECORD\");\r\n            this.updateLocallyStoredDepartements(response.departement);\r\n            if (this.getRecordId() == null) {\r\n                this.handleSuccessGetRecord(response);\r\n                this.props.history.push(\"/management/departements/\"+response.departement.id);\r\n            }\r\n        }\r\n        this.recordFailedToSave = (e) => {\r\n            this.showError(\"FAILED SAVING RECORD\");\r\n        }\r\n\r\n        this.store = (departement) => {\r\n            this.commonAjax(\r\n                this.masterDataService.storeDepartement, departement,\r\n                this.recordSaved, this.recordFailedToSave\r\n            )\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n\r\n            this.setState({ isLoadingRecord: false });\r\n            const form = document.getElementById(\"form-management\");\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                element.value = response.departement[element.name];\r\n\r\n            }\r\n        }\r\n\r\n        this.handleErrorGetRecord = (e) => {\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.masterDataService.viewDepartement, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Departement Form\";\r\n        if (null != this.getRecordId()) {\r\n            this.loadRecord();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.recordNotFound) {\r\n            return <Message className=\"is-danger\" body=\"Record Not Found\" />\r\n        }\r\n\r\n        if (this.getRecordId() != null && this.state.isLoadingRecord) {\r\n            return <div>\r\n                <CommonTitle>Departements Management</CommonTitle>\r\n                <h3>Please Wait...</h3>\r\n            </div>\r\n        }\r\n\r\n        const formTitle = <>\r\n            <Link to=\"/management/departements\">Departements</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;Form\r\n        </>\r\n        return (\r\n            <div>\r\n               <CommonTitle>Departements Management</CommonTitle>\r\n                <Card title={formTitle} >\r\n                    <form onSubmit={this.onSubmit} id=\"form-management\" >\r\n                        <InputField label=\"Nama\" name=\"name\" required={true} />\r\n                        <InputField label=\"Deskripsi\" name=\"description\" type=\"textarea\" required={true} />\r\n                        <SubmitResetButton submitText={\r\n                            this.getRecordId() == null ? \"Create\" : \"Update\"\r\n                        } withReset={this.getRecordId() == null} />\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n        applicationData: state.applicationState.applicationData\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    storeApplicationData: (code, data) => dispatch(applicationAction.storeApplicationData(code, data)),\r\n})\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(DepartementManagementForm));","import * as url from '../constant/Url'\r\nimport { commonAuthorizedHeader } from '../middlewares/Common';\r\nimport { commonAjaxPostCalls } from './Promises';\r\nimport { contextPath } from './../constant/Url';\r\nexport default class MeetingNoteSerivce {\r\n    static instance = MeetingNoteSerivce.instance || new MeetingNoteSerivce();\r\n\r\n    list = (filter) => {\r\n        const request = {\r\n            code: 'notes',\r\n            filter: filter\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/notes/list\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    store = (meetingNote) => {\r\n\r\n        const request = {\r\n            meeting_note: meetingNote\r\n        }\r\n\r\n        const endpoint = url.contextPath().concat(\"api/notes/store\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    view = (id) => {\r\n        const endpoint = url.contextPath().concat(\"api/notes/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {});\r\n    }\r\n\r\n}","\r\nimport { commonAjaxPostCalls } from './Promises';\r\nimport { contextPath } from './../constant/Url';\r\n\r\nexport default class DiscussionTopicsService\r\n{\r\n    static instance = DiscussionTopicsService.instance || new DiscussionTopicsService();\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    store = (discussionTopic) => {\r\n\r\n        const request = {\r\n            discussion_topic: discussionTopic\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/discussiontopics/store\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n\r\n    list = (filter) => {\r\n        const request = {\r\n            code: 'discussion_topic',\r\n            filter: filter\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/discussiontopics/list\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    view = (id) => {\r\n        const endpoint = contextPath().concat(\"api/discussiontopics/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {});\r\n    }\r\n    // delete = (id) => {\r\n    //     const endpoint = contextPath().concat(\"api/discussiontopics/delete/\"+id);\r\n    //     return commonAjaxPostCalls(endpoint, {});\r\n    // }\r\n    storeAction = (action) => {\r\n        const request = {\r\n            discussion_action: action\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/discussiontopics/action\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n}","export const byId = (id) => { return document.getElementById(id) }\r\n\r\n\r\n/**\r\n * \r\n * @param  {...string} ignoredIds \r\n */\r\nexport const clearFields = (...ignoredIds) => {\r\n    let inputs = document.getElementsByTagName(\"input\");\r\n\r\n    let withIgnore = ignoredIds != null;\r\n    loop: for (let i = 0; i < inputs.length; i++) {\r\n        if (withIgnore) {\r\n            for (let y = 0; y < ignoredIds.length; y++) {\r\n                if (inputs[i].id == ignoredIds[y]) continue loop;\r\n            }\r\n        }\r\n\r\n        if (inputs[i].type == \"text\") { inputs[i].value = \"\"; }\r\n        else if (inputs[i].type == \"number\") { inputs[i].value = 0; }\r\n        else { inputs[i].value = null; }\r\n    }\r\n}\r\n\r\nexport function getAttachmentData(input) {\r\n    const file = input.files[0];\r\n    const name = file.name;\r\n    const lastDot = name.lastIndexOf('.');\r\n    const fileName = name.substring(0, lastDot);\r\n    const ext = name.substring(lastDot + 1);\r\n    const size = file.size;\r\n    // console.debug(\"FileName: \", fileName, \"ext: \", ext, \"FILE:\", file);\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(input.files[0]);\r\n            reader.onload = function () {\r\n                const attachmentData = {\r\n                    isFile:true,\r\n                    data:reader.result,\r\n                    name:name,\r\n                    extension:ext,\r\n                    size:size\r\n                };\r\n                resolve(attachmentData); \r\n            }\r\n            reader.onerror = function (error) {\r\n                reject(error);\r\n            }\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n}\r\n\r\nexport function toBase64v2(fileInput) {\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(fileInput.files[0]);\r\n            reader.onload = function () { resolve(reader.result); }\r\n            reader.onerror = function (error) {\r\n                reject(error);\r\n            }\r\n        } catch (e) {\r\n            reject(e);\r\n        }\r\n    });\r\n\r\n}\r\n\r\nexport function toBase64(file, referer, callback) {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file.files[0]);\r\n    reader.onload = () => callback(reader.result, referer);\r\n    reader.onerror = error => {\r\n        alert(\"Error Loading File\");\r\n    }\r\n}\r\n\r\nexport const checkExistance = function (...ids) {\r\n    for (let i = 0; i < ids.length; i++) {\r\n        if (byId(ids[i]) == null) {\r\n            console.log(\"component with id:\", ids[i], \"does not exist\");\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param {Number} totalButton \r\n * @param {Number} currentPage \r\n */\r\nexport const createNavButtons = (totalButton, currentPage) => {\r\n    totalButton = Math.ceil(totalButton);\r\n    if (!currentPage) { currentPage = 0 }\r\n    let buttonData = new Array();\r\n    let min = currentPage - 3 < 0 ? 0 : currentPage - 3;\r\n    let max = currentPage + 3 > totalButton ? totalButton : currentPage + 3;\r\n\r\n    if (min != 0) {\r\n        buttonData.push({\r\n            text: 1,\r\n            value: 0\r\n        });\r\n    }\r\n\r\n    for (let index = min; index < max; index++) {\r\n        buttonData.push({\r\n            text: index + 1,\r\n            value: index\r\n        });\r\n    }\r\n\r\n    if (max != totalButton) {\r\n        buttonData.push({\r\n            text: totalButton,\r\n            value: totalButton - 1\r\n        });\r\n    }\r\n\r\n\r\n    return buttonData;\r\n}\r\n\r\n\r\nexport const getDropdownOptionsMonth = () => {\r\n    let options = [];\r\n    for (let i = 1; i <= 12; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}\r\nexport const getDropdownOptionsYear = (from, to) => {\r\n    let options = [];\r\n    for (let i = from; i <= to; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}","\r\nimport React, { Component } from 'react';\r\nclass Alert extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onYes = (e) => {\r\n\r\n            if (this.props.onYes) {\r\n                this.props.onYes(e);\r\n            }\r\n        }\r\n        this.onNo = (e) => {\r\n\r\n            if (this.props.onNo) {\r\n                this.props.onNo(e);\r\n            }\r\n        }\r\n        this.onClose = (e) => {\r\n            if (this.props.onClose) {\r\n                this.props.onClose(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        try {\r\n            document.getElementById(\"button-alert-yes\").focus();\r\n        } catch (error) {\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const title = this.props.title ? this.props.title : \"Info\";\r\n        const yesOnly = this.props.yesOnly == true;\r\n        const isError = this.props.isError == true;\r\n        let headerClassName = 'modal-card-head has-background-link';\r\n        if (isError) {\r\n            headerClassName = 'modal-card-head has-background-danger';\r\n        }\r\n        return (\r\n            <>\r\n                <ModalBackdrop>\r\n                    <form onSubmit={(e)=>e.preventDefault()}>\r\n                    <div className='modal-card'>\r\n                        <header className={headerClassName}>\r\n                            <p className='modal-card-title has-text-white'>{title}</p>\r\n                        </header>\r\n                        <section  className= 'modal-card-body'>\r\n                            {this.props.children}\r\n                        </section>\r\n                        <footer className='modal-card-foot'>\r\n                            <div style={{margin:'auto'}}>\r\n                                <button id=\"button-alert-yes\" type=\"submit\" \r\n                                onClick={this.onYes} className={this.props.yesOnly||this.props.isError?\"button\" : \"button is-link\"}>\r\n                                    Yes\r\n                                </button>\r\n                                {this.props.yesOnly?null:<button onClick={this.onNo} className=\"button\">No</button>}\r\n                            </div>\r\n                        </footer>\r\n                    </div>\r\n                    </form>\r\n\r\n                </ModalBackdrop>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport const ModalBackdrop = (props) => {\r\n    return (\r\n        <div className=\"modal is-active has-text-centered\" style={{ backgroundColor: 'rgba(100,100,100,0.7)' }} >\r\n            <div className=\"modal-background\"></div>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Alert;","import React from 'react'\r\nimport BaseComponent from '../../BaseComponent';\r\nimport Card from './../../container/Card';\r\nimport { SubmitResetButton, InputField } from '../../forms/commons';\r\nimport { ModalBackdrop } from './../../messages/Alert';\r\nimport DiscussionTopicsService from './../../../services/DiscussionTopicsService';\r\nconst CLASS_INPUT_FIELD = \"input-form-field\";\r\nexport default class DiscussionTopicPopupForm extends BaseComponent\r\n{\r\n    constructor(props){\r\n        super(props);\r\n        this.discussionTopicService = DiscussionTopicsService.instance;\r\n        this.onSubmitDiscussionTopic = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n\r\n            if (!window.confirm(\"Submit Data?\")) {\r\n                return;\r\n            }\r\n            const inputs = form.getElementsByClassName(CLASS_INPUT_FIELD);\r\n            const discussionTopic = {\r\n                note_id: this.props.meetingNote.id\r\n            };\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                discussionTopic[element.name] = element.value;\r\n            }\r\n            console.debug(\"SUBMIT:\", discussionTopic);\r\n            this.storeDiscussionTopic(discussionTopic);\r\n        }\r\n        this.storeDiscussionTopic = (discussionTopic) => {\r\n            this.commonAjax(this.discussionTopicService.store, discussionTopic,\r\n                this.discussionTopicSaved, this.handleErrorSubmitDiscussionTopic);\r\n        }\r\n        this.discussionTopicSaved = (response) => {\r\n            alert(\"Success\");\r\n            this.props.onSuccess(response);\r\n            // this.loadRecord();\r\n\r\n        }\r\n        this.handleErrorSubmitDiscussionTopic = (e) => {\r\n            alert(\"Error Update Discussion Topic: \" + e);\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.props.show == false || this.props.meetingNote == null) {\r\n            return null;\r\n        }\r\n        return (\r\n            <ModalBackdrop >\r\n            <div className=\"container\">\r\n                <Card title=\"Tambah Tema Pembahasan\"\r\n                    headerIconClassName=\"fas fa-times\"\r\n                    headerIconOnClick={this.props.onClose}\r\n                >   \r\n                    <div style={{overflow:'scroll'}}>\r\n                    <form onSubmit={this.onSubmitDiscussionTopic}>\r\n                        <InputField className=\"discussion-topic\" required={true} label=\"Pembahasan\" name={\"content\"} type=\"textarea\" />\r\n                        <InputField className=\"discussion-topic\" required={true} label=\"Keputusan\" name={\"decision\"} type=\"textarea\" />\r\n                        <InputField className=\"discussion-topic\" required={true} label=\"Deadline\" name={\"deadline_date\"} type=\"date\" />\r\n                        <InputField className=\"discussion-topic\" required={true} label=\"Penganggung Jawab\" name={\"person_in_charge\"} />\r\n                        <SubmitResetButton />\r\n                   \r\n                    <div className=\"level\">\r\n                        <div className=\"level-left\">\r\n                        <a className=\"button\" onClick={this.props.onClose}>Close</a>\r\n                        </div>\r\n                    </div>\r\n                    </form> \r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </ModalBackdrop>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '../../container/Card';\r\nimport { SubmitResetButton, LabelField, InputField } from '../../forms/commons';\r\nexport const TOPIC_PREFIX = \"discussion_topic_\";\r\n\r\nexport const DiscussionTopicCommonInputs = (props) => {\r\n    const inputPrefix = props.inputPrefix;\r\n    return <React.Fragment>\r\n        <InputField className=\"discussion-topic\" required={true} label=\"Pembahasan\" name={inputPrefix + \"_content\"} type=\"textarea\" />\r\n        <InputField className=\"discussion-topic\" required={true} label=\"Keputusan\" name={inputPrefix + \"_decision\"} type=\"textarea\" />\r\n        <InputField className=\"discussion-topic\" required={true} label=\"Deadline\" name={inputPrefix + \"_deadline_date\"} type=\"date\" />\r\n        <InputField className=\"discussion-topic\" required={true} label=\"Penganggung Jawab\" name={inputPrefix + \"_person_in_charge\"} />\r\n\r\n    </React.Fragment>\r\n}\r\n\r\nexport const FormTitle = (props) => {\r\n\r\n    return (<><Link to=\"/discussiontopics\">Tema Pembahasan</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;\r\n    Form\r\n    </>)\r\n}\r\nexport const ButtonRemoveTopic = (props) => {\r\n    if (props.show == false) { return null; }\r\n    return (\r\n        <a className=\"button is-danger is-outlined\" onClick={(e) => props.removeDiscussionTopic(props.id)}>\r\n            <span className=\"icon\"><i className=\"fas fa-times\" /></span>\r\n            <span>Remove</span>\r\n        </a>\r\n    )\r\n}\r\n\r\nexport const DiscussionTopicStatusInfo = (props) => {\r\n    const meetingNote = props.meetingNote;\r\n    if (null == meetingNote) return null;\r\n    const discussion_topics = meetingNote.discussion_topics;\r\n    if (null == discussion_topics) return null;\r\n    let closed = 0;\r\n    for (let i = 0; i < discussion_topics.length; i++) {\r\n        const element = discussion_topics[i];\r\n        if (element.is_closed) {\r\n            closed++;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <table><tbody><tr >\r\n            <td style={{ border: 'none' }}>\r\n                <div className=\"tags has-addons are-small\">\r\n                    <span className=\"tag is-light\">Closed</span>\r\n                    <span className=\"tag is-info\">{closed}</span>\r\n                </div>\r\n            </td><td style={{ border: 'none' }}>\r\n                <div className=\"tags has-addons are-small\">\r\n                    <span className=\"tag is-light\">Not Closed</span>\r\n                    <span className=\"tag is-danger\">{discussion_topics.length - closed}</span>\r\n                </div></td>\r\n        </tr></tbody></table>\r\n    )\r\n}\r\n\r\nexport const ButtonAddTopic = (props) => {\r\n    return (\r\n        <div className=\"has-text-centered\">\r\n            <a className=\"button is-primary is-outlined\" onClick={props.addDiscussionTopic}\r\n                style={{ marginTop: '10px', marginBottom: '10px' }}>\r\n                <span className=\"icon\">\r\n                    <i className=\"fas fa-plus\"></i>\r\n                </span>\r\n                <span>{\"Tambah Tema Pembahasan\"}</span>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const AttachmentInfo = (props) => {\r\n    if (!props.show) { return null }\r\n    return (<div className=\"tags has-addons\">\r\n        <span className=\"tag is-info\">\r\n            Attachment : {props.name}\r\n        </span>\r\n        <span className=\"tag is-warning\" style={{ cursor: 'pointer' }}\r\n            onClick={props.onRemoveClick}>remove</span>\r\n    </div>)\r\n}\r\n\r\nexport const LinkEditAndAction = (props) => {\r\n    if (props.show == false) return null;\r\n    const id = props.id;\r\n    return (\r\n        <div className=\"buttons has-addons\">\r\n            <Link to={\"/discussiontopics/\" + id} className=\"button is-warning\">\r\n                <i className=\"fas fa-edit\" />&nbsp;Edit\r\n                </Link>\r\n            <Link to={\"/discussiontopics/\" + id + \"/action\"} className=\"button is-primary\">\r\n                <i className=\"fas fa-location-arrow\" />&nbsp;Konfirmasi\r\n                </Link></div>\r\n    )\r\n}\r\nexport const ClosedInfoTag = (props) => {\r\n    if (props.show == false) return null;\r\n    if (props.closed == true) {\r\n        return <span className=\"tag is-info\"><i className=\"fas fa-check\" />&nbsp;Closed</span>\r\n    }\r\n    return <span className=\"tag is-warning\">Not Closed</span>;\r\n}\r\nexport const FormUpperTag = (props) => {\r\n    if (props.show == false || null == props.meetingNote) { return null }\r\n    const meetingNote = props.meetingNote;\r\n    return (\r\n        <div style={{ marginBottom: '20px' }}>\r\n            <div className=\"level\">\r\n                <div className=\"level-left\" >\r\n                    <DiscussionTopicStatusInfo meetingNote={meetingNote} />\r\n                </div>\r\n                <div className=\"level-right\">\r\n                    <span className=\"tag is-primary is-medium\">{meetingNote.departement==null?null:meetingNote.departement.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const LabelDiscussionTopicCount = (props) => {\r\n    return (<LabelField label=\"Tema Pembahasan\" >\r\n        <span className=\"tag is-dark\">\r\n            <b>{props.count}</b></span>\r\n    </LabelField>)\r\n}\r\n\r\nexport const MeetingNoteSubmitResetField = (props) => {\r\n    if (props.show == false) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Card title=\"Action\">\r\n            <SubmitResetButton submitText={\"Create\"} withReset={true} />\r\n        </Card>\r\n    )\r\n}\r\n","\r\nimport { TOPIC_PREFIX } from './componentHelper';\r\nexport const extractMeetingNoteObjectToTempData = (meetingNote) => {\r\n    const tempData = {};\r\n    for (const key in meetingNote) {\r\n        if (meetingNote.hasOwnProperty(key)) {\r\n            const element = meetingNote[key];\r\n            if (key == (\"discussion_topics\")) {\r\n                continue;\r\n            }\r\n            tempData[key] = element;\r\n        }\r\n    }\r\n    if (meetingNote.discussion_topics)\r\n        for (let i = 0; i < meetingNote.discussion_topics.length; i++) {\r\n            const discussion_topic = meetingNote.discussion_topics[i];\r\n            for (const key in discussion_topic) {\r\n                if (discussion_topic.hasOwnProperty(key)) {\r\n                    const element = discussion_topic[key];\r\n                    let prefixedKey = TOPIC_PREFIX + discussion_topic.id + \"_\" + key;\r\n                    tempData[prefixedKey] = element;\r\n                }\r\n            }\r\n        }\r\n    return tempData;\r\n}\r\nexport const enableAllInputs = (inputs) => {\r\n    if (null == inputs) return;\r\n    for (let i = 0; i < inputs.length; i++) {\r\n        const element = inputs[i];\r\n        element.removeAttribute(\"disabled\");\r\n    }\r\n}\r\nexport const getArrayIndexWithValue = (array, value) => {\r\n    for (let i = 0; i < array.length; i++) {\r\n        if (array[i] == value) {\r\n            return i;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport const mergeObject = (original, toMerge) => {\r\n    for (const key in toMerge) {\r\n        if (toMerge.hasOwnProperty(key)) {\r\n            const element = toMerge[key];\r\n            original[key] = element;\r\n        }\r\n    }\r\n}\r\nexport const extractInputValues = (inputs) => {\r\n    const values = {};\r\n    for (let i = 0; i < inputs.length; i++) {\r\n        const element = inputs[i];\r\n        const name = element.name;\r\n        if (element.value == null || element.value == \"\") {\r\n            continue;\r\n        }\r\n        if (element.type == 'file') {\r\n            //\r\n        } else {\r\n            values[name] = element.value;\r\n        }\r\n    }\r\n    \r\n    console.debug(\"SAVED TEMP: \", values);\r\n    return values;\r\n}\r\nexport const populateInputs = (inputs, object, disabled = false) => {\r\n    console.debug(\"setTempDiscussionTopicValues: \", object);\r\n            \r\n    for (let i = 0; i < inputs.length; i++) {\r\n        const element = inputs[i];\r\n        if (element.type == 'file') continue;\r\n        if (null != object[element.name]) {\r\n            element.value = object[element.name];\r\n        } else {\r\n            element.value = null;\r\n        }\r\n\r\n        if (disabled) {\r\n            element.setAttribute(\"disabled\", \"disabled\");\r\n        }\r\n    }\r\n}\r\n\r\nexport const getMaxDiscussionTopicID = (discussionTopicCount) => {\r\n    let max = 0;\r\n    for (let i = 0; i < discussionTopicCount.length; i++) {\r\n        const element = discussionTopicCount[i];\r\n        if (element > max) {\r\n            max = element;\r\n        }\r\n    }\r\n    return max;\r\n}\r\n\r\nexport const getDiscussionTopic = (meetingNote, id) => {\r\n    if (null == meetingNote || null == meetingNote.discussion_topics) {\r\n        return null;\r\n    }\r\n    for (let i = 0; i < meetingNote.discussion_topics.length; i++) {\r\n        const element = meetingNote.discussion_topics[i];\r\n        if (element.id == id) {\r\n            return element;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const isDiscussionTopicClosed = (meetingNote, id) => {\r\n    const discussionTopic = getDiscussionTopic(meetingNote, id);\r\n    if (null == discussionTopic) {\r\n        return null;\r\n    }\r\n    return discussionTopic.is_closed;\r\n}\r\n\r\n\r\nexport const deleteArrayValueWithKeyStartedWith = (object, prefix) => {\r\n    for (const key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n            if (key.startsWith(prefix)) {\r\n                delete object[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const extractTopicDiscussionIndexAndName = (elementName) => {\r\n    const result = {\r\n        index: 0,\r\n        name: null,\r\n    }\r\n    let elementNameSplitKey = elementName.split(TOPIC_PREFIX);\r\n    let elementNameSplitIndex = elementNameSplitKey[1].split(\"_\");\r\n    result.index = parseInt(elementNameSplitIndex[0]);\r\n    result.name = elementName.split(TOPIC_PREFIX + result.index + \"_\")[1];\r\n    return result;\r\n}\r\n\r\nexport const extractMeetingNoteObject = (inputs) => {\r\n    const meetingNote = { discussion_topics: [] };\r\n    let currentDiscussionTopicID = -1;\r\n    let currentDiscussionTopicIndex = -1;\r\n    for (const key in inputs) {\r\n        const value = inputs[key];\r\n        if (key.startsWith(TOPIC_PREFIX)) {\r\n            const indexAndName = extractTopicDiscussionIndexAndName(key);\r\n            if (indexAndName.index != currentDiscussionTopicID) {\r\n                meetingNote.discussion_topics.push({});\r\n                currentDiscussionTopicID = indexAndName.index;\r\n                currentDiscussionTopicIndex++;\r\n            }\r\n            if (value.isFile == true) {\r\n                meetingNote.discussion_topics[currentDiscussionTopicIndex][indexAndName.name + \"_info\"] = value;\r\n            } else {\r\n                meetingNote.discussion_topics[currentDiscussionTopicIndex][indexAndName.name] = value;\r\n            }\r\n        } else {\r\n            meetingNote[key] = value;\r\n        }\r\n    }\r\n\r\n    return meetingNote;\r\n\r\n}","\r\nimport React from 'react';\r\n\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport BaseComponent, { mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport MeetingNoteSerivce from '../../../services/MeetingNoteSerivce';\r\nimport Message from '../../messages/Message';\r\nimport Card from '../../container/Card';\r\nimport DiscussionTopicsService from './../../../services/DiscussionTopicsService';\r\nimport { LabelField, InputField } from './../../forms/commons';\r\nimport { getAttachmentData } from './../../../utils/ComponentUtil';\r\nimport DiscussionTopicPopupForm from './DiscussionTopicPopupForm';\r\nimport {\r\n    deleteArrayValueWithKeyStartedWith, getMaxDiscussionTopicID,\r\n    isDiscussionTopicClosed, extractInputValues, extractMeetingNoteObjectToTempData,\r\n    extractMeetingNoteObject,\r\n    enableAllInputs,\r\n    populateInputs,\r\n    mergeObject,\r\n    getArrayIndexWithValue,\r\n    getDiscussionTopic\r\n} from './logicHelper';\r\nimport {\r\n    ButtonRemoveTopic, LinkEditAndAction, ButtonAddTopic,\r\n    FormUpperTag, TOPIC_PREFIX, FormTitle,\r\n    MeetingNoteSubmitResetField, LabelDiscussionTopicCount,\r\n    ClosedInfoTag, AttachmentInfo, DiscussionTopicCommonInputs\r\n} from './componentHelper';\r\nimport { AttachmentLink } from '../../buttons/buttons';\r\n\r\nconst FORM_ID = \"form-input-meeting-note\";\r\nconst CLASS_INPUT_FIELD = \"input-form-field\";\r\n\r\nclass MeetingNoteForm extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n            discussionTopicCount: [1],\r\n            showFormDiscussionTopicInEditMode: false\r\n        }\r\n\r\n        this.discussionTopicService = DiscussionTopicsService.instance;\r\n        this.meetingNoteService = MeetingNoteSerivce.instance;\r\n\r\n        this.attachmentsData = {};\r\n        this.form_temporary_inputs = {};\r\n        this.meetingNote = null;//{ discussion_topics: [] };\r\n        this.isSubmitting = false;\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n\r\n        this.addDiscussionTopic = () => {\r\n            this.saveFormInputsToTemporaryData();\r\n            if (this.getRecordId() != null && null != this.meetingNote) {\r\n                this.setState({ showFormDiscussionTopicInEditMode: true });\r\n                return;\r\n            }\r\n            const discussionTopicCount = this.state.discussionTopicCount;\r\n            discussionTopicCount.push(getMaxDiscussionTopicID(discussionTopicCount) + 1);\r\n            this.setState({ discussionTopicCount: discussionTopicCount });\r\n        }\r\n\r\n        this.removeDiscussionTopic = (id) => {\r\n            this.saveFormInputsToTemporaryData();\r\n            const app = this;\r\n            this.showConfirmationDanger(\"Remove discussion topic (\" + id + \")? \")\r\n                .then(function (ok) {\r\n                    if (ok) \r\n                        app.doRemoveDiscussionTopic(id);\r\n                });\r\n        }\r\n\r\n        this.doRemoveDiscussionTopic = (id) => {\r\n            const discussionTopicCount = this.state.discussionTopicCount;\r\n            let index = getArrayIndexWithValue(discussionTopicCount, id);\r\n\r\n            if (null == index) { return; }\r\n            discussionTopicCount.splice(index, 1);\r\n\r\n            //delete temp data\r\n            this.deleteTempFormData(id);\r\n            this.setState({ discussionTopicCount: discussionTopicCount });\r\n            this.setInputsFromTemporaryData();\r\n\r\n        }\r\n        this.deleteTempFormData = (id) => {\r\n            const prefix = TOPIC_PREFIX + id + \"_\";\r\n            deleteArrayValueWithKeyStartedWith(this.form_temporary_inputs, prefix);\r\n            deleteArrayValueWithKeyStartedWith(this.attachmentsData, prefix);\r\n        }\r\n        this.setInputsFromTemporaryData = () => {\r\n            const form = document.getElementById(FORM_ID);\r\n            if (null == form) { return; }\r\n            const inputs = form.getElementsByClassName(CLASS_INPUT_FIELD);\r\n            populateInputs(inputs, this.form_temporary_inputs, this.getRecordId() != null);\r\n        }\r\n        this.saveFormInputsToTemporaryData = () => {\r\n            const form = document.getElementById(FORM_ID);\r\n            if (null == form) { return; }\r\n            const inputs = form.getElementsByClassName(CLASS_INPUT_FIELD);\r\n            this.form_temporary_inputs = extractInputValues(inputs);\r\n        }\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            if (this.getRecordId() != null) {\r\n                return;\r\n            }\r\n            this.saveFormInputsToTemporaryData();\r\n            this.isSubmitting = true;\r\n            const app = this;\r\n            const form = e.target;\r\n            this.showConfirmation(\"Submit Data?\").then(function (accepted) {\r\n                if (accepted) \r\n                    app.fillDataAndStore(form);\r\n                app.isSubmitting = false;\r\n            });\r\n        }\r\n\r\n        this.fillDataAndStore = (form) => {\r\n            const rawInputs = this.form_temporary_inputs;\r\n            const inputs = {};\r\n            mergeObject(rawInputs, this.attachmentsData);\r\n            //sort keys\r\n            Object.keys(rawInputs).sort().forEach(function (key) {\r\n                inputs[key] = rawInputs[key];\r\n            });\r\n\r\n            this.meetingNote = extractMeetingNoteObject(inputs);\r\n            if (this.getRecordId() != null) {\r\n                this.meetingNote.id = this.getRecordId();\r\n            }\r\n            console.debug(\"inputs: \", inputs, \"meetingNote: \", this.meetingNote);\r\n            this.storeMeetingNote();\r\n\r\n        }\r\n        this.addAttachmentData = (e, key) => {\r\n            this.saveFormInputsToTemporaryData();\r\n            const app = this;\r\n            const form = e.target;\r\n            getAttachmentData(form).then(function (data) {\r\n                app.attachmentsData[key] = data;\r\n                app.refresh();\r\n            });\r\n        }\r\n        this.removeAttachment = (key) => {\r\n            this.saveFormInputsToTemporaryData();\r\n            const app = this;\r\n            this.showConfirmation(\"Remove attachment?\").then(function (ok) {\r\n                if (!ok) return;\r\n                try {\r\n                    delete app.attachmentsData[key];\r\n                    app.refresh();\r\n                } catch (error) { console.error(error) }\r\n            });\r\n        }\r\n        this.recordSaved = (response) => {\r\n            this.showInfo(\"Success\");\r\n            try {\r\n                if (this.getRecordId() == null) {\r\n                    this.props.history.push(\"/meetingnote/\" + response.meeting_note.id);\r\n                    this.handleSuccessGetRecord(response);\r\n                }\r\n            } catch (error) { console.error(error); }\r\n        }\r\n\r\n        this.handleErrorGetRecord = (error) => {\r\n            console.error(error);\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n            this.meetingNote = response.meeting_note;\r\n            const discussionTopics = this.meetingNote.discussion_topics;\r\n            let discussionTopicCount = [];\r\n            for (let i = 0; i < discussionTopics.length; i++) {\r\n                const element = discussionTopics[i];\r\n                discussionTopicCount.push(element.id);\r\n            }\r\n            this.form_temporary_inputs = extractMeetingNoteObjectToTempData(this.meetingNote);\r\n            this.setState({ discussionTopicCount: discussionTopicCount, isLoadingRecord: false });\r\n        }\r\n        this.enableInputs = () => {\r\n            const form = document.getElementById(FORM_ID);\r\n            if (null == form) { return; }\r\n            enableAllInputs(form.getElementsByClassName(CLASS_INPUT_FIELD));\r\n            if (this.isSubmitting == false) { form.reset(); }\r\n        }\r\n\r\n        this.discussionTopicSaved = (response) => {\r\n            this.setState({ showFormDiscussionTopicInEditMode: false });\r\n            this.loadRecord();\r\n        }\r\n\r\n        // ajax calls\r\n        this.storeMeetingNote = () => {\r\n            this.commonAjax(this.meetingNoteService.store, this.meetingNote,\r\n                this.recordSaved, null);\r\n        }\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.meetingNoteService.view, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.validateLoginStatus();\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Notulensi\";\r\n        if (this.getRecordId() != null) {\r\n            this.loadRecord();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.validateLoginStatus();\r\n        if (this.getRecordId() == null) {\r\n            this.enableInputs();\r\n        }\r\n\r\n        if (this.getRecordId() == null && this.meetingNote != null) {\r\n            this.meetingNote = null;\r\n            this.form_temporary_inputs = {};           \r\n            this.setState({ discussionTopicCount: [1] });\r\n        }\r\n        this.setInputsFromTemporaryData();\r\n    }\r\n\r\n    getUserName() {\r\n        if (this.meetingNote != null && this.meetingNote.user != null) {\r\n            return this.meetingNote.user.display_name;\r\n        }\r\n        return this.getLoggedUser().display_name;\r\n    }\r\n\r\n    render() {\r\n        if (this.isLoggedUserNull()) {\r\n            return null;\r\n        }\r\n\r\n        const title = this.title(\"Notulensi Rapat\");\r\n        if (this.state.recordNotFound) {\r\n            return <div>{title}<Message className=\"is-danger\" body=\"Record Not Found\" /></div>\r\n        }\r\n        if (this.getRecordId() != null && this.state.isLoadingRecord) {\r\n            return <div>{title}<h3>Please Wait...</h3></div>\r\n        }\r\n        const discussionTopicCount = this.state.discussionTopicCount;\r\n        return (\r\n            <div>\r\n                {title}\r\n                <DiscussionTopicPopupForm show={this.state.showFormDiscussionTopicInEditMode}\r\n                    app={this.props.app} meetingNote={this.meetingNote} onSuccess={this.discussionTopicSaved}\r\n                    onClose={(e) => this.setState({ showFormDiscussionTopicInEditMode: false })} />\r\n\r\n                <form id={FORM_ID} onSubmit={this.onSubmit}>\r\n                    <Card title={<FormTitle />}>\r\n                        <FormUpperTag show={this.getRecordId() != null} meetingNote={this.meetingNote} />\r\n                        <InputField required={true} label=\"Tanggal\" name=\"date\" type=\"date\" />\r\n                        <InputField required={true} label=\"Tempat\" name=\"place\" />\r\n                        <LabelDiscussionTopicCount count={this.state.discussionTopicCount.length} />\r\n                        <LabelField label=\"Notulis\" >{this.getUserName()}</LabelField>\r\n                    </Card>\r\n\r\n                    {/* ---------- discussion topics forms ----------- */}\r\n                    {discussionTopicCount.map((id, i) => {\r\n                        const isClosed = isDiscussionTopicClosed(this.meetingNote, id);\r\n                        const discussionTopic = getDiscussionTopic(this.meetingNote, id);\r\n                        const title = \"Tema Pembahasan #\" + (i + 1);// +\", id:\"+id;\r\n                        const inputPrefix = TOPIC_PREFIX + id;\r\n                        return (\r\n                            <Card title={title} key={\"discussion_topic_field_\" + i}>\r\n                                <ClosedInfoTag show={this.getRecordId()!=null} closed={isClosed} />\r\n                                <ButtonRemoveTopic show={this.getRecordId() == null && this.state.discussionTopicCount.length > 1} id={id} removeDiscussionTopic={this.removeDiscussionTopic} />\r\n                                <DiscussionTopicCommonInputs inputPrefix={inputPrefix} />\r\n                                <InputField show={this.getRecordId() == null} className=\"discussion-topic\" label=\"Attachment\" attributes={{ onChange: (e) => this.addAttachmentData(e, inputPrefix + \"_attachment\") }}\r\n                                    name={inputPrefix + \"_attachment\"} type=\"file\" note=\"Kosongkan jika tidak ada dokumen\" />\r\n                                <AttachmentInfo show={this.attachmentsData[inputPrefix + \"_attachment\"] != null}\r\n                                    name={this.attachmentsData[inputPrefix + \"_attachment\"] == null ? null : this.attachmentsData[inputPrefix + \"_attachment\"].name}\r\n                                    onRemoveClick={(e) => this.removeAttachment(inputPrefix + \"_attachment\")} />\r\n                                <LinkEditAndAction show={this.getRecordId() != null} id={id} />\r\n                                <AttachmentLink showExtension={true} show={discussionTopic!=null&&discussionTopic.attachment!=null} \r\n                                    to={discussionTopic==null?null:\"upload/topic/\"+discussionTopic.attachment} />\r\n                            </Card>\r\n                        )\r\n                    })}\r\n                    <ButtonAddTopic addDiscussionTopic={this.addDiscussionTopic} />\r\n                    <MeetingNoteSubmitResetField show={this.getRecordId() == null} />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n)(MeetingNoteForm));","\r\nimport { commonAjaxPostCalls } from './Promises';\r\nimport { contextPath } from './../constant/Url';\r\nexport default class UserService{\r\n    static instance = UserService.instance || new UserService();\r\n    \r\n    constructor(props){\r\n    }\r\n\r\n    updateProfile = (user) => {\r\n        const request = {\r\n            'userModel':user\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/accountdashboard/updateprofile\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n}","\r\nimport BaseComponent, { CommonTitle } from './../BaseComponent';\r\nimport { connect } from 'react-redux';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Card from './../container/Card';\r\nimport * as actions from '../../redux/actions/actionCreators'\r\nimport { InputField, LabelField, SubmitResetButton } from './../forms/commons';\r\nimport UserService from './../../services/UserService';\r\nclass Profile extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.userService = UserService.instance;\r\n\r\n        this.populateForm = () => {\r\n            const form = document.getElementById(\"form-profile\");\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const user = this.props.loggedUser;\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if(element.name == \"password\"){\r\n                    element.value = null;\r\n                } else {\r\n                    element.value = user[element.name];\r\n                }\r\n            }\r\n        }\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Update Profile?\")\r\n            .then(function(accepted){\r\n                if (accepted) {\r\n                    app.updateProfile(form);\r\n                }\r\n            })\r\n        }\r\n\r\n        this.updateProfile = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const user = {};\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    let fieldName = element.name;\r\n                    user[fieldName] = element.value;\r\n                }\r\n            }\r\n\r\n            this.commonAjax(\r\n                this.userService.updateProfile, user,\r\n                this.onSubmitSuccess, this.onSubmitError\r\n            );\r\n        }\r\n        this.onSubmitSuccess = (response) => {\r\n            this.showInfo(\"Update Profile Success\");\r\n\r\n            this.props.requestAppId(this.getParentApp());\r\n        }\r\n        this.onSubmitError = (e) => {\r\n            this.showError(\"Update Profile Failed\");\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.validateLoginStatus();\r\n        \r\n        document.title = \"Profile\";\r\n        this.populateForm();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.validateLoginStatus();\r\n    }\r\n\r\n    render() {\r\n        const user = this.props.loggedUser;\r\n        if (null == user) {\r\n            return <></>\r\n        }\r\n        return (\r\n            <div>\r\n                <CommonTitle>Profile</CommonTitle>\r\n                <Card title={\"Update Profile\"} >\r\n                    <form onSubmit={this.onSubmit} id=\"form-profile\" >\r\n                        <InputField label=\"Email\" name=\"email\" required={true} type=\"email\" />\r\n                        <InputField label=\"Username\" name=\"name\" required={true} />\r\n                        <InputField label=\"Display Name\" name=\"display_name\" required={true} />\r\n                        {/* <InputField label=\"Role\" name=\"role\" required={true} /> */}\r\n                        <InputField label=\"Password\" name=\"password\" note=\"Kosongkan password apabila tidak ingin diubah\" />\r\n                        <LabelField label=\"Departement\">\r\n                            {user.departement? user.departement.name : \"\"}\r\n                        </LabelField>\r\n                        <SubmitResetButton submitText={\r\n                            \"Update\"\r\n                        } />\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    requestAppId: (app) => dispatch(actions.accountAction.requestAppId(app)),\r\n  })\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Profile));","\r\nimport { contextPath } from './../constant/Url';\r\nimport { commonAjaxPostCalls } from './Promises';\r\n\r\nexport default class IssuesService\r\n{\r\n    static instance = IssuesService.instance || new IssuesService();\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    //public//\r\n    departementList = () => {\r\n        const endpoint = contextPath().concat(\"api/public/issues/departements\");\r\n        return commonAjaxPostCalls(endpoint, {});\r\n    }\r\n    storePublicIssue =(issue) => {\r\n        const endpoint = contextPath().concat(\"api/public/issues/store\");\r\n        return commonAjaxPostCalls(endpoint, {\r\n            issue:issue\r\n        });\r\n    }\r\n\r\n    //authenticated//\r\n    list = (filter) => {\r\n        const request = {\r\n            code: 'issue',\r\n            filter: filter\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/issues/list\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n    view = (id) => {\r\n        const endpoint = contextPath().concat(\"api/issues/view/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {});\r\n    }\r\n    delete = (id) => {\r\n        const endpoint = contextPath().concat(\"api/issues/delete/\"+id);\r\n        return commonAjaxPostCalls(endpoint, {});\r\n    }\r\n    followUpIssue = (followUp) => {\r\n        const request = {\r\n            followed_up_issue: followUp\r\n        }\r\n\r\n        const endpoint = contextPath().concat(\"api/issues/followup\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n}","import React,{ Component, Fragment } from 'react';\r\nimport BaseComponent, { CommonTitle, mapCommonUserStateToProps } from './../../BaseComponent';\r\nimport { Route, Switch, withRouter, Redirect, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport Card from '../../container/Card';\r\nimport MasterManagementService from './../../../services/MasterDataService';\r\nimport BaseManagementPage from './../management/BaseManagementPage';\r\nimport NavButtons from './../../buttons/NavButtons';\r\nimport Columns from './../../container/Columns';\r\nimport { TableHeadWithFilter, ButtonApplyResetFilter } from './../../forms/commons';\r\nimport IssuesService from './../../../services/IssuesService';\r\nimport { AttachmentLink } from '../../buttons/buttons';\r\nimport { ClosedInfoTag } from './../meetingnotes/componentHelper';\r\n\r\nclass IssuesList extends BaseManagementPage\r\n{\r\n    constructor(props){\r\n        super(props, \"Aduan\", \"issue\");\r\n        this.state = {}\r\n        this.issueService = IssuesService.instance;\r\n\r\n        //overrid\r\n        this.deleteRecord = (id) => {\r\n            this.commonAjax(\r\n                this.issueService.delete,\r\n                id,\r\n                this.onSuccessDelete,\r\n                this.onErrorDelete\r\n            )\r\n        }\r\n    }\r\n\r\n    loadRecords = () => {\r\n        \r\n        this.readInputForm();\r\n        const request = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n            orderBy: this.orderBy,\r\n            orderType: this.orderType,\r\n            fieldsFilter: this.fieldsFilter\r\n        };\r\n\r\n        this.commonAjax(this.issueService.list, request, this.successLoaded, this.errorLoaded);\r\n    }\r\n\r\n    createNavButton() {\r\n        const recordData = this.recordData != null ? this.recordData  : null;\r\n\r\n        if (null == recordData) {\r\n            return <></>\r\n        }\r\n        return <NavButtons onClick={this.loadRecordByPage} limit={this.limit}\r\n            totalData={recordData.count} activeIndex={this.page} />\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.validateLoginStatus()){\r\n            return;\r\n        }\r\n        this.loadRecords();\r\n        document.title = \"Daftar Aduan\";\r\n    }\r\n\r\n    //overrid baseAdminPage\r\n    componentDidUpdate(){\r\n        if (this.isLoggedUserNull() ) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.isLoggedUserNull()) {return null;}\r\n\r\n        const navButtons = this.createNavButton();\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n        const recordList = recordData == null ||\r\n                recordData.result_list == null ? [] :\r\n                recordData.result_list;\r\n        const isAdmin = this.props.loggedUser.role == \"admin\";\r\n        return (\r\n            <div>\r\n                <CommonTitle>Daftar Aduan</CommonTitle>\r\n                <Card title=\"Daftar Aduan\">\r\n                {!isAdmin?null:this.linkToFormCreate(\"/issues/create\", \"Tambah Aduan\")}\r\n                <form id=\"list-form\" onSubmit={(e) => { e.preventDefault(); this.filter(e.target) }}>\r\n                        <Columns cells={[\r\n                            ButtonApplyResetFilter(), navButtons\r\n                        ]} />\r\n                        <div style={{overflow:'scroll'}}>\r\n                        <table className=\"table\">\r\n                            <TableHeadWithFilter\r\n                                onButtonOrderClick={this.onButtonOrderClick}\r\n                                headers={[\r\n                                    { text: 'No' },\r\n                                    // { text: 'id', withFilter: true },\r\n                                    { text: 'date', withFilter: true },\r\n                                    { text: 'place', withFilter: true },\r\n                                    { text: 'content', withFilter: true },\r\n                                    { text: 'issuer', withFilter: true },\r\n                                    { text: 'email', withFilter: true },\r\n                                    { text: 'departement', withFilter: true },\r\n                                    { text: 'issue_input', alias:'input', withFilter: true },\r\n                                    { text: 'attachment', withFilter: true },\r\n                                    { text: 'is_closed', alias:'Status', withFilter: true},\r\n                                    // { text: 'closed_date', alias:'Closed', withFilter: true},\r\n                                    { text: 'action'}\r\n                                ]} />\r\n                                <tbody>\r\n                            {recordList.map((item, i) => {\r\n                                const indexBegin = (this.page - 1) * this.limit;\r\n                                return (<tr key={\"record_\"+i}>\r\n                                    <td>{indexBegin + i + 1}</td>\r\n                                    {/* <td>{item.id}</td> */}\r\n                                    <td>{item.date}</td>\r\n                                    <td>{item.place}</td>\r\n                                    <td>{item.content && item.content.length > 10 ? item.content.substring(0, 10) + '...' : item.content}</td>\r\n                                    <td>{item.issuer}</td>\r\n                                    <td>{item.email}</td>\r\n                                    <td>{item.departement.name}</td>\r\n                                    <td>{item.issue_input}</td>\r\n                                    <td><AttachmentLink show={item.attachment!=null} to={\"upload/issue/\"+item.attachment} /></td>\r\n                                    <td ><ClosedInfoTag closed = {item.is_closed==true}/></td>\r\n                                    {/* <td>{item.closed_date}</td> */}\r\n                                    <td style={{width:'150px', display: 'block', border:'none'}}>\r\n                                        {isAdmin?\r\n                                        <Fragment>\r\n                                            <Link to={\"/issues/\" + item.id} className=\"button is-small\" >\r\n                                                <i className=\"fas fa-edit\"></i>\r\n                                            </Link>\r\n                                            {this.buttonDeleteRecord(item.id, false)}\r\n                                        </Fragment>\r\n                                        :null}\r\n                                        <Link to={\"/issues/\" + item.id+\"/followup\"} className=\"button is-primary is-small\" >\r\n                                            <i className=\"fas fa-location-arrow\"></i>\r\n                                        </Link>\r\n                                    </td>\r\n                                </tr>)\r\n                            })}\r\n                            </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(IssuesList));","import React, { Component } from 'react'\r\n\r\nexport default class ClosedStatus extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if (this.props.show == false) {\r\n            return null;\r\n        }\r\n        const isClosed = this.props.closed == true;\r\n        return (\r\n            <div className=\"tags has-addons are-medium\">\r\n                <span className=\"tag is-dark\">Status</span>\r\n                <span className={\"tag \" + (isClosed ? \"is-info\" : \"is-warning\")}>{isClosed == true ? \"Closed\" : \"Not Closed\"}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Card from '../../container/Card';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport { InputField, SelectField, LabelField } from '../../forms/commons';\r\nimport BaseComponent, { CommonTitle, mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport MasterManagementService from '../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport Message from '../../messages/Message';\r\nimport { SubmitResetButton } from '../../forms/commons';\r\nimport BaseAdminPage from './../BaseAdminPage';\r\nimport { applicationAction } from '../../../redux/actions/actionCreators';\r\nimport { DATA_KEY_DEPARTEMENTS } from './../../../constant/ApplicationDataKeys';\r\nimport { toBase64v2, getAttachmentData } from './../../../utils/ComponentUtil';\r\nimport { AttachmentLink } from '../../buttons/buttons';\r\nimport ClosedStatus from './../../messages/ClosedStatus';\r\n\r\nexport const issue_sources = [\r\n    'Yayasan', 'Orang Tua', 'Santri', 'Pegawai', 'Tamu',\r\n]\r\n\r\nclass IssuesForm extends BaseAdminPage {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n        };\r\n        this.departementList = [];\r\n        this.attachmentData = null;\r\n        this.record = null;\r\n        this.masterDataService = MasterManagementService.instance;\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Save Data?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    app.fillDataAndStore(form);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.updateAttachmentData = (e) => {\r\n            const app = this;\r\n            getAttachmentData(e.target).then(function(data){\r\n                app.attachmentData = data;\r\n            }).catch(console.error);\r\n        }\r\n\r\n        this.fillDataAndStore = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const issue = {};\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    let fieldName = element.name;\r\n\r\n                    if (fieldName == 'departement') {\r\n                        fieldName = 'departement_id'\r\n                    }\r\n                    if (fieldName == \"attachment\") {\r\n                        issue[fieldName+\"_info\"] = this.attachmentData\r\n                    } else {\r\n                        issue[fieldName] = element.value\r\n                    }\r\n                }\r\n            }\r\n            if (this.getRecordId() != null) {\r\n                issue.id = this.getRecordId();\r\n            }\r\n            this.store(issue);\r\n            console.debug(\"ISSUE: \", issue);\r\n        }\r\n\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n\r\n        this.departementListLoaded = (response) => {\r\n            this.departementList= response.result_list;\r\n            if (null != this.getRecordId()) {\r\n                this.loadRecord();\r\n            }\r\n            this.props.storeApplicationData(DATA_KEY_DEPARTEMENTS, this.departementList);\r\n        }\r\n\r\n        this.recordSaved = (response) => {\r\n            this.showInfo(\"Success saving record\");\r\n            this.attachmentData = null;\r\n            this.record = response.issue;\r\n            if (this.getRecordId() == null) {\r\n                this.handleSuccessGetRecord(response);\r\n                this.props.history.push(\"/issues/\" + response.issue.id);\r\n            }\r\n        }\r\n\r\n        this.store = (issue) => {\r\n            this.commonAjax(this.masterDataService.storeIssue, issue,\r\n                this.recordSaved, null)\r\n        }\r\n\r\n        this.loadDepartements = () => {\r\n            const appData = this.props.applicationData;\r\n            console.debug(\"appdata: \", appData);\r\n            if (appData[DATA_KEY_DEPARTEMENTS] == null ||\r\n                appData[DATA_KEY_DEPARTEMENTS].length == 0) {\r\n                this.commonAjax(\r\n                    this.masterDataService.departementList, {},\r\n                    this.departementListLoaded,\r\n                    (error) => { }\r\n                );\r\n            } else {\r\n                this.departementList = appData[DATA_KEY_DEPARTEMENTS];\r\n                if (null != this.getRecordId()) {\r\n                    this.loadRecord();\r\n                }\r\n                this.refresh();\r\n            }\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n            this.record = response.issue;\r\n            this.setState({ isLoadingRecord: false });\r\n            const form = document.getElementById(\"form-management\");\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (element.name == \"attachment\") {  continue; }\r\n\r\n                if (element.name == \"departement\") {\r\n                    element.value = response.issue.departement_id;\r\n                } else {\r\n                    element.value = response.issue[element.name];\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n        this.handleErrorGetRecord = (e) => {\r\n            console.error(e);\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.masterDataService.viewIssue, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.validateLoginStatus()) {\r\n            return;\r\n        }\r\n        this.loadDepartements();\r\n        document.title = \"Form Aduan\";\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.recordNotFound) {\r\n            return <Message className=\"is-danger\" body=\"Record Not Found\" />\r\n        }\r\n        const title = this.title(\"Form Aduan\");\r\n        if (this.getRecordId() != null && this.state.isLoadingRecord) {\r\n            return <div>{title}<h3>Please Wait...</h3></div>\r\n        }\r\n\r\n        const formTitle = <>\r\n            <Link to=\"/issues\">Aduan</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;Form\r\n        </>\r\n        const isClosed =  this.getRecordId()!=null && this.record != null && this.record.is_closed;\r\n        return (\r\n            <div>\r\n                {title}\r\n                <Card title={formTitle} >\r\n                    <ClosedStatus show={this.getRecordId()!=null && this.record != null} closed={isClosed} />\r\n                    <form onSubmit={this.onSubmit} id=\"form-management\" >\r\n                        <InputField label=\"Tanggal\" name=\"date\" type=\"date\" required={true} />\r\n                        <InputField label=\"Tempat\" name=\"place\" required={true} />\r\n                        <InputField label=\"Permasalahan\" name=\"content\" type=\"textarea\" required={true} />\r\n                        <InputField name=\"email\" type=\"email\" note=\"Kosongkan jika berstatus anonim\" />\r\n                         <SelectField label=\"Pengadu\" options={issue_sources.map(source => {\r\n                            return {\r\n                                value: source,\r\n                                text: source\r\n                            }\r\n                        })} name=\"issuer\" required={true} />\r\n                        <SelectField label=\"Bidang\" options={this.departementList.map(dep => {\r\n                            return {\r\n                                value: dep.id,\r\n                                text: dep.name\r\n                            }\r\n                        })} name=\"departement\" required={true} />\r\n                        {this.getRecordId()!=null && this.record != null ?\r\n                            <LabelField label=\"Attachment\">\r\n                                 <AttachmentLink show={this.record.attachment!=null} to={\"upload/issue/\"+this.record.attachment} />\r\n                            </LabelField>\r\n                            :\r\n                            <InputField name=\"attachment\" attributes={{accept:'image/*', onChange:this.updateAttachmentData}} type=\"file\" note=\"Kosongkan jika tidak ada dokumen\" />\r\n                        \r\n                        }\r\n                      \r\n                        <InputField label=\"Sumber Aduan\" name=\"issue_input\" required={true} />\r\n                       <SubmitResetButton submitText={\r\n                            this.getRecordId() == null ? \"Create\" : \"Update\"\r\n                        } withReset={this.getRecordId() == null} />\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    storeApplicationData: (code, data) => dispatch(applicationAction.storeApplicationData(code, data)),\r\n})\r\nexport default withRouter(\r\n    connect(mapCommonUserStateToProps, mapDispatchToProps)(IssuesForm));","export const MONTHS = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n]\r\n\r\nconst kabisatMonths = [ 31, (  29  ), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];\r\nconst regularMonths = [ 31, (  28  ), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];\r\n/**\r\n * \r\n * @param {Number} month \r\n */\r\nexport const getMonthDays = (month) => {\r\n    if(new Date().getFullYear() % 4 == 0){\r\n        return kabisatMonths[month];\r\n    }\r\n    return regularMonths[month];\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport const getCurrentMMYY = () => {\r\n    return [new Date().getMonth() + 1, new Date().getFullYear()];\r\n}\r\n\r\nexport const dateStringDayMonthYear = (day, month, year) => {\r\n    return day+\" \"+MONTHS[month-1]+\" \"+year;\r\n}\r\n/**\r\n * format = yyyy-mm-dd\r\n * @param {String} text \r\n */\r\nexport const dateStringDayMonthYearFromText = (text) => {\r\n    const raw = text.split(\"-\");\r\n    const day = raw[2];\r\n    const month = raw[1];\r\n    const year = raw[0];\r\n    return day+\" \"+MONTHS[month-1]+\" \"+year;\r\n}\r\n\r\nexport const getDiffDaysFromNow = (date) => {\r\n    const diff = new Date().getTime() - date.getTime();\r\n    const diffDays = diff / (24 * 60 * 60 * 1000);\r\n    return diffDays;\r\n}\r\n\r\nexport const getDiffDaysToNow = (date) => {\r\n    const diff = date.getTime() - new Date().getTime();\r\n    const diffDays = diff / (24 * 60 * 60 * 1000);\r\n    return diffDays;\r\n}\r\n\r\n","\r\nimport React from 'react';\r\n\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport BaseComponent from '../../BaseComponent';\r\nimport Message from '../../messages/Message';\r\nimport * as formComponent from '../../forms/commons';\r\nimport Card from '../../container/Card';\r\nimport { SubmitResetButton, InputField } from '../../forms/commons';\r\nimport { LabelField } from '../../forms/commons';\r\nimport { dateStringDayMonthYearFromText } from '../../../utils/DateUtil';\r\nimport IssuesService from './../../../services/IssuesService';\r\nimport { AnchorWithIcon, AttachmentLink } from './../../buttons/buttons';\r\nimport ClosedStatus from './../../messages/ClosedStatus';\r\n\r\nconst FORM_ID = \"form-input-follow-up-issue\";\r\nclass IssuesFollowingUpForm extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n            showDetailIssue: true,\r\n        }\r\n        this.issue = {};\r\n        this.issueService = IssuesService.instance;\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n        this.hideDetailIssue = () => {\r\n            this.setState({ showDetailIssue: false });\r\n        }\r\n        this.showDetailIssue = () => {\r\n            this.setState({ showDetailIssue: true });\r\n        }\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Submit Data?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    app.fillDataAndStore(form);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.fillDataAndStore = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n\r\n            const action = {\r\n                issue_id: this.issue.id\r\n            };\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    action[element.name] = element.value;\r\n                }\r\n            }\r\n\r\n            console.debug(\"issue action>>\", action);\r\n            this.storeAction(action);\r\n\r\n        }\r\n\r\n        this.handleSuccessSubmit = (response) => {\r\n            this.issue.follow_up = response.followed_up_issue;\r\n            this.issue.is_closed = true;\r\n            \r\n            try {\r\n                if (this.getRecordId() == null) {\r\n                    document.getElementById(FORM_ID).reset();\r\n                }\r\n            } catch (error) { console.error(error); }\r\n            this.showInfo(\"SUCCESS\");\r\n        }\r\n        this.handleErrorGetRecord = (error) => {\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n            this.issue = response.issue;\r\n            this.setState({ isLoadingRecord: false, recordNotFound: false });\r\n        }\r\n\r\n        // ajax calls\r\n\r\n        this.storeAction = (followUp) => {\r\n            this.commonAjax(this.issueService.followUpIssue, followUp,\r\n                this.handleSuccessSubmit, null);\r\n        }\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.issueService.view, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n        this.isClosed = () => {\r\n            return this.getRecordId() != null && this.issue != null && this.issue.is_closed == true;\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.validateLoginStatus()) {\r\n            return;\r\n        }\r\n        document.title = \"Follow Up Issue\";\r\n        if (this.getRecordId() == null) {\r\n            this.backToLogin();\r\n        }\r\n        this.loadRecord();\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.isLoggedUserNull()) {\r\n            return null;\r\n        }        \r\n        if (this.state.recordNotFound) {\r\n            return <Message className=\"is-danger\" body=\"Record Not Found\" />\r\n        }\r\n        const title = this.title(\"Tindak Lanjut Aduan\");\r\n        if (this.state.isLoadingRecord) {\r\n            return <div>{title}<h3>Please Wait...</h3></div>\r\n        }\r\n\r\n        const formTitle = <>\r\n            <Link to=\"/issues\">Aduan</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;Detail Aduan\r\n        </>\r\n        const isClosed = this.issue.is_closed;\r\n        return (\r\n            <div>\r\n                {title}\r\n\r\n                <Card title={formTitle}>\r\n                    <ClosedStatus closed={isClosed} />\r\n                    {this.state.showDetailIssue ?\r\n                        <article style={{ marginBottom: '10px' }} className=\"is-info\">\r\n                            <div className=\"message-header\">\r\n                                <p>Detail Aduan</p>\r\n                                <button onClick={this.hideDetailIssue} className=\"delete\" aria-label=\"delete\"></button>\r\n                            </div>\r\n                            <div className=\"message-body has-background-light\">\r\n                                <LabelField label=\"Waktu dan Tempat\">\r\n                                    <p>{this.issue.place}, {dateStringDayMonthYearFromText(this.issue.date)}</p>\r\n                                </LabelField>\r\n                                <LabelField label=\"Bidang\">\r\n                                    <p>{this.issue.departement.name}</p>\r\n                                </LabelField>\r\n                                <LabelField label=\"Permasalahan\">\r\n                                    <p>{this.issue.content}</p>\r\n                                </LabelField>\r\n                                <LabelField label=\"Pengadu\">\r\n                                    <p>{this.issue.email}, {this.issue.issuer}</p>\r\n                                </LabelField>\r\n                                <LabelField label=\"Sumber Input\">\r\n                                    <p>{this.issue.issue_input}</p>\r\n                                </LabelField>\r\n                                <LabelField label=\"Attachment\">\r\n                                    {this.issue.attachment?\r\n                                    <AttachmentLink to={\"upload/issue/\"+this.issue.attachment} />\r\n                                    :null}\r\n                                </LabelField>\r\n\r\n                            </div>\r\n                        </article>\r\n                        :\r\n                        <AnchorWithIcon children=\"Detail Aduan\" iconClassName=\"fas fa-angle-down\" onClick={this.showDetailIssue} />\r\n                    }\r\n                </Card>\r\n                <Card title=\"Formulir Tindak Lanjut\">\r\n                    {this.issue.follow_up == null ?\r\n                        <form id={FORM_ID} onSubmit={this.onSubmit}>\r\n                            <formComponent.InputField required={true} label=\"Tanggal\" name=\"date\" type=\"date\" />\r\n                            <InputField required={true} label=\"Keterangan\" name=\"description\" type=\"textarea\" />\r\n                            <SubmitResetButton submitText={\"Submit\"} withReset={true} />\r\n                        </form>\r\n                        :\r\n                        <article style={{ marginBottom: '10px' }} className=\"is-info\">\r\n                            <div className=\"message-header\">\r\n                                <p>Detail Tindak Lanjut</p>\r\n                            </div>\r\n                            <div className=\"message-body has-background-light\">\r\n                                <LabelField label=\"Tanggal\"><p>{this.issue.follow_up.date}</p></LabelField>\r\n                                <LabelField label=\"Keterangan\"><p>{this.issue.follow_up.description}</p></LabelField>\r\n                            </div>\r\n                        </article>\r\n                    }\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    //   getissues: (request, app) => dispatch(actions.issuesAction.list(request, app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(IssuesFollowingUpForm));","import React, { Component } from 'react';\r\nimport Card from '../../container/Card';\r\nimport { Route, Switch, withRouter, Link } from 'react-router-dom'\r\nimport { InputField, SelectField, LabelField } from '../../forms/commons';\r\nimport MasterManagementService from '../../../services/MasterDataService';\r\nimport { connect } from 'react-redux';\r\nimport Message from '../../messages/Message';\r\nimport { SubmitResetButton } from '../../forms/commons';\r\nimport { CommonTitle } from '../../BaseComponent';\r\nimport DiscussionTopicsService from './../../../services/DiscussionTopicsService';\r\nimport BaseManagementPage from './../management/BaseManagementPage';\r\nimport ClosedStatus from '../../messages/ClosedStatus';\r\nimport { AttachmentLink } from '../../buttons/buttons';\r\n\r\nclass DiscussionTopicsForm extends BaseManagementPage {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n        };\r\n        this.discussionTopicService = DiscussionTopicsService.instance;\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Save Data?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    app.storeRecord(form);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.storeRecord = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            const discussionTopic = {};\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    let fieldName = element.name;\r\n                    discussionTopic[fieldName] = element.value;\r\n                }\r\n            }\r\n            if (this.getRecordId() != null) {\r\n                discussionTopic.id = this.getRecordId();\r\n            }\r\n            this.store(discussionTopic);\r\n            console.debug(\"discussionTopic: \", discussionTopic);\r\n        }\r\n\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n\r\n        this.recordSaved = (response) => {\r\n            this.showInfo(\"SUCCESS SAVING RECORD\");\r\n\r\n            if (this.getRecordId() == null) {\r\n                this.handleSuccessGetRecord(response);\r\n                this.props.history.push(\"/discussiontopics/\" + response.discussion_topic.id);\r\n            }\r\n        }\r\n        this.recordFailedToSave = (e) => {\r\n            this.showError(\"FAILED SAVING RECORD\");\r\n        }\r\n\r\n        this.store = (discussionTopic) => {\r\n            this.commonAjax(\r\n                this.discussionTopicService.store, discussionTopic,\r\n                this.recordSaved, this.recordFailedToSave\r\n            )\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n\r\n            this.recordData = response;\r\n            this.discussionTopic = response.discussion_topic;\r\n            \r\n            this.setState({ isLoadingRecord: false });\r\n            const form = document.getElementById(\"form-management\");\r\n            if (null == form) { return; }\r\n            const inputs = document.getElementsByClassName(\"input-form-field\");\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                element.value = this.discussionTopic[element.name];\r\n                if (this.isClosed() == false && element.name != \"content\" && element.name != \"decision\") {\r\n                    element.setAttribute(\"disabled\", \"disabled\");\r\n                }\r\n\r\n                if (this.isClosed() == true) {\r\n                    element.setAttribute(\"disabled\", \"disabled\");\r\n                }\r\n            }\r\n            \r\n           \r\n        }\r\n\r\n        this.handleErrorGetRecord = (e) => {\r\n            console.error(e);\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.discussionTopicService.view, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n        this.isClosed = () => {\r\n            return this.getRecordId() != null && this.discussionTopic != null && this.discussionTopic.is_closed == true;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.validateLoginStatus()) {\r\n            return;\r\n        }\r\n        if (this.getRecordId() != null) {\r\n            this.loadRecord();\r\n        }\r\n        document.title = \"Form Tema Pembahasan\";\r\n    }\r\n\r\n    render() {\r\n\r\n        const title = this.title(\"Form Tema Pembahasan\");\r\n        if (this.state.recordNotFound) {\r\n            return <div>{title}<Message className=\"is-danger\" body=\"Record Not Found\" /></div>\r\n        }\r\n\r\n        if (this.getRecordId() != null && this.state.isLoadingRecord) {\r\n            return <div>{title}<h3>Please Wait...</h3>\r\n            </div>\r\n        }\r\n\r\n        const formTitle = <>\r\n            <Link to=\"/discussiontopics\">Tema Pembahasan</Link>&nbsp;<i className=\"fas fa-angle-right\"></i>&nbsp;Form\r\n        </>\r\n        const isClosed = this.discussionTopic.is_closed;\r\n        return (\r\n            <div>\r\n                {title}\r\n                <Card title={formTitle} >\r\n                    {this.getRecordId() != null && this.discussionTopic != null ?\r\n                        <div className=\"level\">\r\n                            <div className=\"level-left\">\r\n                                <ClosedStatus closed={isClosed} />\r\n                            </div>\r\n                            <div className=\"level-right\">\r\n                                <span className=\"tag is-primary is-medium\">{this.discussionTopic.departement == null ? null : this.discussionTopic.departement.name}</span>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        null}\r\n                    <LinkDetailMeetingNote note_id={this.discussionTopic.note_id} />\r\n                    <form onSubmit={this.onSubmit} id=\"form-management\" >\r\n                        <InputField required={true} label=\"Tanggal\" name=\"date\" type=\"date\" />\r\n                        <InputField required={true} label=\"Pembahasan\" name=\"content\" type=\"textarea\" />\r\n                        <InputField required={true} label=\"Keputusan\" name=\"decision\" type=\"textarea\" />\r\n                        <InputField required={true} label=\"Deadline\" name=\"deadline_date\" type=\"date\" />\r\n                        <InputField required={true} label=\"Penganggung Jawab\" name=\"person_in_charge\" />\r\n                        <LabelField label=\"Attachment\">\r\n                            {this.discussionTopic.attachment? \r\n                            <AttachmentLink showExtension={true} to={\"upload/topic/\"+this.discussionTopic.attachment}/>:\r\n                            null\r\n                            }\r\n                        </LabelField>\r\n                        {this.isClosed() ? null :\r\n                            <SubmitResetButton submitText={\r\n                                this.getRecordId() == null ? \"Create\" : \"Update\"} withReset={this.getRecordId() == null} />\r\n                        }\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const LinkDetailMeetingNote = (props) => {\r\n    const note_id = props.note_id;\r\n    return (\r\n        <div style={{ marginBottom: '20px' }}>\r\n            <Link to={\"/meetingnote/\" + props.note_id} className=\"button is-info\">\r\n                <span className=\"icon\">\r\n                    <i className=\"fas fa-clipboard\"></i>\r\n                </span>\r\n                <span>Detail Notulensi</span>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus\r\n    }\r\n}\r\nexport default withRouter(\r\n    connect(mapStateToProps)(DiscussionTopicsForm));","\r\nimport React, { Component } from 'react';\r\n\r\nimport { Route, Switch, withRouter, Redirect, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport BaseComponent, { CommonTitle } from '../../BaseComponent';\r\nimport Message from '../../messages/Message';\r\nimport * as formComponent from '../../forms/commons';\r\nimport Card from '../../container/Card';\r\nimport { SubmitResetButton } from '../../forms/commons';\r\nimport { LabelField } from '../../forms/commons';\r\nimport { dateStringDayMonthYearFromText } from '../../../utils/DateUtil';\r\nimport IssuesService from '../../../services/IssuesService';\r\nimport DiscussionTopicsService from './../../../services/DiscussionTopicsService';\r\nimport { LinkDetailMeetingNote } from './DiscussionTopicsForm';\r\nimport { AnchorWithIcon, AttachmentLink } from '../../buttons/buttons';\r\nimport ClosedStatus from './../../messages/ClosedStatus';\r\n\r\nconst FORM_ID = \"form-input-discussion-action\";\r\nclass DiscussionActionForm extends BaseComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recordNotFound: false,\r\n            isLoadingRecord: true,\r\n            showDetailDiscussionTopic: true,\r\n        }\r\n        this.discussionTopic = {};\r\n        this.discussionTopicSerivce = DiscussionTopicsService.instance;\r\n        this.getRecordId = () => {\r\n            return this.props.match.params.id;\r\n        }\r\n        this.hideDetailIssue = () => {\r\n            this.setState({showDetailDiscussionTopic:false});\r\n        }\r\n        this.showDetailDiscussionTopic = () => {\r\n            this.setState({showDetailDiscussionTopic:true});\r\n        }\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Submit Data?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    app.fillDataAndStore(form);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.fillDataAndStore = (form) => {\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n\r\n            const action = {\r\n                topic_id : this.discussionTopic.id\r\n            };\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (null != element.value && \"\" != element.value) {\r\n                    action[element.name] = element.value;\r\n                }\r\n            }\r\n\r\n            console.debug(\"issue action>>\", action);\r\n            this.storeAction(action);\r\n\r\n        }\r\n\r\n        this.handleSuccessSubmit = (response) => {\r\n            this.discussionTopic.action = response.discussion_action;\r\n            this.discussionTopic.is_closed = true;\r\n            this.showInfo(\"SUCCESS\");\r\n            try {\r\n                if (this.getRecordId() == null) {\r\n                    document.getElementById(FORM_ID).reset();\r\n                }\r\n            } catch (error) { }\r\n        }\r\n        this.handleErrorSubmit = (error) => {\r\n            this.showError(\"handleErrorSubmit: \" + error);\r\n        }\r\n        this.handleErrorGetRecord = (error) => {\r\n            console.error(error);\r\n            this.setState({ recordNotFound: true })\r\n        }\r\n\r\n        this.handleSuccessGetRecord = (response) => {\r\n            this.discussionTopic = response.discussion_topic;\r\n            this.setState({ isLoadingRecord: false, recordNotFound: false });\r\n        }\r\n\r\n        // ajax calls\r\n\r\n        this.storeAction = (action) => {\r\n            this.commonAjax(this.discussionTopicSerivce.storeAction, action,\r\n                this.handleSuccessSubmit, this.handleErrorSubmit);\r\n        }\r\n        this.loadRecord = () => {\r\n            this.commonAjax(this.discussionTopicSerivce.view, this.getRecordId(),\r\n                this.handleSuccessGetRecord, this.handleErrorGetRecord);\r\n        }\r\n        this.isClosed = () => {\r\n            return this.getRecordId() != null && this.discussionTopic != null && this.discussionTopic.is_closed == true;\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.validateLoginStatus()){\r\n            return;\r\n        }\r\n        document.title = \"Konfirmasi Tema Pembahasan\";\r\n        if (this.getRecordId() == null) {\r\n            this.backToLogin();\r\n        }\r\n        this.loadRecord();\r\n    }\r\n \r\n    render() {\r\n        \r\n        const loggedUser = this.props.loggedUser;\r\n        if (null == loggedUser) {\r\n            return null;\r\n        }\r\n        \r\n        const title = this.title(\"Penyelesaian/Pelaksanaan Keputusan\");\r\n        if (this.state.recordNotFound) {\r\n            return <div>{title}<Message className=\"is-danger\" body=\"Record Not Found\" /></div>\r\n        }\r\n\r\n        if (this.state.isLoadingRecord) {\r\n            return <div>{title}<h3>Please Wait...</h3></div>\r\n        }\r\n        const isClosed = this.discussionTopic.is_closed;\r\n        return (\r\n            <div>\r\n                {title}\r\n                <Card title=\"Detail Tema Pembahasan\">\r\n                    <ClosedStatus closed={isClosed} />\r\n                    <LinkDetailMeetingNote note_id={this.discussionTopic.note_id} />\r\n                    {this.state.showDetailDiscussionTopic? \r\n                    <article style={{ marginBottom: '10px' }} className=\"is-info\">\r\n                        <div className=\"message-header has-background-link\">\r\n                            <p>Detail Tema Pembahasan</p>\r\n                            <button onClick={this.hideDetailIssue} className=\"delete\" aria-label=\"delete\"></button>\r\n                        </div>\r\n                        <div className=\"message-body has-background-light\">\r\n                        <LabelField label=\"Waktu\">\r\n                                <p>{dateStringDayMonthYearFromText(this.discussionTopic.date)}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Bidang\">\r\n                                <p>{this.discussionTopic.departement.name}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Pembahasan\">\r\n                                <p>{this.discussionTopic.content}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Keputusan\">\r\n                                <p>{this.discussionTopic.decision}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Deadline\">\r\n                                <p>{dateStringDayMonthYearFromText(this.discussionTopic.deadline_date)}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Penganggung Jawab\">\r\n                                <p>{this.discussionTopic.person_in_charge}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Attachment\">\r\n                                <AttachmentLink show={this.discussionTopic.attachment!=null} showExtension={true} to={\"upload/topic/\"+this.discussionTopic.attachment} />\r\n                            </LabelField>\r\n\r\n                        </div>\r\n                    </article>\r\n                    :\r\n                    <AnchorWithIcon onClick={this.showDetailDiscussionTopic} iconClassName=\"fas fa-angle-down\">\r\n                        Detail Tema Pembahasan\r\n                    </AnchorWithIcon>\r\n                    }\r\n                </Card>\r\n                <Card title=\"Penyelesaian/Pelaksanaan Keputusan\">\r\n                    {this.discussionTopic.action == null ?\r\n                    <form id={FORM_ID} onSubmit={this.onSubmit}>\r\n                            <formComponent.InputField required={true} label=\"Tanggal\" name=\"date\" type=\"date\" />\r\n                            <formComponent.InputField required={true} label=\"Keterangan\" name=\"description\" type=\"textarea\" />\r\n                            <SubmitResetButton submitText={\"Submit\"} withReset={true} />\r\n                    </form>\r\n                    :\r\n                    <article style={{ marginBottom: '10px' }} className=\"is-info\">\r\n                        <div className=\"message-header has-background-link\">\r\n                            <p>Detail Tindak Lanjut</p>\r\n                        </div>\r\n                        <div className=\"message-body has-background-light\">\r\n                            <LabelField label=\"Tanggal\">\r\n                                <p>{this.discussionTopic.action.date}</p>\r\n                            </LabelField>\r\n                            <LabelField label=\"Keterangan\">\r\n                                <p>{this.discussionTopic.action.description}</p>\r\n                            </LabelField>\r\n                        </div>\r\n                    </article>\r\n                    }\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n \r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    //   getissues: (request, app) => dispatch(actions.issuesAction.list(request, app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(DiscussionActionForm));","import React, { Component } from 'react';\r\nimport { Route, Switch, withRouter, Redirect, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport Card from '../../container/Card';\r\nimport BaseManagementPage from '../management/BaseManagementPage';\r\nimport NavButtons from '../../buttons/NavButtons';\r\nimport Columns from '../../container/Columns';\r\nimport { TableHeadWithFilter, ButtonApplyResetFilter } from '../../forms/commons';\r\nimport { getDiffDaysToNow } from '../../../utils/DateUtil';\r\nimport MeetingNoteSerivce from './../../../services/MeetingNoteSerivce';\r\n\r\nclass MeetingNoteList extends BaseManagementPage {\r\n    constructor(props) {\r\n        super(props, \"Notulensi\", \"notes\");\r\n        this.state = {}\r\n        this.meetingNoteService = MeetingNoteSerivce.instance;\r\n\r\n        //override\r\n        this.deleteRecord = (id) => { }\r\n    }\r\n\r\n    loadRecords = () => {\r\n\r\n        this.readInputForm();\r\n        const request = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n            orderBy: this.orderBy,\r\n            orderType: this.orderType,\r\n            fieldsFilter: this.fieldsFilter\r\n        };\r\n\r\n        this.commonAjax(this.meetingNoteService.list, request, this.successLoaded, this.errorLoaded);\r\n    }\r\n\r\n    createNavButton() {\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n        if (null == recordData) {\r\n            return <></>\r\n        }\r\n        return <NavButtons onClick={this.loadRecordByPage} limit={this.limit}\r\n            totalData={recordData.count} activeIndex={this.page} />\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.validateLoginStatus()) {\r\n            return;\r\n        }\r\n        this.loadRecords();\r\n        document.title = \"Riwayat Notulensi\";\r\n    }\r\n\r\n    //override baseAdminPage\r\n    componentDidUpdate() {\r\n        if (this.props.loginStatus == false || this.isLoggedUserNull()) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (null == this.props.loggedUser) {\r\n            return null;\r\n        }\r\n        const navButtons = this.createNavButton();\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n        const recordList = recordData == null ||\r\n            recordData.result_list == null ? [] :\r\n            recordData.result_list;\r\n        return (\r\n            <div>\r\n                {this.title(\"Riwayat Notulensi\")}\r\n                <Card title=\"Riwayat Notulensi\">\r\n                    <LinkToFormCreate to=\"meetingnote/create\">Tambah Notulensi</LinkToFormCreate>\r\n                    <form id=\"list-form\" onSubmit={(e) => { e.preventDefault(); this.filter(e.target) }}>\r\n                        <Columns cells={[\r\n                            ButtonApplyResetFilter(), navButtons\r\n                        ]} />\r\n                        <div style={{ overflow: 'scroll' }}>\r\n                            <table style={{}} className=\"table\">\r\n                                <TableHeadWithFilter\r\n                                    onButtonOrderClick={this.onButtonOrderClick}\r\n                                    headers={[\r\n                                        { text: 'No' },\r\n                                        // { text: 'id', alias: \"Id\", withFilter: true },\r\n                                        { text: 'date', alias: \"Tanggal\", withFilter: true },\r\n                                        { text: 'place', alias: \"Tempat\", withFilter: true },\r\n                                        { text: 'departement', alias: \"Bidang\", withFilter: true },\r\n                                        { text: 'user', alias: \"Notulis\", withFilter: true },\r\n                                        { text: 'discussion_topics_count', alias:\"Jml Topik\", withFilter:true},\r\n                                        { text: 'discussion_topics_closed_count', alias:\"closed\", withFilter:true},\r\n                                        { text: 'action', },\r\n                                    ]} />\r\n                                <tbody>\r\n                                    {recordList.map((item, i) => {\r\n                                        const indexBegin = (this.page - 1) * this.limit;\r\n                                        const deadlineDate = Date.parse(item.deadline_date);\r\n                                        const style = {};\r\n                                        try {\r\n                                            const diffDay = getDiffDaysToNow(new Date(deadlineDate));\r\n\r\n                                            if (item.is_closed == false && diffDay <= 3 && diffDay > 0) {\r\n                                                style.backgroundColor = 'orange';\r\n                                            } else if (item.is_closed == false && diffDay < 0) {\r\n                                                style.backgroundColor = 'red';\r\n                                            }\r\n                                        } catch (e) {\r\n                                            //\r\n                                        }\r\n                                        return (<tr key={\"record-meeting-note-\" + i} style={style}>\r\n                                            <td>{indexBegin + i + 1}</td>\r\n                                            <td>{item.date}</td>\r\n                                            <td>{item.place}</td>\r\n                                            <td>{item.departement ? item.departement.name : \"-\"}</td>\r\n                                            <td>{item.user ? item.user.name : \"-\"}</td>\r\n                                            <td>{item.discussion_topics_count}</td>\r\n                                            <td>{item.discussion_topics_closed_count}</td>\r\n                                            <td><LinkEditPage id={item.id} /></td>\r\n                                        </tr>)\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const LinkToFormCreate = (props) => {\r\n    return (\r\n        <Link to={props.to} className=\"button is-primary\" style={{ marginBottom: '10px' }}>\r\n            <span className=\"icon\">\r\n                <i className=\"fas fa-plus\"></i>\r\n            </span>\r\n            <span>{props.children}</span>\r\n        </Link>\r\n    )\r\n}\r\n\r\nconst LinkEditPage = (props) => {\r\n    return (\r\n        <Link to={\"/meetingnote/\" + props.id} className=\"button is-small\" >\r\n            <i className=\"fas fa-edit\"></i>\r\n        </Link>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n    return {\r\n        loggedUser: state.userState.loggedUser,\r\n        loginStatus: state.userState.loginStatus,\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    //   getMeetingNotes: (request, app) => dispatch(actions.meetingNotesAction.list(request, app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(MeetingNoteList));","import React, { Component } from 'react';\r\nimport { Route, Switch, withRouter, Redirect, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport Card from '../../container/Card';\r\nimport BaseManagementPage from '../management/BaseManagementPage';\r\nimport NavButtons from '../../buttons/NavButtons';\r\nimport Columns from '../../container/Columns';\r\nimport { TableHeadWithFilter, ButtonApplyResetFilter } from '../../forms/commons';\r\nimport IssuesService from '../../../services/IssuesService';\r\nimport DiscussionTopicsService from './../../../services/DiscussionTopicsService';\r\nimport { getDiffDaysToNow } from './../../../utils/DateUtil';\r\nimport { CommonTitle, mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport { LinkToFormCreate } from './../meetingnotes/MeetingNoteList';\r\nimport { AttachmentLink } from '../../buttons/buttons';\r\nimport { ClosedInfoTag } from '../meetingnotes/componentHelper';\r\n// const title = \"Daftar Tema Pembahasan\";\r\nconst title = \"Daftar Topik\";\r\n        \r\nclass DiscussionTopicsList extends BaseManagementPage {\r\n    constructor(props) {\r\n        super(props, \"Topik Pembahasan\", \"discussiontopic\");\r\n        this.state = {}\r\n        this.discussionTopicService = DiscussionTopicsService.instance;\r\n\r\n        //override\r\n        this.deleteRecord = (id) => {\r\n            // this.commonAjax(\r\n            //     this.discussionTopicService.delete,\r\n            //     id,\r\n            //     this.onSuccessDelete,\r\n            //     this.onErrorDelete\r\n            // )\r\n        }\r\n    }\r\n\r\n    loadRecords = () => {\r\n\r\n        this.readInputForm();\r\n        const request = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n            orderBy: this.orderBy,\r\n            orderType: this.orderType,\r\n            fieldsFilter: this.fieldsFilter\r\n        };\r\n\r\n        this.commonAjax(this.discussionTopicService.list, request, this.successLoaded, this.errorLoaded);\r\n    }\r\n\r\n    createNavButton() {\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n\r\n        if (null == recordData) {\r\n            return <></>\r\n        }\r\n        return <NavButtons onClick={this.loadRecordByPage} limit={this.limit}\r\n            totalData={recordData.count} activeIndex={this.page} />\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.validateLoginStatus()) {\r\n            return;\r\n        }\r\n        this.loadRecords();\r\n        document.title = title;\r\n    }\r\n\r\n    //override baseAdminPage\r\n    componentDidUpdate() {\r\n        if (this.props.loginStatus == false || this.isLoggedUserNull()) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (null == this.props.loggedUser) {\r\n            return null;\r\n        }\r\n        const navButtons = this.createNavButton();\r\n        const recordData = this.recordData != null ? this.recordData : null;\r\n        const recordList = recordData == null ||\r\n            recordData.result_list == null ? [] :\r\n            recordData.result_list;\r\n        return (\r\n            <div>\r\n                <CommonTitle>{title}</CommonTitle>\r\n                <Card title={title}>\r\n                <LinkToFormCreate to=\"meetingnote/create\">Tambah Notulensi</LinkToFormCreate>\r\n                    <form id=\"list-form\" onSubmit={(e) => { e.preventDefault(); this.filter(e.target) }}>\r\n                        <Columns cells={[\r\n                            ButtonApplyResetFilter(), navButtons\r\n                        ]} />\r\n                        <div style={{ overflow: 'scroll' }}>\r\n                            <table className=\"table\">\r\n                                <TableHeadWithFilter\r\n                                    onButtonOrderClick={this.onButtonOrderClick}\r\n                                    headers={[\r\n                                        { text: 'No' },\r\n                                        // { text: 'id', alias: \"Id\", withFilter: true },\r\n                                        // { text: 'date', alias: \"Tanggal\", withFilter: true },\r\n                                        { text: 'content', alias: \"Topik\", withFilter: true },\r\n                                        // { text: 'decision', alias: \"Keputusan\", withFilter: true },\r\n                                        { text: 'person_in_charge', alias: \"PIC\", withFilter: true },\r\n                                        { text: 'deadline_date', alias: \"Deadline\", withFilter: true },\r\n                                        // { text: 'departement', alias: \"Bidang\", withFilter: true },\r\n                                        { text: 'is_closed', alias: 'Status', withFilter: true },\r\n                                        // { text: 'closed_date', alias: 'Closed', withFilter: true },\r\n                                        { text: 'attachment', withFilter: true },\r\n                                        { text: 'action' },\r\n                                        { text: 'opsi' },\r\n                                    ]} />\r\n                                <tbody>\r\n                                    {recordList.map((item, i) => {\r\n                                        const indexBegin = (this.page - 1) * this.limit;\r\n                                        const deadlineDate = Date.parse(item.deadline_date);\r\n                                        const style = {};\r\n                                        try {\r\n                                            const diffDay = getDiffDaysToNow(new Date(deadlineDate));\r\n                                            if (item.is_closed == false && diffDay <= 3 && diffDay > 0) {\r\n                                                style.backgroundColor = 'orange';\r\n                                            } else if (item.is_closed == false && diffDay < 0) {\r\n                                                style.backgroundColor = 'red';\r\n                                            }\r\n                                        } catch (e) {\r\n                                            //\r\n                                        }\r\n                                        return (<tr key={\"record_\" + i} style={style}>\r\n                                            <td>{indexBegin + i + 1}</td>\r\n                                            {/* <td>{item.id}</td> */}\r\n                                            {/* <td>{item.date}</td> */}\r\n                                            <td>{item.content && item.content.length > 10 ? item.content.substring(0, 10) + '...' : item.content}</td>\r\n                                            {/* <td>{item.decision && item.decision.length > 10 ? item.decision.substring(0, 10) + '...' : item.decision}</td> */}\r\n                                            <td>{item.person_in_charge}</td>\r\n                                             <td>{item.deadline_date}</td>\r\n                                            {/* <td>{item.departement.name}</td> */}\r\n                                            <td><ClosedInfoTag closed={item.is_closed}/></td>\r\n                                            {/* <td>\r\n                                                {item.closed_date}\r\n                                            </td> */}\r\n                                            <td><AttachmentLink showExtension={true} show={item.attachment!=null} to={\"upload/topic/\"+item.attachment}/></td>\r\n                                            <td style={{width:'150px', display: 'block', border:'none'}}><LinkEditAndAction id={item.id} /></td>\r\n                                            <td style={{border: 'none'}}>\r\n                                                <Link to={\"/meetingnote/\" + item.note_id} className=\"button is-light is-small\">\r\n                                                    <span className=\"icon\">\r\n                                                        <i className=\"fas fa-clipboard\" />\r\n                                                    </span>\r\n                                                    <span>Notulensi</span>\r\n                                                </Link>\r\n                                            </td>\r\n                                        </tr>)\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst LinkEditAndAction = (props) => {\r\n    return (<div>\r\n            <Link style={{display:'inline-block'}} to={\"/discussiontopics/\" + props.id} className=\"button is-small\" >\r\n                <i className=\"fas fa-edit\"></i>\r\n            </Link>\r\n            <Link style={{display:'inline-block'}} to={\"/discussiontopics/\" + props.id + \"/action\"} className=\"button is-primary is-small\" >\r\n                <i className=\"fas fa-location-arrow\"></i>\r\n            </Link>\r\n        </div>)\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(DiscussionTopicsList));","import React, { Component } from 'react';\r\nimport { CommonTitle } from '../../BaseComponent';\r\n\r\nexport default class NotFound extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Not Found\";\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                {/* <CommonTitle>404 Not Found</CommonTitle> */}\r\n                <article class=\"message is-warning\">\r\n                    <div class=\"message-header\">\r\n                        <p>404 Not Found</p>\r\n                        <button class=\"delete\" aria-label=\"delete\"></button>\r\n                    </div>\r\n                    <div class=\"message-body\">\r\n                        Halaman tidak ditemukan\r\n  </div>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class CaptCha extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.canvas_id = \"captcha_canvas_\" + new Date().getTime();\r\n    }\r\n    getCaptchaText() {\r\n        const captcha = this.props.captcha;\r\n        const text = captcha.firstNumber + \" \" + captcha.operator + \" \" + captcha.secordNumber;\r\n        return text;\r\n    }\r\n    drawCanvas() {\r\n        const canvas = document.getElementById(this.canvas_id);\r\n        const context = canvas.getContext('2d');\r\n\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        context.fillStyle = '#000';\r\n        context.font = '70px Arial';\r\n        context.fillText(this.getCaptchaText(), 10, 50);\r\n    }\r\n    componentDidUpdate() {\r\n        this.drawCanvas();\r\n    }\r\n    componentDidMount() {\r\n        this.drawCanvas();\r\n    }\r\n    render() {\r\n        const captcha = this.props.captcha;\r\n        return (\r\n\r\n            <article style={{ width: '100%' }} className=\"message \">\r\n                <div className=\"message-header has-background-grey-lighter\">\r\n                    <p className=\"has-text-dark\">Captcha</p>\r\n                    <a onClick={this.props.reset} className=\"button\"><i className=\"fas fa-sync\" /></a>\r\n                </div>\r\n                <div className=\"message-body has-background-light\">\r\n                    <canvas id={this.canvas_id} className=\"has-background-light\" style={{ width: '100px', height: 'auto' }} />\r\n                    <input className=\"input\" name=\"captcha_result\" required />\r\n                </div>\r\n            </article>\r\n        );\r\n    }\r\n}\r\n\r\n","\r\nimport React, { Component } from 'react';\r\nimport BaseComponent, { mapCommonUserStateToProps } from '../../BaseComponent';\r\nimport Card from '../../container/Card';\r\nimport { InputField, SubmitResetButton, LabelField } from '../../forms/commons';\r\nimport { issue_sources } from './IssuesForm';\r\nimport { SelectField } from './../../forms/commons';\r\nimport IssuesService from './../../../services/IssuesService';\r\nimport { AnchorWithIcon } from './../../buttons/buttons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { applicationAction } from '../../../redux/actions/actionCreators';\r\nimport { DATA_KEY_DEPARTEMENTS } from './../../../constant/ApplicationDataKeys';\r\nimport { toBase64v2, getAttachmentData } from './../../../utils/ComponentUtil';\r\nimport CaptCha from './CaptCha';\r\nconst ADDITION = \"+\";\r\nconst SUBSTRACTION = \"-\";\r\nclass IssueFormPublic extends BaseComponent {\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            ...this.state,\r\n            captchaUpdate: new Date(),\r\n            recordSave: false,\r\n        }\r\n        this.issueService = IssuesService.instance;\r\n        this.departementList = [];\r\n        this.attachmentData = null;\r\n        this.captcha = {\r\n            firstNumber: 1,\r\n            secordNumber: 2,\r\n            operator: ADDITION,\r\n            updatedAt: new Date()\r\n        };\r\n\r\n        this.updateAttachmentData = (e) => {\r\n            const app = this;\r\n            getAttachmentData(e.target).then(function(data){\r\n                app.attachmentData = data;\r\n            }).catch(console.error);\r\n        }\r\n\r\n        this.resetCaptcha = () => {\r\n            this.captcha.firstNumber = Math.floor(Math.random() * 10) + 1;\r\n            this.captcha.secordNumber = Math.floor(Math.random() * 10) + 1;\r\n            this.captcha.operator = this.captcha.firstNumber % 2 == 0 ? ADDITION : SUBSTRACTION;\r\n            this.captcha.updatedAt = new Date();\r\n            this.setState({ captchaUpdate: this.captcha.updatedAt });\r\n        }\r\n\r\n        this.validateCaptcha = (value) => {\r\n            const number1 = this.captcha.firstNumber;\r\n            const number2 = this.captcha.secordNumber;\r\n            if (this.captcha.operator == ADDITION) {\r\n                return number1 + number2 == value;\r\n            } else if (this.captcha.operator == SUBSTRACTION) {\r\n                return number1 - number2 == value;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        this.onSubmit = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const capchaResult = document.getElementsByName(\"captcha_result\")[0].value;\r\n            const captchaValidated = this.validateCaptcha(capchaResult);\r\n            const app = this;\r\n            if (!captchaValidated) {\r\n\r\n                this.showError(\"Invalid Captcha\");\r\n                return;\r\n            }\r\n            this.showConfirmation(\"Submit Data?\").then(function (ok) {\r\n                if (ok) {\r\n                    app.fillDataAndStore(form);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.fillDataAndStore = (form) => {\r\n            const issue = {};\r\n            const inputs = form.getElementsByClassName(\"input-form-field\");\r\n            for (let i = 0; i < inputs.length; i++) {\r\n                const element = inputs[i];\r\n                if (element.name == \"attachment\") {\r\n                    issue[element.name+\"_info\"] = this.attachmentData\r\n                } else {\r\n                    issue[element.name] = element.value\r\n                }\r\n            }\r\n            console.debug(\"Issue: \", issue);\r\n            this.storeIssue(issue);\r\n        }\r\n\r\n        this.departementListLoaded = (response) => {\r\n            this.departementList = response.result_list;\r\n            this.props.storeApplicationData(DATA_KEY_DEPARTEMENTS, this.departementList);\r\n        }\r\n        this.departementListNotLoaded = (error) => {\r\n            const app = this;\r\n            this.showConfirmationDanger(\"Error loading data.. please try or reload the page\")\r\n                .then(function (ok) {\r\n                    if (ok) {\r\n                        app.loadDepartements();\r\n                    }\r\n                })\r\n        }\r\n\r\n        this.recordSaved = (response) => {\r\n            this.resetCaptcha();\r\n            this.setState({ recordSaved: true });\r\n            this.attachmentData = null;\r\n        }\r\n\r\n        this.recordFailedToSave = (e) => {\r\n            this.showError(\"Gagal menyimpan aduan: \" + e + \" Silakan muat ulang halaman dan coba lagi\");\r\n        }\r\n\r\n        this.loadDepartements = () => {\r\n            const appData = this.props.applicationData;\r\n            if (appData[DATA_KEY_DEPARTEMENTS] == null ||\r\n                appData[DATA_KEY_DEPARTEMENTS].length == 0) {\r\n\r\n                this.commonAjax(\r\n                    this.issueService.departementList, {},\r\n                    this.departementListLoaded,\r\n                    this.departementListNotLoaded\r\n                );\r\n            } else {\r\n                this.departementList = appData[DATA_KEY_DEPARTEMENTS];\r\n                this.refresh();\r\n            }\r\n        }\r\n\r\n        this.storeIssue = (issue) => {\r\n            this.commonAjax(\r\n                this.issueService.storePublicIssue, issue,\r\n                this.recordSaved,\r\n                this.recordFailedToSave\r\n            );\r\n        }\r\n\r\n        this.showForm = () => {\r\n            this.setState({ recordSaved: false });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Aduan Publik\";\r\n        this.loadDepartements();\r\n        this.resetCaptcha();\r\n    }\r\n\r\n    componentDidUpdate() { }\r\n\r\n    render() {\r\n        const title = this.title(\"Form Aduan Publik\");\r\n        if (this.state.recordSaved == true) {\r\n\r\n            return (\r\n                <div>\r\n                    {title}\r\n                    <div className=\"box has-text-success\" style={{ textAlign: 'center', margin: '10px' }}>\r\n                        <span className=\"icon\" style={{ fontSize: '4em', marginTop: '30px' }}><i className=\"fas fa-check\" /></span>\r\n                        <h2>Terimakasih. Aduan Anda berhasil disimpan!</h2>\r\n                        <AnchorWithIcon iconClassName=\"fas fa-angle-right\" onClick={this.showForm} >Kirim Tanggapan Lain</AnchorWithIcon>\r\n                    </div>\r\n                </div>);\r\n        }\r\n\r\n        return (\r\n            <div >\r\n                {title}\r\n                <Card title=\"Form\">\r\n                    <form onSubmit={this.onSubmit}>\r\n                        <InputField name=\"date\" label=\"tanggal\" type=\"date\" required={true} />\r\n                        <InputField name=\"place\" label=\"tempat\" required={true} />\r\n                        <InputField name=\"content\" label=\"permasalahan\" type=\"textarea\" required={true} />\r\n                        <InputField name=\"email\" type=\"email\" note=\"Kosongkan jika berstatus anonim\" />\r\n                        <SelectField label=\"pengadu\" options={issue_sources.map(source => {\r\n                            return { value: source, text: source };\r\n                        })} name=\"issuer\" required={true} />\r\n                        <SelectField label=\"bidang\" options={this.departementList.map(item => {\r\n                            return { value: item.id, text: item.name };\r\n                        })} name=\"departement_id\" required={true} />\r\n                        <InputField name=\"attachment\" attributes={{accept:'image/*', onChange:this.updateAttachmentData}} type=\"file\" note=\"Kosongkan jika tidak ada dokumen\" />\r\n                        <LabelField label=\"Verifikasi\">\r\n                            <CaptCha reset={this.resetCaptcha} captcha={this.captcha} />\r\n                        </LabelField>\r\n                        <SubmitResetButton />\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n    storeApplicationData: (code, data) => dispatch(applicationAction.storeApplicationData(code, data)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(IssueFormPublic));","\r\nimport React, { Component } from 'react';\r\n\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\nimport Login from '../pages/Login';\r\nimport Dashboard from '../pages/dashboard/Dashboard';\r\nimport ManagementMenu from './../pages/management/ManagementMenu';\r\nimport UsersManagement from '../pages/management/UsersManagement';\r\nimport DepartementManagement from '../pages/management/DepartementManagement';\r\nimport UsersManagementForm from '../pages/management/UsersManagementForm';\r\nimport DepartementManagementForm from '../pages/management/DepartementManagementForm';\r\nimport MeetingNoteForm from '../pages/meetingnotes/MeetingNoteForm';\r\nimport Profile from '../pages/Profile';\r\nimport IssuesList from '../pages/issues/IssuesList';\r\nimport IssuesForm from '../pages/issues/IssuesForm';\r\nimport IssuesFollowingUpForm from '../pages/issues/IssuesFollowingUpForm';\r\nimport DiscussionActionForm from '../pages/discussiontopics/DiscussionActionForm';\r\nimport DiscussionTopicsForm from '../pages/discussiontopics/DiscussionTopicsForm';\r\nimport DiscussionTopicsList from '../pages/discussiontopics/DiscussionTopicsList';\r\nimport MeetingNoteList from '../pages/meetingnotes/MeetingNoteList';\r\nimport NotFound from './../pages/errors/NotFound';\r\nimport IssueFormPublic from './../pages/issues/IssueFormPublic';\r\nimport { connect } from 'react-redux';\r\nimport BaseComponent from './../BaseComponent';\r\n\r\nclass Content extends Component {\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"content\">\r\n        <div style={{ height: '20px' }}></div>\r\n        <Switch>\r\n          <Route exact={true} path=\"/\" render={\r\n            (props) =>\r\n              <Home />\r\n          } />\r\n          <Route path=\"/home\" render={\r\n            (props) =>\r\n              <Home />\r\n          } />\r\n          <Route path=\"/dashboard\" render={\r\n            (props) =>\r\n              <Dashboard app={this.props.app} />\r\n          } />\r\n          {/* ========= meeting notes ========= */}\r\n          <Route exact path=\"/meetingnote/create\" render={\r\n            (props) =>\r\n              <MeetingNoteForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/meetingnote\" render={\r\n            (props) =>\r\n              <MeetingNoteList app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/meetingnote/:id\" render={\r\n            (props) =>\r\n              <MeetingNoteForm app={this.props.app} />\r\n          } />\r\n          {/* ======== issues ========= */}\r\n          <Route exact path=\"/issues\" render={\r\n            (props) =>\r\n              <IssuesList app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/issues/create\" render={\r\n            (props) =>\r\n              <IssuesForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/issues/:id\" render={\r\n            (props) =>\r\n              <IssuesForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/issues-public\" render={\r\n            (props) => <IssueFormPublic app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/issues/:id/followup\" render={\r\n            (props) =>\r\n              <IssuesFollowingUpForm app={this.props.app} />\r\n          } />\r\n          {/* ======== discussiontopics ========= */}\r\n          <Route exact path=\"/discussiontopics\" render={\r\n            (props) =>\r\n              <DiscussionTopicsList app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/discussiontopics/:id\" render={\r\n            (props) =>\r\n              <DiscussionTopicsForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/discussiontopics/:id/action\" render={\r\n            (props) =>\r\n              <DiscussionActionForm app={this.props.app} />\r\n          } />\r\n          {/* ========= management ========== */}\r\n          <Route exact path=\"/management\" render={\r\n            (props) =>\r\n              <ManagementMenu app={this.props.app} />\r\n          } />\r\n\r\n          {/* ============== users management ============= */}\r\n          <Route exact path=\"/management/users\" render={\r\n            (props) =>\r\n              <UsersManagement app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/management/users/create\" render={\r\n            (props) =>\r\n              <UsersManagementForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/management/users/:id\" render={\r\n            (props) =>\r\n              <UsersManagementForm app={this.props.app} />\r\n          } />\r\n          {/* ================ departements management ============= */}\r\n          <Route exact path=\"/management/departements\" render={\r\n            (props) =>\r\n              <DepartementManagement app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/management/departements/create\" render={\r\n            (props) =>\r\n              <DepartementManagementForm app={this.props.app} />\r\n          } />\r\n          <Route exact path=\"/management/departements/:id\" render={\r\n            (props) =>\r\n              <DepartementManagementForm app={this.props.app} />\r\n          } />\r\n          <Route path=\"/login\" render={\r\n            (props) => <Login app={this.props.app} />\r\n          } />\r\n          {/* ///////////authenticated//////////// */}\r\n          <Route exact path=\"/profile\" render={\r\n            (props) =>\r\n              <Profile app={this.props.app} />\r\n          } />\r\n\r\n          {/* ////////////404///////////////// */}\r\n          <Route path=\"\" component={NotFound} />\r\n        </Switch></div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Home = (props) => {\r\n  document.title = \"Home\";\r\n  return <div className=\"has-text-centered\">\r\n    <img src=\"kiis-stroke.png\" width=\"200\"  />\r\n    <h2>Kafila Console</h2>\r\n    \r\n  </div>\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  //console.log(state);\r\n  return {\r\n      //user\r\n      loginStatus: state.userState.loginStatus,\r\n      loggedUser: state.userState.loggedUser,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  \r\n})\r\n\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Content))","\r\nimport React, { Component } from 'react';\r\nimport './Loader.css';\r\n\r\nexport default class Loader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      opacity: 1,\r\n      show: true\r\n    }\r\n   \r\n  }\r\n\r\n  componentDidUpdate() {\r\n   \r\n  }\r\n\r\n\r\n  render() {\r\n    if (this.props.show == false) {\r\n      return null;\r\n    }\r\n    return (\r\n      // <div style={{width:'100%', height:'50px',  color:'#ccc', textAlign:'center'}}>\r\n        <div style={{position:'fixed', zIndex:10000, color: '#ccc'}}>\r\n          <div className=\"columns\" style={{width:'min-content'}}>\r\n          <div className=\"column\">\r\n            <div className=\"lds-ring\"  ><div></div><div></div><div></div><div></div></div> \r\n          </div>\r\n          <div className=\"column\"><span style={{fontSize:'2em'}}>Loading</span></div>\r\n          </div>\r\n        </div>\r\n      // </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'; \r\n\r\nimport BaseMenus from './BaseMenus';\r\nimport { MENUS } from './../../constant/Menus';\r\nimport { mapCommonUserStateToProps } from '../BaseComponent';\r\n\r\nclass SideBar extends BaseMenus {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div  >\r\n                <ProfileAvatar show={this.isLoggedUserNull()==false} user={this.getLoggedUser()}/>\r\n                <aside className=\"menu\">\r\n                    {MENUS.map((menu, i) => {\r\n                        const childs = this.extractChildren(menu.children);\r\n                        if (childs == null || childs.length == 0) { return null; }\r\n                        const isMenuListShown = this.isMenuListShown(menu.name);\r\n                        const iconClassName = isMenuListShown ? \"fas fa-angle-up\" : \"fas fa-angle-down\";\r\n\r\n                        return (\r\n                            <React.Fragment key={\"menu_\" + menu.name}>\r\n                                <p key={menu.name} menu-name={menu.name} onClick={this.toggleMenuList} className=\"menu-label\">\r\n                                    <i style={{ marginRight: '10px' }} className={iconClassName} />\r\n                                    {menu.name}\r\n                                </p>\r\n                                {isMenuListShown ?\r\n                                    <ul className=\"menu-list\">\r\n                                        {childs.map((menuChild, j) => {\r\n                                            return (<li key={\"sidebar-menu-child-\" + i + \"-\" + j}>\r\n                                                <Link to={menuChild.link}>\r\n                                                    <span className=\"icon\">\r\n                                                        <i className={menuChild.iconClassName ? menuChild.iconClassName : \"fas fa-folder\"} />\r\n                                                    </span>\r\n                                                    <span>\r\n                                                        {menuChild.name}\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </li>)\r\n                                        })}\r\n                                    </ul>\r\n                                    : null}\r\n                            </React.Fragment>\r\n                        )\r\n                    })}\r\n                </aside>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst ProfileAvatar = (props) => {\r\n    if (props.show == false) {\r\n        return null;\r\n    }\r\n    const user = props.user;\r\n    return (\r\n        <div className=\"has-text-centered has-text-info\" style={{paddingTop:'20px', paddingBottom:'20px'}}>\r\n            <span className=\"icon\" style={{fontSize:'3em'}}>\r\n                <Link to=\"/profile\"><i className=\"fas fa-user-circle\" /></Link>\r\n            </span>\r\n            <h2>{user.display_name}</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    // performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapCommonUserStateToProps,\r\n    mapDispatchToProps\r\n)(SideBar))\r\n\r\n","\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport { Route, Switch, withRouter } from 'react-router-dom'\nimport * as actions from './redux/actions/actionCreators'\nimport { connect } from 'react-redux'\nimport Footer from './components/layout/Footer';\nimport Header from './components/layout/Header';\nimport Content from './components/layout/Content';\nimport Loader from './components/widget/Loader';\nimport Alert from './components/messages/Alert';\nimport SideBar from './components/layout/SideBar';\nimport './components/layout/SideBar.css';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menus: [],\n      menuCode: '',\n      loading: false,\n      loadingPercentage: 0,\n      requestId: null,\n      mainAppUpdated: new Date(),\n      showAlert: false,\n\n    };\n\n    this.alertTitle = null;\n    this.alertBody = null;\n    this.alertIsYesOnly = true;\n    this.alertIsError = false;\n    this.alertOnYesCallback = null;\n    this.alertOnCancelCallback = null;\n\n    this.loadings = 0;\n\n\n\n    this.setMenuCode = (code) => {\n      this.setState({ menuCode: code });\n    }\n\n    this.refresh = () => {\n      this.setState({ mainAppUpdated: new Date() });\n    }\n\n    this.incrementLoadings = function () {\n      this.loadings++;\n    }\n\n    this.decrementLoadings = function () {\n      this.loadings--;\n      if (this.loadings < 0) {\n        this.loadings = 0;\n      }\n    }\n\n    this.requestAppId = () => {\n      this.props.requestAppId(this);\n    }\n    this.startLoading = (realtime) => {\n      this.incrementLoadings();\n      this.setState({ loading: true, realtime: realtime });\n    }\n\n    this.endLoading = () => {\n      console.log(\"END LOADING\");\n      this.decrementLoadings();\n      if (this.loadings == 0) {\n        this.setState({ loading: false, loadingPercentage: 0 });\n      }\n    }\n\n    this.showAlertError = (title, body, yesOnly, yesCallback, noCallback) => {\n      this.alertIsError = true;\n      this.showAlert(title, body, yesOnly, yesCallback, noCallback)\n    }\n    this.showAlert = (title, body, yesOnly, yesCallback, noCallback) => {\n      this.alertTitle = title;\n      this.alertBody = body;\n      this.alertIsYesOnly = yesOnly;\n      const app = this;\n      this.alertOnYesCallback = function (e) {\n        app.dismissAlert();\n        yesCallback(e);\n      }\n      if (!yesOnly) {\n        this.alertOnCancelCallback = function (e) {\n          app.dismissAlert();\n          if (noCallback != null) {\n            noCallback(e);\n          }\n        };\n      }\n      this.setState({ showAlert: true })\n    }\n    this.dismissAlert = () => {\n      this.alertIsError = false;\n      this.setState({ showAlert: false })\n    }\n\n    this.routedContent = () => {\n      return (<>\n        <Switch>\n          <Route path=\"/home\" render={\n            (props) =>\n              <h2>HOME</h2>\n          } />\n\n          <Route path=\"/login\" render={\n            (props) => <h2>Login</h2>\n          } />\n          {/* ///////////authenticated//////////// */}\n\n        </Switch>\n\n      </>);\n    }\n\n\n  }\n\n  componentDidUpdate() {\n    if (this.props.requestId != this.state.requestId) {\n      this.setState({ requestId: this.props.requestId });\n      \n    }\n  }\n\n\n  componentDidMount() {\n    this.requestAppId();\n    this.setState({ loadingPercentage: 0 });\n  }\n\n  setMenus() {\n    const additionalMenus = this.props.menus ? this.props.menus : [];\n    const menus = new Array();\n    for (let i = 0; i < additionalMenus.length; i++) {\n\n      const menu = additionalMenus[i];\n      const isNotAuthenticated = this.props.loginStatus != true && menu.authenticated == true;\n      const isShoppingDisabled = !this.state.enableShopping && menu.code == 'cart';\n\n      if (isNotAuthenticated) { continue; }\n      if (isShoppingDisabled) { continue; }\n\n      menus.push(menu);\n    }\n\n    return menus;\n\n  }\n\n  render() {\n\n    if (!this.props.requestId) {\n      return (<Loader show={true} />)\n    }\n    return (\n      <div className=\"App\">\n        {this.state.showAlert ?\n          <Alert\n            isError={this.alertIsError}\n            yesOnly={this.alertIsYesOnly}\n            title={this.alertTitle}\n            onYes={this.alertOnYesCallback} onNo={this.alertOnCancelCallback}\n          >{this.alertBody}</Alert> :\n          null}\n        <Header app={this} />\n        <section style={{ minHeight: '70vh' }}>\n          <div >\n            <Loader show={this.state.loading} />\n          </div>\n          <div className=\"columns\" style={{ minHeight: '70vh', marginBottom: '1px' }}>\n            <div style={{ paddingTop: '20px', paddingLeft: '20px', borderRight:'solid 2px #ccc' }}\n              className=\"menu-container column is-one-fifth has-background-water-ter\">\n              \n                <SideBar app={this} />\n               \n            </div>\n            <div className=\"column is-four-fifths\">\n\n              <Content app={this} />\n            </div>\n          </div>\n        </section>\n        <Footer />\n\n      </div>\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = state => {\n  //console.log(state);\n  return {\n\n    //user\n    loginStatus: state.userState.loginStatus,\n    requestId: state.userState.requestId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\n  requestAppId: (app) => dispatch(actions.accountAction.requestAppId(app)),\n})\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App))\n","import * as types from './types' \r\nimport * as menuData from '../constant/Menus'\r\nimport { setCookie } from '../middlewares/Common';\r\nimport { setApiToken } from './../middlewares/Common';\r\n\r\nexport const initState = {\r\n    loginKey: null,\r\n    loginStatus: false,\r\n    loginFailed: false, \r\n    loggedUser: null,\r\n    loginAttempt: false,\r\n    requestId: null,\r\n    lastLoginAttempt:new Date(),\r\n    applicationProfile: {},\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n    let result = {};\r\n    /*\r\n        ========setting menu========\r\n    */\r\n    switch (action.type) {\r\n        case types.REQUEST_ID:\r\n           result = { ...state, \r\n                requestId: action.payload.requestId, \r\n                applicationProfile: action.payload.applicationProfile };\r\n            \r\n            if (action.payload.loginStatus != true) {\r\n\r\n                result.loginStatus = false;\r\n                result.loggedUser = null;\r\n            } else {\r\n\r\n                if (action.payload.user) {\r\n\r\n                    result.loggedUser = action.payload.user;\r\n                    result.loginStatus = true;\r\n                    setApiToken(result.loggedUser.api_token);\r\n                }else {\r\n                    result.loginStatus = false;\r\n                    result.loggedUser = null;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        case types.DO_LOGIN:\r\n            console.debug(\"DO_LOGIN\");\r\n            if (!action.payload.loginStatus) {\r\n                return { ...state, lastLoginAttempt:new Date(), loginFailed: true }\r\n            }\r\n\r\n            console.debug(\"DO_LOGIN true \", new Date());\r\n            console.debug(\"APITOKEN: \", action.payload.loginKey);\r\n            setApiToken(action.payload.loginKey);\r\n            result = {\r\n                ...state,\r\n                lastLoginAttempt:new Date(),\r\n                loginAttempt: true,\r\n                loginStatus: true, //action.payload.loginStatus,\r\n                loginKey: action.payload.loginKey,\r\n                loginFailed: false, \r\n                loggedUser: action.payload.loggedUser\r\n            };\r\n           \r\n            \r\n            return result;\r\n        case types.DO_LOGOUT:\r\n            result = {\r\n                ...state,\r\n                loginStatus: false, \r\n                loggedUser: null\r\n            };\r\n            return result;\r\n        default:\r\n           return { ...state };\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as types from './types'\r\n\r\nexport const initState = {\r\n    applicationData: {},\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n    const result = state;\r\n    switch (action.type) {\r\n        case types.STORE_APPLICTION_DATA:\r\n            const key = action.payload.key;\r\n            const data = action.payload.data;\r\n           \r\n            result.applicationData[key] = data\r\n\r\n            return result;\r\n        case types.REMOVE_APPLICTION_DATA:\r\n            \r\n            delete result[action.payload.key];\r\n            return result;\r\n        default:\r\n            return { ...state };\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","\r\nimport * as userReducer from \"./userReducer\" \r\nimport * as applicationReducer from \"./applicationReducer\"\r\n\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport const rootReducer = combineReducers(\r\n    { \r\n        userState: userReducer.reducer, \r\n        applicationState: applicationReducer.reducer,\r\n        \r\n    }\r\n);\r\n\r\nexport const initialState = { \r\n    userState: userReducer.initState, \r\n    applicationState: applicationReducer.initState,\r\n}\r\n\r\nexport default rootReducer;","import * as common from './Common'\r\nimport * as types from '../redux/types'\r\nimport * as url from '../constant/Url'\r\nconst axios = require('axios');\r\n\r\nconst POST_METHOD = \"post\";\r\n\r\nexport const performLoginMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGIN) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n    axios.post(action.meta.url, action.payload, {headers: common.commonAuthorizedHeader()\r\n    })\r\n        .then(response => {\r\n            const responseJson = response.data;\r\n            let loginKey = responseJson.user.api_token;\r\n            let loginSuccess = true;\r\n            let newAction = Object.assign({}, action, {\r\n                payload: {\r\n                    loginStatus: loginSuccess,\r\n                    loginKey: loginKey,\r\n                    loggedUser: responseJson.user\r\n                }\r\n            });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => {\r\n            let newAction = Object.assign({}, action, { payload: {loginStatus: false }});\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .finally(param => {\r\n            app.endLoading();  \r\n        });\r\n\r\n}\r\n\r\nexport const requestAppIdMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.REQUEST_ID) { return next(action); }\r\n\r\n    let headers = common.commonAuthorizedHeader(); \r\n\r\n    // Axios.post\r\n    axios.post(action.meta.url, action.payload, {\r\n        headers: headers\r\n    }).then(response  => {\r\n            const responseJson = response.data;\r\n            \r\n            let loginKey = \"\";\r\n            let requestId = responseJson.message;\r\n            let loginStatus = false;\r\n            if (responseJson.user) {\r\n                loginKey = responseJson.user.api_token;\r\n                loginStatus = true;\r\n            }\r\n\r\n            let newAction = Object.assign({}, action, { payload: {loginStatus: true, loginKey:loginKey, requestId:requestId, ...responseJson }});\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => {\r\n            \r\n             console.error(\"ERROR Get User, will get requestId\"); \r\n             const endpoint = url.contextPath().concat(\"api/account/requestid\")\r\n            axios.get(endpoint).then(response=>{\r\n                const responseJson = response.data;\r\n                let requestId = responseJson.message;\r\n            \r\n                let newAction = Object.assign({}, action, { payload: {loginStatus: false, loginKey:null, requestId:requestId, ...responseJson }});\r\n                delete newAction.meta;\r\n                store.dispatch(newAction);\r\n            }).catch((error)=>{\r\n                alert(\"Error requesting application: \"+error+\". Try to reload the page\");\r\n            });\r\n         })\r\n        .finally(param => action.meta.app.endLoading());\r\n}\r\n\r\nexport const performLogoutMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGOUT) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n\r\n    axios.post(action.meta.url, action.payload, {\r\n        headers: common.commonAuthorizedHeader()\r\n    })\r\n        .then(response => {\r\n            const responseJson = response.data;\r\n            let logoutSuccess = false;\r\n            if (responseJson.code == \"00\") {\r\n                logoutSuccess = true;\r\n            }else{\r\n                alert(\"Logout Failed\");\r\n            }\r\n\r\n            let newAction = Object.assign({}, action, {\r\n                payload: {\r\n                    loginStatus: !logoutSuccess\r\n                }\r\n            });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => { console.log(err) })\r\n        .finally(param => app.endLoading());\r\n\r\n}","import * as types from '../redux/types'\r\n\r\n\r\nexport const storeApplicationData = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.STORE_APPLICTION_DATA) {\r\n        // console.debug(\"next: \", action)\r\n        return next(action);\r\n    }\r\n\r\n    let newAction = Object.assign({}, action, {\r\n        payload:  action.payload\r\n    });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n\r\n}\r\n\r\nexport const removeApplicationData = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.REMOVE_APPLICTION_DATA) {\r\n        return next(action);\r\n    }\r\n\r\n    let newAction = Object.assign({}, action, {\r\n        payload:  action.payload\r\n    });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n\r\n}\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { initialState, rootReducer } from './reducers'\r\nimport * as userMiddleware from '../middlewares/UserMiddleware'\r\nimport { storeApplicationData } from './../middlewares/ApplicationMiddleware';\r\n\r\nconst POST_METHOD = \"POST\";\r\n\r\nexport const configureStore = () => {\r\n    const store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(  \r\n\r\n            //user related\r\n            userMiddleware.performLoginMiddleware,\r\n            userMiddleware.performLogoutMiddleware,\r\n            userMiddleware.requestAppIdMiddleware,\r\n            //meeting notes\r\n            storeApplicationData\r\n        )\r\n    );\r\n\r\n    return store;\r\n}  \r\n\r\nexport default configureStore;","import React from 'react'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from './redux/configureStore'\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\n\r\nconst Root = (props) => {\r\n\r\n    const store = configureStore();\r\n\r\n    return (\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App />\r\n            </HashRouter>\r\n        </Provider>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Root;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}